<!DOCTYPE html>
<html>
<!--
  Bits_IterRust.html
-->
<head>
  <title>Bits_Iter Rust</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/StylesPhoto.css" />
  <link rel="stylesheet" href="css/StylesSizerComp.css" />
  <!-- PageFrame infrastructure -->
  <link rel="stylesheet" href="css/StylesPageFrameDefaults.css" />
  <link rel="stylesheet" href="css/StylesPageFrameStructure.css" />
  <link rel="stylesheet" href="css/StylesPageFrameMenus.css" />
  <link rel="stylesheet" href="css/StylesPageFrameThemeRust.css" />
  <link rel="stylesheet" href="css/StylesWebComponents.css" />
  <script src="js/ScriptsWebComponents.js"></script>
  <script src="js/ScriptsPageFrameBitsRust.js"></script>
  <script src="js/ScriptsPageFramePagesBitsRust.js"></script>
  <script src="js/ScriptsPageFrameKeyboard.js"></script>
  <link rel="stylesheet" href="css/Styles_BitsContent.css" />
  <script src="js/Scripts_BitsContent.js"></script>
  <link rel="stylesheet" href="css/StylesSplitterBar.css" />
  <script src="js/ScriptsSplitterBar.js"></script>
  <link rel="stylesheet" href="css/prism.css" />
  <script src="js/prism.js"></script>
  <!--<script src="js/ScriptsPageFrameNewRadioButtons.js"></script>-->
  <!-- <style>
     #github .note {
      border: 1px solid var(--dark);
      padding:0.75em 1.5em;
      margin-top:1.25em;
      margin-bottom:1.25em;
      background-color: var(--light);
      color: var(--dark);
      max-width:50em;
    }
    #github h2 {
      margin-top: 0.75em;
    }
    #github #pagetitle {
      border:2px double var(--dark);
    }
    #github form {
      border:none;
      padding:0.5em 1em;
    }
    #github form span {
      padding:0em 0.5em;
    }
    #github code-container {
      display: flex;
      position:relative;
      width:calc(100%);
      flex-direction: row;
      justify-content: space-between;
      /*border-top: 1px solid var(--dark);*/
    }
    #github code-banner {
      display: block;
      border: 2px solid var(--dark);
      border-top:none;
      border-bottom:none;
      padding: 0.25em 1em;
      font-family: 'Comic Sans MS', Tahoma;
      width: calc(100% + 0.5em);
      background-color: var(--atten);
    }
    #github code-display {
      display: block;
      border: 2px solid var(--dark);
      white-space: pre;
      padding: 0.75em 1em;
      font-family: Consolas, monospace;
      font-size:0.9em;
      width: calc(50% - 0.5em);
      overflow-x: auto;
      /*height:20em;*/
    }
    #github label {
      margin-right:1em;
    }
    #github fieldset {
      border:none;
    }
    #github #exeRight, #exeLeft {
      padding: 0.05em 0.5em;
      font-family: 'Comic Sans MS', Tahoma;
    }
    #github #hideLeft, #hideRight {
      padding: 0.05em 0.5em;
      font-family: 'Comic Sans MS', Tahoma;
    }
    #github .hide {
      display:none;
    }
    body {
      position:relative;
    }
    #github table.showcode {
      table-layout:fixed;
      width:calc(100% + 4em);
      margin-left:-2em;
    }
    #github th.leftblock {
      border: 2px solid var(--dark);
      /*border: 1px solid red;*/
      background-color: var(--menu);
      width: calc(50% - 0.5em);
      overflow-x: auto;
    }

    #github th.rightblock {
      border: 2px solid var(--dark);
      background-color: var(--menu);
      width: calc(50% - 0.5em);
      overflow-x: auto;
    }

    #github th.centerblock {
      border: none;
      padding: 0em;
      width:1em;
    }
    #github td.leftblock {
      border: 2px solid var(--dark);
      width: calc(50% - 0.5em);
      overflow-x: auto;
      background-color: #222233;
      color: #ffffbb;
    }

    #github td.leftblock summary {
      border:1px solid #ffffbb;
    }

    #github td.rightblock {
      border: 2px solid var(--dark);
      width: calc(50% - 0.5em) !important;
      overflow-x: auto;
      background-color: #222233;
      color: #ffffbb;
    }

    #github td.rightblock summary {
      border: 1px solid #ffffbb;
    }

    #github td.centerblock {
      border: none;
      padding: 0em;
    }
    #github pre {
      overflow-x: auto !important;
    }
    #github #left1 {
      /*height:45em;*/
      max-height: calc(100vh - 10em);
      overflow-y: auto;
    }

    #github #right1 {
      max-height: calc(100vh - 10em);
      overflow-y: auto;
    }
    #github #left2 {
      /*height:45em;*/
      max-height: calc(100vh - 7em);
      overflow-y: auto;
    }

    #github #right2 {
      max-height: calc(100vh - 7em);
      overflow-y: auto;
    }
    #github #left3 {
      max-height: calc(100vh - 7em);
      overflow-y: auto;
    }

    #github #right3 {
      max-height: calc(100vh - 7em);
      overflow-y: auto;
    }
    #github .mover {
      width:2em;
      padding: 0.05em;
      position:relative;
      right:-1.5em;
      top:0.6em;
    }
    #github #ruler {

      width:calc(50% - 1.5em);
      height:0.001em;
      margin:-0.45em 0em;
    }
    #github .btns {
      width:3em;
      border:none;
    }
    #github .codeSnap {
      font-family: Consolas, Courier New, Courier, monospace, sans-serif;
      font-size: small;
      font-weight: bold;
      background-color: #eee;
      padding: 10px;
    }
    #github .remotebutton {
      padding:0.25em 0.5em;
    }
    #github .rightPanelLinks {
      position: fixed;
      right: 0.0em;
      top: 15em;
      z-index: 100;
      background: var(--light);
      padding: 0.75em 0.25em;
      border: 1px solid var(--dark);
    }

    #github div.rightPanelLinks a {
      display: block;
      height: 1.5em;
      padding: 0em 0.25em;
    }
    #github hr.spread {
      margin:0.75em 0em;
    }
  </style>
  <script>
    function saveScroll() {
      let main = document.querySelector("main");
      localStorage.setItem("ObjectsRust", main.scrollTop);
    }
    function getScroll() {
      let scroll = localStorage.getItem("ObjectsRust");
      if (scroll) {
        scrollTop = parseInt(scroll, 10);
        let main = document.querySelector("main");
        main.scrollTop = scrollTop;
      }
      else {
        let main = document.querySelector("main");
        localStorage.setItem("ObjectsRust", main.scrollTop);
        main.scrollTop = 0;
      }
    }
  </script> -->

  <script>
    function remote() {
      window.open('https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=1004755496fd8f49782f95ad631664eb', '_blank');
    }
  </script>
</head>
<body id="github" onload="load()">

  <a id="Next" href="Bits_Intro.html">Next</a>
  <a id="Prev" href="Bits_GenericRust.html">Prev</a>

  <page-frame>
    <!-- <frame-header>
      <nav id="navbar"></nav>
    </frame-header> -->
    <main id="main">
      <div id="about">about</div>
      <div id="page">Bits_Iter Rust</div>
      <div id="modified">08/01/2024</div>
      <div id="hlp"></div>
      <a id="top"></a>
      <content>
        <div id="scrollY"
             style="position:fixed; bottom:0.50em; right:1.50em; width:max-content; height:1.5em;
           text-align:right; padding:0.15em 0.5em; border:1px solid red;">
          0
        </div>
        <!-- <div class="rightPanelLinks">
    <a target="_blank" href="Bits_IterCpp.html">C++</a>
    <a class="darkItem" href="Bits_IterRust.html">Rust</a>
    <a class="undefined" href="# Bits_IterCSharp.html">C#</a>
    <a class="undefined" href="# Bits_IterPython.html">Python</a>
    <a class="undefined" href="# Bits_IterJs.html">JvScrpt</a>
  </div> -->
        <header>
          <a target="_blank" class="repoLink" href="https://github.com/JimFawcett/Bits">Bits Repo Code</a>
          <a target="_blank" class="repoLink" href="../../BitsRepo.html" style="margin-right:7.5em;">Bits Repo Docs</a>
          <hgroup id="pagetitle" onclick="loadbitsintro()" style="cursor:pointer;" title="go to intro">
            <h1 id="title">Bits: Rust Iteration</h1>
            <h3 id="subtitle" class="indent">
              iterators, for-in loops, iterable custom types, iterator methods
            </h3>
          </hgroup>
        </header>
        <!-- <t-b style="border:2px solid red; padding:0.5em 1.5em;">
    This page is a prototype used to decide which language features to emphasize. It will
    be replaced with a final version soon.
  </t-b> -->
        <t-b style="border:1px solid maroon; padding:0.25em 1em 0.5em 1em;">
          <h4 style="margin:0em 0em 0.25em 0em;">Synopsis:</h4>
          This bit demonstrates uses of Rust iterators to walk through enumerable collections.
          The purpose is to quickly acquire some familiarity with Rust iteration.
          <hr class="spread" />
          <ul>
            <li>
              Rust iterable containers support two functions that return iterators: <c-s>iter()</c-s>
              for non-modifying traversals and <c-s>iter_mut()</c-s> for modifying traversals.
            </li>
            <li>
              Iterator <c-s>iter()</c-s> supports the function <c-s>fn next(&self) -> Option&lt;Self::Item&gt;</c-s>.
            </li>
            <li>
              Iterator <c-s>iter_mut()</c-s> supports <c-s>fn next(&mut self) -> Option&lt;Self::Item&gt;</c-s>.
            </li>
            <li>
              While walking the collection <c-s>next()</c-s> returns <c-s>Some(item)</c-s>.
              When the end of its collection is reached, <c-s>next()</c-s> returns <c-s>None</c-s>.
            </li>
            <li>
              Collections may also support the IntoIterator trait with function <c-s>into_iter(self)</c-s> which consumes
              the collection and returns an iterator over its elements.
            </li>
            <li>
              Rust Strings are a special case.  Unlike <c-s>vec</c-s> and <c-s>slice &T[]</c-s>, string items
              are not all the same size.
              strings hold utf-8 characters which vary in size from 1 to 4 bytes. So strings support two iterators:
              <c-s>chars(&self)</c-s>, for moving from character to character, and <c-s>bytes(&self)</c-s> for
              stepping through each of the string&apos;s bytes.
            </li>
            <li>
              Rust for-loops are simplifying syntax wrappers around iterators.
            </li>
          </ul>
          <div style="height:0.5em;"></div>
        </t-b>
        <details id="notes">
          <summary class="darkItem">Demo Notes&nbsp;&nbsp;</summary>
          <t-b><hr /></t-b>
          <t-b>
            All of the languages covered in this demonstrtion support iteration using iterators.
          </t-b>
          <t-b>
            Rust iterators are provided by enumerable containers and have public interface with the method
            <c-s>fn next(&self) -> Option&lt;Self::Item&gt;</c-s>.
          </t-b>
          <t-b>
            This demonstration illustrates use of iterators with a series of functions that provide code,
            in several forms, for iterating through containers. It includes demos for library types and
            for a user-defined point class.
          </t-b>
          <t-b><hr /></t-b>
        </details>
        <!--<t-b>
    The examples below show how to use library and user defined types with emphasis on
    illustrating syntax and basic operations.
  </t-b>-->
        <div style="height:0.25em;"></div>
        <h3 id="iterators">1.0 Iterators</h3>
        <t-b>
          Iteration is a process of stepping through a collection <c-s>C</c-s> of values for display and/or
          modification. One basic way to do that is to use a loop that calls <c-s>next()</c-s>
          on an iterator provided to it.
        </t-b>
        <t-b>
          <hr />
        </t-b>
        <t-b>
          <strong>Iterators</strong> use the syntax:
          <div class="inset">
            <c-s>itr.next() -> Option&lt;T&gt;
          </div>
          to step through a collection <c-s>C</c-s>. The return value is either <c-s>Some(val)</c-s>
          or <c-s>None</c-s>. The term <c-s>val</c-s> is the value of the next item in an instance of <c-s>C</c-s>.
          <c-s>None</c-s> indicates that there are no more items to view.
        </t-b>
        <t-b>
          The instance <c-s>itr</c-s> is an iterator returned by <c-s>c &epsilon; C</c-s>
          by invoking one of the three functions:
          <div class="inset">
            <table>
              <tr>
                <td><c-s>c.into_iter()</c-s></td>
                <td>
                  Creates an instance of an iterator provided by C
                  and consumes c.<br />
                  <div style="height:0.25em;"></div>
                  Elements of <c-s>c</c-s> can be mutated and used during iteration but <c-s>c</c-s> will be
                  invalid after the call.
                </td>
              </tr>
              <tr>
                <td><c-s>c.iter()</c-s></td>
                <td>
                  Returns an iterator without consuming <c-s>c</c-s>.<br />
                  <div style="height:0.25em;"></div>
                  Elements of <c-s>c</c-s> cannot be mutated.
                </td>
              </tr>
              <tr>
                <td><c-s>c.iter_mut()</c-s></td>
                <td>
                  Returns an iterator without consuming <c-s>c</c-s>.<br />
                  <div style="height:0.25em;"></div>
                  Elements of <c-s>c</c-s> can be mutated.
                </td>
              </tr>
            </table>
          </div>
        </t-b>
        <h3 id="code">2.0 Source Code</h3>
        <t-b>
          Code is shown in a series of blocks starting with basic iteration forms and building up to
          discussion of iterators for custom types.
        </t-b>
        <h3 id="loops">2.1 Loop Iteration over Vec&lt;T&gt;</h3>
        <t-b>
          This block illustrates iteration over the items of <c-s>v</c-s>, a <c-s>std::Vec&lt;T&gt;</c-s>, using a
          simple loop. Outputs are displayed within the loop and again after the loop using
          <c-s>println!(v)</c-s>. The debug formatter <c-s>{:?}</c-s> also uses an iterator to
          display the vector contents in a slightly different format.
        </t-b>
        <div class="blockSingle" style="padding:0em;">
          <input type="button" value="RemoteExecute" class="remotebutton" onclick="remote1()" />
          <splitter-container id="container">
            <first-item id="loops-first" style="width:52%;">
              <div class="codewrap" onclick="cbubbleup('loops-first')">
                <pre style="width:200em;"><code class="language-cpp">/*---------------------------------------------------------
  Demo Vec iteration with loop construct
  - illustrates how iteration works, using most basic
    syntax operating on Vec&lt;T&gt; instances.
*/
fn demo_loop_iteration() {
  show_label(&quot;basic loop iteration with Vec&quot;, 35);

  /* 1. v.iter(), iterates without consuming v */
  let v = vec![1, 2, 3, 2, 1];
  show_op(&quot;Vec iteration using loop and iter()&quot;);
  let mut itr = v.iter();
  loop {
    match itr.next() {
      Some(item) =&gt; print!(&quot;{item} &quot;),
      None =&gt; break,
    }
  }
  // next statement is valid since v not consumed
  println!();
  println!(&quot;{v:?}&quot;);

  /* 2. v.iter_mut() iterates and mutates without consuming v */
  let mut v = vec![1, 2, 3, 2, 1];
  let mut mitr = v.iter_mut();
  show_op(&quot;mutable vec iteration with loop and mut_iter()&quot;);
  loop {
    match mitr.next() {
      Some(item) =&gt; { *item += 1; print!(&quot;{item} &quot;); }
      None =&gt; break,
    }
  }
  println!();
  println!(&quot;{v:?}&quot;);

  /* 3. v.into_iter() consumes v while converting to iterator */
  let mut itr = v.into_iter();
  show_op(&quot;generate iterator with v.into_iter()&quot;);
  loop {
    match itr.next() {
      Some(item) =&gt; print!(&quot;{item} &quot;),
      None =&gt; break,
    }
  }
  // into_iter() consumes v so the next statement is invalid
  // println!(&quot;{v:?}&quot;);  // v was moved
  println!();

}</code></pre>
              </div>
            </first-item>
            <splitter-bar id="loops-seperator"></splitter-bar>
            <second-item id="loops-second" style="width:40em;">
              <div class="codewrap" onclick="obubbleup('loops-first')">
                <pre style="width:200em;"><code class="language-term">



  -----------------------------------
  basic loop iteration with Vec
  -----------------------------------



  --- Vec iteration using loop and iter() ---
  1 2 3 2 1
  [1, 2, 3, 2, 1]












  --- mutable vec iteration with loop and mut_iter() ---
  2 3 4 3 2
  [2, 3, 4, 3, 2]









  --- generate iterator with v.into_iter() ---
  2 3 4 3 2

</code></pre>
              </div>
            </second-item>
          </splitter-container>
        </div>
        <div style="height:1em;"></div>
        <h3 id="forloops">2.2 Iteration with <c-s>for-in</c-s> Loops</h3>
        <t-b>
          For collections <c-s>c &epsilon; C</c-s>, for-loop iterations usually take one of the forms:
          <div class="inset">
            <table>
              <tr>
                <td style="width:20em;">
                  <c-s>
                    <span style="color:red; font-weight:bold;">for item in c</span> {<br />
                    &nbsp;&nbsp;&nbsp;/* do something with item */<br />
                    }
                  </c-s>
                </td>
                <td>
                  <c-s>for</c-s> expects an iterator after <c-s>in</c-s>. Since collection <c-s>c</c-s>
                  is not an iterator, <c-s>for-in</c-s> invokes <c-s>C::into_iterator()</c-s>.
                  That consumes <c-s>c</c-s>.
                </td>
              </tr>
              <tr>
                <td style="width:20em;">
                  <c-s>
                    <span style="color:red; font-weight:bold;">for item in &c</span> {<br />
                    &nbsp;&nbsp;&nbsp;/* do something with item */<br />
                    }
                  </c-s>
                </td>
                <td>
                  Since reference <c-s>&amp;c</c-s>
                  is not an iterator, <c-s>for-in</c-s> invokes <c-s>&amp;C::into_iterator()</c-s>.
                  That does not consume <c-s>c</c-s>.
                </td>
              </tr>
              <tr>
                <td style="width:22em;">
                  <c-s>
                    <span style="color:red; font-weight:bold;">for item in &amp;mut c</span> {<br />
                    &nbsp;&nbsp;&nbsp;/* do something that mutates item */<br />
                    }
                  </c-s>
                </td>
                <td>
                  Since <c-s>&amp;mut c</c-s>
                  is not an iterator, <c-s>for-in</c-s> invokes <c-s>&amp;mut&nbsp;C::into_iterator()</c-s>.
                  That does not consume <c-s>c</c-s>.
                </td>
              </tr>
            </table>
          </div>
        </t-b>
        <t-b>
          The first three demonstrations in the block below use iterators directly to show what
          <c-s>for-in</c-s> expects. The last three demonstrations use the three forms presented
          in the table above.
        </t-b>
        <div class="blockSingle" style="padding:0em;">
          <input type="button" value="RemoteExecute" class="remotebutton" onclick="remote1()" />
          <splitter-container id="container">
            <first-item id="forloops-first" style="width:52%;">
              <div class="codewrap" onclick="cbubbleup('forloops-first')">
                <pre style="width:200em;"><code class="language-cpp">/*---------------------------------------------------------
  Demo iteration with for-in loop construct
  - illustrates how for-in works, using idiomatic
    syntax operating on Vec&lt;T&gt; instances.
*/
fn demo_for_iteration() {
  show_label(&quot;basic for-in loop iteration using Vec&quot;, 45);

  /* 1. v.iter(), iterates without consuming v */
  let v = vec![1, 2, 3, 2, 1];
  show_op(&quot;Vec iteration using v.iter()&quot;);
  for item in v.iter() {
      print!(&quot;{item} &quot;);
  }
  // next statement is valid since v not consumed
  println!();
  println!(&quot;{v:?}&quot;);

  /* 2. v.iter_mut() iterates and mutates without consuming v */
  let mut v = vec![1, 2, 3, 2, 1];
  show_op(&quot;mutable vec iteration using v.iter_mut()&quot;);
  println!(&quot;original:   {v:?}&quot;);
  for item in v.iter_mut() {
    *item += 1;
      print!(&quot;{item:?} &quot;);
  }
  println!();
  println!(&quot;after iter: {v:?}&quot;);

  /* 3. v.into_iter() consumes v while converting to iterator */
  // let mut itr = v.into_iter();
  show_op(&quot;for-in uses v.into_iter()&quot;);
  for item in v.into_iter() {
    print!(&quot;{item:?} &quot;);
  }
  // into_iter() consumes v so the next statement is invalid
  // println!(&quot;{v:?}&quot;);  // v was moved
  println!();
  /*
     4. iteration with for-in consumes v
        - same as 3. except that into_iter() is used implicitly
        - used in preference to 3
  */
  let v = vec![1, 2, 3, 4, 5];
  show_op(&quot;for-in uses v =&gt; into_iter()&quot;);
  for item in v {  // implicitly uses into_iter()
    print!(&quot;{item:?} &quot;);
  }
  // into_iter() consumes v so the next statement is invalid
  // println!(&quot;{v:?}&quot;);  // v was moved
  println!();

  /*
     5. iteration over elements of v using &v
        - uses internal call to into_iter() implemented with
          Vec::iter() so v not moved
  */
  let v = vec![1, 2, -1, -2, 0];
  show_op(&quot;for-in uses &v =&gt; iter()&quot;);
  for item in &v {
    print!(&quot;{item:?} &quot;);
  }
  println!();
  println!(&quot;{v:?}&quot;);  // v was not moved
  /*
     6. mutating iteration over elements of v using &mut v
        - generates into_iter() implemented with internal
          call to iter_mut(), so does not move v
  */
  let mut v = vec![1, 2, -1, -2, 0];
  show_op(&quot;for-in uses &mut v =&gt; iter_mut()&quot;);
  println!(&quot;original: {v:?}&quot;);
  for item in &mut v {
    *item += 1;
    print!(&quot;{item:?} &quot;);
  }
  println!();
  println!(&quot;modified: {v:?}&quot;);  // v was not moved

  /*-------------------------------------------------------
    Iteration forms 4, 5, and 6 are the preferred useage.
    Forms 1, 2, and 3 show how for-in loops work.
  -------------------------------------------------------*/
}</code></pre>
              </div>
            </first-item>
            <splitter-bar id="forloops-seperator"></splitter-bar>
            <second-item id="forloops-second" style="width:40em;">
              <div class="codewrap" onclick="obubbleup('forloops-first')">
                <pre style="width:200em;"><code class="language-term">
                  

                  
                  
---------------------------------------------
  basic for-in loop iteration using Vec
---------------------------------------------


--- Vec iteration using v.iter() ---
1 2 3 2 1
[1, 2, 3, 2, 1]







--- mutable vec iteration using v.iter_mut() ---
original:   [1, 2, 3, 2, 1]
2 3 4 3 2
after iter: [2, 3, 4, 3, 2]







--- for-in uses v.into_iter() ---
2 3 4 3 2











--- for-in uses v => into_iter() ---
1 2 3 4 5












--- for-in uses &v => iter() ---
1 2 -1 -2 0
[1, 2, -1, -2, 0]









--- for-in uses &mut v => iter_mut() ---
original: [1, 2, -1, -2, 0]
2 3 0 -1 1
modified: [2, 3, 0, -1, 1]

</code></pre>
              </div>
            </second-item>
          </splitter-container>
        </div>
        <div style="height:1em;"></div>
        <h3 id="csliter">2.3 Generate CSL for Several Different Types</h3>
        <t-b>
          Comma seperated lists (CSL) are a visually appealing way to show values in a collection.
          To provide that format either the first or the last item has to be formatted differently
          than the rest to avoid a leading or trailing comma.
        </t-b>
        <t-b>
          This code block uses three different strategies to properly format the list. The last shown
          uses an iterator method <c-s>enumerate()</c-s> to provide formatting in an idiomatic way.
          That method is one of several discussed in the Section 2.6, below.
        </t-b>
        <div class="blockSingle" style="padding:0em;">
          <input type="button" value="RemoteExecute" class="remotebutton" onclick="remote1()" />
          <splitter-container id="container">
            <first-item id="csliter-first" style="width:52%;">
              <div class="codewrap" onclick="cbubbleup('csliter-first')">
                <pre style="width:200em;"><code class="language-cpp">/*---------------------------------------------------------
  Demonstrate iter() by displaying a comma seperated
  list (csl) of items in several common collections.
  - three different strategies used for making
    display comma-seperated
  - syntax used in this demo
    - iter().next() -&gt; Option&lt;Self::Item&gt;
    - enum Option&lt;T&gt; { Some(T), None, }
*/
fn demo_iter() {
  show_label(&quot;demo_iter()&quot;, 20);

  /*--------------------------------------------------
    iterate over array
    csl strategy #1 extracts first item before iterating
  --------------------------------------------------*/
  show_op(&quot;array iter using loop&quot;);
  let ar = [1, 2, 3, 4];
  let mut iter = ar.iter();  // extract first item
  if let Some(item) = iter.next() {
    print!(&quot;{item}&quot;);
  }
  loop {
    let item = iter.next();
    match item {  //display remaining items
      Some(item) =&gt; print!(&quot;, {}&quot;, item),
      None =&gt; break
    }
  }
  println!();
  // ar not consumed by ar.iter(), above
  // so statement below is valid:
  println!(&quot;using println!:&#92;n{:?}&quot;, ar);

  /*--------------------------------------------------
    iterate over Vec
    csl strategy #2 uses first flag
  --------------------------------------------------*/
  /*--- functionaly equivalent to loop, above ---*/
  show_op(&quot;Vec iter using for-in&quot;);
  let v = vec![1, 2, 3, 4];
  let mut first = true;   // set first flag
  for item in &v {
    if first {
      print!(&quot;{item}&quot;);
      first = false;            // reset first flag
    }
    else {
      print!(&quot;, {item}&quot;);
    }
  }
  println!();
  // statement below is valid, v not consumed since
  //   for-in used reference &v
  println!(&quot;using println!:&#92;n{:?}&quot;, v);

  /*--------------------------------------------------
    iterate over HashMap
    csl strategy #3 uses enumerate()
  --------------------------------------------------*/
  show_op(&quot;HashMap iter using for-in&quot;);
  let mut hm = HashMap::&lt;&str, i32&gt;::new();
  hm.insert(&quot;zero&quot;, 0);
  hm.insert(&quot;one&quot;, 1);
  hm.insert(&quot;two&quot;, 2);
  hm.insert(&quot;three&quot;, 3);
  /*-------------------------------------------------------
    enumerate is an iterator adapter that returns another
    iterator yielding (count, value) where value is
    yielded by iter
  */
  for (count, item) in hm.iter().enumerate() {
    if count == 0 {
      print!(&quot;{item:?}&quot;);
    }
    else {
      print!(&quot;, {item:?}&quot;);
    }
  }
  println!();
  println!(&quot;using println!:&#92;n{:?}&quot;, hm);

  /*--------------------------------------------------
    iterate over Point&lt;T, N&gt;,
    csl strategy same as above
  --------------------------------------------------*/
  show_op(&quot;Point iter using for-in&quot;);
  let mut p = Point::&lt;f64, 5&gt;::new();
  p.init(&vec![1.0, 1.5, 2.0, 1.5, 1.0]);
  for item in p.iter().enumerate() {
    if item.0 == 0 {  // count == zero
      print!(&quot;{:?}&quot;, item.1);
    }
    else {  // count &gt; 0
      print!(&quot;, {:?}&quot;, item.1);
    }
  }
  println!();
  print!(&quot;using println!:&#92;n{p:?}&quot;);  // p not moved
  println!(&quot;&#92;n&quot;);

  /*--------------------------------------------------
    Use formatting function that accepts any type
    implementing IntoIterator trait.
    - function defined below
  --------------------------------------------------*/
  show_op(&quot;using show_csl(&ar) for array&quot;);
  show_csl(&ar); // ar not consumed
  show_op(&quot;using show_csl(&v) for Vector&quot;);
  show_csl(&v);  // v not consumed
  show_op(&quot;using show_csl(&hm) for HashMap&quot;);
  show_csl(&hm); // hm not consumed
  show_op(&quot;using show_csl(&p) for Point&quot;);
  show_csl(&p);  // p not consumed
  println!();

  show_op(&quot;using show_csl(ar) for array - copies ar&quot;);
  show_csl(ar);  // ar is not consumed as it is a copy type
  show_op(&quot;using show_csl(v) for Vector - moves v&quot;);
  show_csl(v);   // v is consumed
  show_op(&quot;using show_csl(hm) for HashMap - moves hm&quot;);
  show_csl(hm);  // hm is consumed
  show_op(&quot;using show_csl(p) for Point - moves p&quot;);
  show_csl(p);   // p is consumed
}

/* generalize csl strategy #3 */
fn show_csl&lt;C&gt;(c:C)  // consumes c
  where C: IntoIterator, C::Item: Debug
{
  let iter = c.into_iter();
  for (count, val) in iter.enumerate() {
    if count == 0 {
      print!(&quot;{:?}&quot;, val);
    }
    else {
      print!(&quot;, {:?}&quot;, val);
    }
  }
  println!();
}</code></pre>
              </div>
            </first-item>
            <splitter-bar id="csliter-seperator"></splitter-bar>
            <second-item id="csliter-second" style="width:40em;">
              <div class="codewrap" onclick="obubbleup('csliter-first')">
                <pre style="width:200em;"><code class="language-term">








--------------------
  demo_iter()
--------------------




--- array iter using loop ---
1, 2, 3, 4
using println!:
[1, 2, 3, 4]



















--- Vec iter using for-in ---
1, 2, 3, 4
using println!:
[1, 2, 3, 4]

















--- HashMap iter using for-in ---
("one", 1), ("three", 3), ("zero", 0), ("two", 2)
using println!:
{"one": 1, "three": 3, "zero": 0, "two": 2}






















--- Point iter using for-in ---
1.0, 1.5, 2.0, 1.5, 1.0
using println!:
Point { items: [1.0, 1.5, 2.0, 1.5, 1.0] }
















--- using show_csl(&ar) for array ---
1, 2, 3, 4
--- using show_csl(&v) for Vector ---
1, 2, 3, 4
--- using show_csl(&hm) for HashMap ---
("one", 1), ("three", 3), ("zero", 0), ("two", 2)
--- using show_csl(&p) for Point ---
1.0, 1.5, 2.0, 1.5, 1.0


--- using show_csl(ar) for array - copies ar ---
1, 2, 3, 4
--- using show_csl(v) for Vector - moves v ---
1, 2, 3, 4
--- using show_csl(hm) for HashMap - moves hm ---
("one", 1), ("three", 3), ("zero", 0), ("two", 2)
--- using show_csl(p) for Point - moves p ---
1.0, 1.5, 2.0, 1.5, 1.0

</code></pre>
              </div>
            </second-item>
          </splitter-container>
        </div>
        <div style="height:1em;"></div>


        <h3 id="pointdef">2.4 Iteration over custom Point&lt;T, N&gt; Coordinates</h3>
        <t-b>
          A custom type can be implemented to support iterators in the same way as for std::library types.
          Code in this section illustates how to do that. Essentially, the type must provide methods:
          <div class="inset">
            <c-s>iter(), iter_mut()</c-s> and implement the <c-s>IntoIterator</c-s> trait for 
            <c-s>Point&lt;T, N&gt;</c-s> which provides the <c-s>into_iterator()</c-s> method.
          </div>
          Usually it will also implement <c-s>IntoIterator</c-s> for <c-s>&Point&lt;T, N&gt;</c-s> and
          for <c-s>&mut Point&lt;T, N&gt;</c-s> and
          non-mutable and mutable indexers using the std::ops module. See commentary below for motivation
          about adding these traits and operations.
        </t-b>
        <t-b>
          This block defines a <c-s>Point&lt;T, N&gt;</c-s> type that contains a datum: <c-s>items: Vec&lt;T&gt;</c-s>
          to represent a point in N-dimensional hyperspace. It implements all of the features cited in the
          previous paragraph.
        </t-b>
        <div class="blockSingle" style="padding:0em;">
          <input type="button" value="RemoteExecute" class="remotebutton" onclick="remote1()" />
          <splitter-container id="container">
            <first-item id="pointdef-first" style="width:52%;">
              <div class="codewrap" onclick="cbubbleup('pointdef-first')">
                <pre style="width:200em;"><code class="language-cpp">/*-- Point&lt;T, N&gt; --------------------------------
  Point&lt;T, N&gt; declares a Point type holding a
  Vec&lt;T&gt; of coordinate values.
  It implements:
  - new(n)  constructor
  - iter()  returns iterator over items
  - iter_mut() mutates while iterating
  - trait IntoIterator for Point&lt;T, N&gt;
  - trait IntoIterator for &Point&lt;T, N&gt;
  - trati IntoIterator for &mut Point&lt;T, N&gt;
  - immutable and mutable indexing
  Note:
  ---------------------------------------------
  This is a nice example of building a custom
  collection type. It implements methods and
  traits necessary to make a collection behave
  like standard library collections.
  ---------------------------------------------
*/
use std::fmt::*;

#[derive(Debug, Clone)]
pub struct Point&lt;T, const N: usize&gt;
    where T:Debug + Default + Clone
{
    pub items: Vec&lt;T&gt;
}
impl&lt;T, const N:usize&gt; Point&lt;T, N&gt;
    where T:Debug + Default + Clone
{
    /*-- constructor --*/
    pub fn new() -&gt; Point&lt;T, N&gt; {
        Point::&lt;T, N&gt; {
            items: vec![T::default(); N],
        }
    }
    pub fn init(&mut self, v:&Vec&lt;T&gt;) {
      for i in 0..v.len() {
        self.items[i] = v[i].clone();
      }
      for i in v.len()..N {
        self.items[i] = T::default();
      }
    }
    /*-- non-destructive non-mutating iterator */
    pub fn iter(&self) -&gt; impl Iterator&lt;Item = &T&gt; {
        self.items.iter()
    }
    pub fn iter_mut(&mut self) -&gt; impl Iterator&lt;Item = &mut T&gt; {
        self.items.iter_mut()
    }
}
/*-- implements const indexer -----------------*/
impl&lt;T, const N:usize, Idx&gt; std::ops::Index&lt;Idx&gt; for Point&lt;T, N&gt;
    where
        T:Debug + Default + Clone,
        Idx: std::slice::SliceIndex&lt;[T]&gt;
{
    type Output = Idx::Output;

    fn index(&self, index:Idx) -&gt; &Self::Output {
        &self.items[index]
    }
}
/*-- implements mutable indexer ---------------*/
impl&lt;T, const N:usize, Idx&gt; std::ops::IndexMut&lt;Idx&gt; for Point&lt;T, N&gt;
    where
        T:Debug + Default + Clone,
        Idx: std::slice::SliceIndex&lt;[T]&gt;
{
    fn index_mut(&mut self, index:Idx) -&gt; &mut Self::Output {
        &mut self.items[index]
    }
}
/*-- IntoIterator trait for PointN&lt;T&gt; ---------*/
impl&lt;T, const N:usize&gt; IntoIterator for Point&lt;T, N&gt;
    where T:Debug + Default + Clone
{
    type Item = T;
    type IntoIter = std::vec::IntoIter&lt;Self::Item&gt;;
    fn into_iter(self) -&gt; Self::IntoIter {
        self.items.into_iter()
    }
}
/*-- IntoIterator trait for &Point&lt;T, N&gt; -------------
  - Supports interating elements of Point
  - Point instance is not moved because we use
    Vec::iter() internally
  - a is a required lifetime annotation
*/
use core::slice::Iter;

impl&lt;'a, T, const N:usize&gt; IntoIterator for &'a Point&lt;T, N&gt;
    where T:Debug + Default + Clone
{
    type Item = &'a T;
    type IntoIter = Iter&lt;'a, T&gt;;
    fn into_iter(self) -&gt; Self::IntoIter {
        self.items.iter()
    }
}
/*-- IntoIterator trait for &mut Point&lt;T, N&gt; ---------
  - Supports mutating elements of Point while
    iterating. No clone used here.
  - Point instance is not moved because we use
    Vec::iter_mut() internally
  - a is a required lifetime annotation
*/
use core::slice::IterMut;

impl&lt;'a, T, const N:usize&gt; IntoIterator for &'a mut Point&lt;T, N&gt;
    where T:Debug + Default + Clone
{
    type Item = &'a mut T;
    type IntoIter = IterMut&lt;'a, T&gt;;
    fn into_iter(self) -&gt; Self::IntoIter {
        self.items.iter_mut()
    }
}</code></pre>
              </div>
            </first-item>
            <splitter-bar id="pointdef-seperator"></splitter-bar>
            <second-item id="pointdef-second" style="width:40em; background-color:var(--light);" onclick="obubbleup('pointdef-first')">
              <div class="textwrap noflow commentary">
                <h4>Point&lt;T, N&gt; Definition:</h4>
                <pre class="light">
<c-s>Point&lt;T, N&gt;</c-s> instances are collections of coordinates. 
We use this custom type to show how to implement 
many of the important methods and traits for col-
lections so it can be used like std library collections.
















<c-s>Point&lt;T, N&gt;</c-s> has a generic parameter <c-s>T</c-s>, the type of its
coordinates, and <c-s>N</c-s> the number of coordinates it uses.

Its coordinate values are held in a <c-s>Vec&lt;T&gt;</c-s>, so instances 
can be moved, but not implicitly copied. It declares a 
derived <c-s>Clone</c-s>, asking the compiler to implement that 
trait for Point.

<strong><span style="font-size:1.25em; font-weight:bold;">&lArr;</span> Point Methods:</strong>


<c-s>new() -> Point&lt;T, N&gt;</c-s> constructs a new instance with 
default values for items.




<c-s>init(&mut self, v:&Vec&lt;T&gt;)</c-s> fills the item coordinates 
with values from <c-s>v</c-s>.








<c-s>iter(&self) -&gt; impl Iterator&lt;Item = &T&gt;</c-s> returns
<c-s>items</c-s> vector iterator.

<c-s>iter_mut(&mut self) -&gt; impl Iterator&lt;Item = &mut T&gt;</c-s>
returns <c-s>items</c-s> mutating iterator.

Note: <c-s>impl [trait]</c-s> in the return means that any type 
can be returned if it implements the specified trait.


<strong><span style="font-size:1.25em; font-weight:bold;">&lArr;</span> non-mutating indexer</strong>
uses <c-s>items</c-s> vector non-mutating indexer.











<strong><span style="font-size:1.25em; font-weight:bold;">&lArr;</span> mutating indexer</strong>
uses <c-s>items</c-s> vector mutating indexer.








<strong><span style="font-size:1.25em; font-weight:bold;">&lArr;</span> IntoIterator for Point&lt;T, N&gt;</strong>
implements the <c-s>IntoIterator</c-s> trait for <c-s style="color:darkred; font-weight:bold;">Point&lt;T, N&gt;</c-s>.
Invocation of its trait function <c-s>p.into_iter()</c-s> on 
<c-s>p &epsilon; Point&lt;T, N&gt;</c-s> returns an iterator over <c-s>p</c-s>&apos;s items, 
consuming <c-s>p</c-s> so it is no longer valid.









<strong><span style="font-size:1.25em; font-weight:bold;">&lArr;</span> IntoIterator for &amp;Point&lt;T, N&gt;</strong>
implements the <c-s>IntoIterator</c-s> trait for <c-s style="color:darkred; font-weight:bold;">&amp;Point&lt;T, N&gt;</c-s>.
Invocation of its trait function <c-s>&p.into_iter()</c-s> on 
<c-s>p &epsilon; Point&lt;T, N&gt;</c-s> does not consume <c-s>p</c-s> so it remains valid.


















<strong><span style="font-size:1.25em; font-weight:bold;">&lArr;</span> IntoIterator for &amp;mut Point&lt;T, N&gt;</strong>
implements <c-s>IntoIterator</c-s> trait for <c-s style="color:darkred; font-weight:bold;">&amp;mut Point&lt;T, N&gt;</c-s>.
Invocation of its trait function <c-s>&mut p.into_iter()</c-s> on 
<c-s>p &epsilon; Point&lt;T, N&gt;</c-s> does not consume <c-s>p</c-s> so it remains valid.


</pre>
              </div>
            </second-item>
          </splitter-container>
        </div>
        <div style="height:0.75em;"></div>
        <h3 id="pointdemo">2.5 Point&lt;T, N&gt; Demonstration</h3>
        <t-b>

        </t-b>
        <div class="blockSingle" style="padding:0em;">
          <input type="button" value="RemoteExecute" class="remotebutton" onclick="remote1()" />
          <splitter-container id="container">
            <first-item id="pointdemo-first" style="width:52%;">
              <div class="codewrap" onclick="cbubbleup('pointdemo-first')">
                <pre style="width:200em;"><code class="language-cpp">/*---------------------------------------------------------
  Demo iteration over coordinate values in Point&lt;T,N&gt;
  - illustrates how to implement iteration for custom
    types, using definitions in points_iter.rs module.
*/
fn demo_point_iteration() {

  show_label(&quot;demo point iteration&quot;, 30);

  /* uses Point&lt;T,N&gt;::IntoIterator =&gt; into_iter() =&gt; move */
  let mut p = Point::&lt;i32, 5&gt;::new();
  p.init(&vec![3, 2, 1, 0, -1]);
  show_op(&quot;for-in uses p, generating iter from p.into_iter()&quot;);
  for item in p {
    print!(&quot;{item:?} &quot;);
  }
  // into_iter() consumes v so the next statement is invalid
  // println!(&quot;{p:?}&quot;);  // v was moved
  println!();

  /* uses &Point&lt;T,N&gt;::IntoIterator =&gt; iter() =&gt; no move */
  let mut p = Point::&lt;i32, 5&gt;::new();
  p.init(&vec![3, 2, 1, 0, -1]);
  show_op(&quot;for-in uses &p, generating iter from &p.iter()&quot;);
  println!(&quot;original:   {p:?}&quot;);
  for item in &p {
    print!(&quot;{item:?} &quot;);
  }
  println!();
  println!(&quot;after iter: {p:?}&quot;);  // v was not moved

  /* uses &mut Point&lt;T,N&gt;::IntoIterator =&gt; iter_mut() =&gt; no move */
  let mut p = Point::&lt;i32, 5&gt;::new();
  p.init(&vec![-3, -2, -1, 0, 1]);
  show_op(&quot;for-in uses &mut p, generating iter from &mut p.iter_mut()&quot;);
  println!(&quot;original:  {:?}&quot;, p);
  for item in &mut p {
    *item += 1;
    print!(&quot;{item:?} &quot;);
  }
  println!();
  println!(&quot;modified:  {p:?}&quot;);  // v was not moved

}</code></pre>
              </div>
            </first-item>
            <splitter-bar id="pointdemo-seperator"></splitter-bar>
            <second-item id="pointdemo-second" style="width:40em;">
              <div class="codewrap" onclick="obubbleup('pointdemo-first')">
                <pre style="width:200em;"><code class="language-shell">





------------------------------
  demo point iteration
------------------------------



--- for-in uses p, generating iter from p.into_iter() ---
3 2 1 0 -1









--- for-in uses &p, generating iter from &p.iter() ---
original:   Point { items: [3, 2, 1, 0, -1] }
3 2 1 0 -1
after iter: Point { items: [3, 2, 1, 0, -1] }







--- for-in uses &mut p, generating iter from &mut p.iter_mut() ---       
original:  Point { items: [-3, -2, -1, 0, 1] }
-2 -1 0 1 2
modified:  Point { items: [-2, -1, 0, 1, 2] }

</code></pre>
              </div>
            </second-item>
          </splitter-container>
        </div>
        <div style="height:1em;"></div>
        <h3 id="methods">2.6 Iterator Methods</h3>
        <t-b>
          All Rust iterators provide methods that return another iterator, a collection, or a value. The table,
          below, provides a brief selection of methods that are used in a demonstration below the table.
        </t-b>
        <div style="height:0.25em"></div>
        <table>
          <tr>
            <th colspan=2>
              Selection of iterator methods from <a target="_blank" href="https://doc.rust-lang.org/std/iter">std::Iter</a>
            </th>
          </tr>
          <tr>
            <td>
              <a target="_blank" href="https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.all">
                all&lt;F&gt;
              </a>
              (&mut self, f: F) -&gt; bool<br />
              where Self: Sized, F: FnMut(Self::Item) -&gt; bool
            </td>
            <td>Tests if every item of the iterator matches a predicate.</td>
          </tr>
          <tr>
            <td>
              <a target="_blank" href="https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.any">
                any&lt;F&gt;
              </a>
              (&mut self, f: F) -&gt; bool<br />
              where Self: Sized, F: FnMut(Self::Item) -&gt; bool
            </td>
            <td>Tests if any item of the iterator matches a predicate.</td>
          </tr>
          <tr>
            <td>
              <a target="_blank" href="https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.any">
                cloned&lt;'a T&gt;
              </a>
              (self) -&gt; Cloned&lt;Self&gt;<br />
              where T: 'a + Clone', Self: Sized + Iterator&lt;Item = &amp;'a T&gt;"
            </td>
            <td>Consumes an iterator to create an iterator that clones all of its elements.</td>
          </tr>
          <tr>
            <td>
              <a target="_blank" href="https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.collect">
                collect&lt;B&gt;
              </a>
              (self) -&gt; B<br />
              where B: FromIterator&lt;Self::Item&gt;, Self: Sized
            </td>
            <td>Transforms an iterator into a collection, consuming the iterator.</td>
          </tr>
          <tr>
            <td>
              <a target="_blank" href="https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.enumerate">
                enumerate
              </a>
              (self) -&gt; Enumerate&lt;Self&gt;<br />
              where Self: Sized
            </td>
            <td>Consumes iterator to create an iterator which gives current iteration count and the next value</td>
          </tr>
          <tr>
            <td>
              <a target="_blank" href="https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.filter">
                filter&lt;P&gt;
              </a>
              (self, predicate: P) -&gt; Filter&lt;Self, P&gt;<br />
              where P: FnMut(&Self::Item) -&gt; bool, Self: Sized
            </td>
            <td>Consumes iterator to create an iterator which takes a closure to determine if an item should be yielded.</td>
          </tr>
          <tr>
            <td>
              <a target="_blank" href="https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.for_each">
                for_each&lt;F&gt;
              </a>
              (self, f: F)<br />
              where F: FnMut(Self::Item), Self: Sized
            </td>
            <td>Calls a closure f on each element of an iterator to make in-place changes of items</td>
          </tr>
          <tr>
            <td>
              <a target="_blank" href="https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.map">
                map&lt;B, F&gt;
              </a>
              (self, f: F) -&gt; Map&lt;Self, F&gt;<br />
              where F: FnMut(Self::Item) -&gt; B, Self: Sized
            </td>
            <td>Creates an iterator that calls a closure f on each item</td>
          </tr>
        </table>
        <div style="height:0.25em;"></div>
        <t-b>
          There are more methods that are frequently used in idiomatic Rust code, including:
          <c-s>by_ref</c-s>, <c-s>eq</c-s>, <c-s>find</c-s>, <c-s>nth</c-s>, <c-s>position</c-s>,
          <c-s>rev</c-s>, <c-s>skip</c-s>, <c-s>step_by</c-s>, <c-s>take</c-s>. Find documentation here:
          <a target="_blank" href="">std::Iter</a>.
        </t-b>
        <div style="height:0.25em;"></div>
        <div class="blockSingle" style="padding:0em;">
          <input type="button" value="RemoteExecute" class="remotebutton" onclick="remote1()" />
          <splitter-container id="container">
            <first-item id="methods-first" style="width:52%;">
              <div class="codewrap" onclick="cbubbleup('methods-first')">
                <pre style="width:200em;"><code class="language-cpp">/*---------------------------------------------------------
  Demonstrate iterator methods
*/
fn demo_methods() {
  show_label(&quot;iterator methods&quot;, 25);

  show_op(&quot;original vector&quot;);
  let mut v = vec![1, 2, 3, 2, 1];
  println!(&quot;{v:?}&quot;);
  show_op(&quot;modified using for_each()&quot;);
  /* inplace modification of elements of v */
  v.iter_mut().for_each(|item| *item *= *item);
  println!(&quot;{v:?}&quot;);

  show_op(&quot;collect squared items from vec into array&quot;);
  let sq:[i32; 5] =
    /* return iterator over squared items from v */
    v.iter().map(|&item| item * item)
      /* collect invokes iterator to load modified elements into sq */
      .collect::&lt;Vec&lt;i32&gt;&gt;().try_into()
      /* display message if collection panics, e.g., fails and terminates */
      .expect(&quot;incorrect length&quot;);
  println!(&quot;{sq:?}&quot;);

  show_op(&quot;filter out elements larger than 20&quot;);
  let filtered: Vec&lt;i32&gt; =
    /* create iterator over filtered elements */
    sq.iter().filter(|&&item| item &lt;= 20)
    /* copy filtered element and collect into Vec */
    .cloned().collect();
  println!(&quot;{filtered:?}&quot;);
}</code></pre>
              </div>
            </first-item>
            <splitter-bar id="methods-seperator"></splitter-bar>
            <second-item id="methods-second" style="width:40em;">
              <div class="codewrap" onclick="obubbleup('methods-first')">
                <pre style="width:200em;"><code class="language-shell">

                  
-------------------------
  iterator methods
-------------------------
--- original vector ---
[1, 2, 3, 2, 1]

--- modified using for_each() ---
[1, 4, 9, 4, 1]



--- collect squared items from vec into array ---
[1, 16, 81, 16, 1]








--- filter out elements larger than 20 ---
[1, 16, 16, 1]

</code></pre>
              </div>
            </second-item>
          </splitter-container>
        </div>



        <div style="height:1em;"></div>
        <h3 id="structure">2.7 Program Structure</h3>
        <t-b>
          The code structure of this demonstration is very similar to that used in earlier Bits, so
          is hidden by default.
        </t-b>
        <details id="pstructure">
          <summary class="darkItem">Code Structure</summary>
          <div class="blockSingle" style="padding:0em;">
            <input type="button" value="RemoteExecute" class="remotebutton" onclick="remote1()" />
            <splitter-container id="container">
              <first-item id="structure-first" style="width:52%;">
                <div class="codewrap" onclick="cbubbleup('structure-first')">
                  <pre style="width:200em;"><code class="language-cpp">/*-----------------------------------------------
Bits::rust_iter::main.rs
- demonstrates iteration over collections with
  Rust iterators
- Most collections implement the Rust trait
  IntoIterator which consumes the collection
  to generate an iterator.
- Many also supply functions iter() and mut_iter()
  which return iterators without consuming originial
  collection.
- Demonstrates iteration over arrays, slices,
  Vecs, VecDeques, and custom Point&lt;T, N&gt; type.
-----------------------------------------------*/

#![allow(dead_code)]
#![allow(unused_variables)]

/*-----------------------------------------------
  - Module analysis_iter provides functions
    for type analysis and display.
  - Module points_iter defines type Point&lt;T, N&gt;,
    a point in N-dimensional hyperspace.
*/
use std::collections::*;
mod analysis_iter;
use analysis_iter::*;
mod points_iter;
use points_iter::*;

use std::fmt::*;
use std::cmp::*;

fn demo_loop_iteration() {
  /* code elided */
}
fn demo_for_iteration() {
  /* code elided */
}
fn demo_iter() {
  /* code elided */
}
fn demo_point_iteration() {
  /* code elided */
}
/*-- Begin demonstrations ---------------------*/

fn main() {
  analysis_iter::show_label(&quot;Demonstrate Rust Iteration&quot;,30);
  
  demo_loop_iteration();
  demo_for_iteration();
  demo_iter();
  demo_point_iteration();

  println!(&quot;&#92;nThat's all folks!&#92;n&quot;);
}
</code></pre>
                </div>
              </first-item>
              <splitter-bar id="structure-seperator"></splitter-bar>
              <second-item id="structure-second" style="width:40em; background-color:var(--light);" onclick="obubbleup('structure-first')">
                <div class="textwrap noflow commentary">
                  <h3>Program Structure:</h3>
<pre class="light">
This program illustrates how iterators are created and used.
It also shows how custom types can declare and define 
their own iterators.














This demonstration is partitioned into three modules:
- main.rs (this file)
    a sequence of demonstration functions, each focused
    on one type of syntax and the main function that
    controls processing
- points_iter.rs
    defines custome type <c-s>Point&lt;T, N&gt;</c-s>
- analysis_iter.rs
    defines functions for type analysis and display






Each of the functions invoked here are illustrated using
blocks with left and right panels, shown above this
block.

Code is shown in a left panel and output in a right panel,
seperated by a splitter-bar enabling views of content that
may be hidden in default display.
</pre>
                </div>
              </second-item>
            </splitter-container>
          </div>
        </details>
        <div style="height:0.75em;"></div>


        <div style="height:1em;"></div>
        <h4 id="build">3.0 Build</h4>
        <div style="display:flex; width:max-content; border:2px solid var(--dark); padding:0.25em;">
          <pre style="width:43em; margin:0em;"><code class="language-shell">
C:&#92;github&#92;JimFawcett&#92;Bits&#92;Rust&#92;rust_iter
&gt; cargo run
   Compiling rust_iter v0.1.0 (C:&#92;github&#92;JimFawcett&#92;Bits&#92;Rust&#92;rust_iter)
    Finished dev [unoptimized + debuginfo] target(s) in 0.50s
C:&#92;github&#92;JimFawcett&#92;Bits&#92;Rust&#92;rust_iter
&gt;
</code></pre>
        </div>
        <h3 id="ide">4.0 VS Code View</h3>
        <t-b>
          The code for this demo is available in
          <a target="_blank" href="https://github.com/JimFawcett/Bits">github.com/JimFawcett/Bits</a>. If you click on
          the Code dropdown you can clone the repository of all code for these demos to your local drive.
          Then, it is easy to bring up any example, in any of the languages, in VS Code.
        </t-b>
        <t-b>
          Here, we do that for Rust\rust_iter.
        </t-b>
        <photosizer-block src="pictures/Debug_RustIter.JPG" width="800" class="photoSizerBlock left"
                          style="overflow-x:auto;">
          <span style="font-family:'Comic Sans MS';">Figure 1. VS Code IDE - Debug Rust Iter</span>
        </photosizer-block>
        <!--<photosizer-block src="pictures/LaunchJSON_Rust_Objects.JPG" width="700" class="photoSizerBlock left"
    style="overflow-x:auto;"
  >
    <span style="font-family:'Comic Sans MS';">Figure 2. Rust Launch.JSON</span>
  </photosizer-block>
  <photosizer-block src="pictures/VS_Code_Debugging_Rust_Objects.JPG" width="700" class="photoSizerBlock left"
    style="overflow-x:auto;"
  >
    <span style="font-family:'Comic Sans MS';">Figure 3. Debugging Rust Objects</span>
  </photosizer-block>-->
        <!--<photosizer-block src="pictures/VS_Code_Cpp_Plugins.jpg" width="700" class="photoSizerBlock left">
    <span style="font-family:'Comic Sans MS';">Figure 3. C++ Plugins</span>
  </photosizer-block>-->

        <div style="height:0.75em;" class="clear"></div>
        <h3 id="refs">5.0 References</h3>
        <table class="indent">
          <tr>
            <th class="darkItem">Reference</th>
            <th class="darkItem">Description</th>
          </tr>
          <tr>
            <td>
              <a target="_blank" href="../RustBites/RustBites_Iterator.html">RustBite_Iterators</a>
            </td>
            <td>
              RustBite on Iterators and Adapters
            </td>
          </tr>
          <tr>
            <td>
              <a target="_blank" href="../../RustStoryRepo.html">Rust Story</a>
            </td>
            <td>
              E-book with seven chapters covering most of intermediate Rust
            </td>
          </tr>
          <tr>
            <td>
              <a target="_blank" href="../RustBites/RustBites_Intro.html">Rust Bites</a>
            </td>
            <td>
              Relatively short feature discussions
            </td>
          </tr>
          <tr>
            <td>
              <a target="_blank" href="https://doc.rust-lang.org/std/iter/trait.Iterator.html">std::Iter</a>
            </td>
            <td>
              Library documentation for all of the standard methods. These are provided by any type that
              implements the Iterator trait.
            </td>
          </tr>
        </table>
        <div style="height:10em;"></div>
      </content>
      <a id="bottom"></a>
      <page-TOC id="pages" style="display:none;">
      </page-TOC>
      <!-- <page-sections id="sections" style="display:flex;">
        <menu-elem style="width:0.0em">&nbsp;</menu-elem>
        <menu-elem class="secElem"><a href="#bottom">bottom</a></menu-elem>
        <menu-elem class="secElem"><a href="#refs">refs</a></menu-elem>
        <menu-elem class="secElem"><a href="#ide">VS Code</a></menu-elem>
        <menu-elem class="secElem"><a href="#build">bld</a></menu-elem>
        <menu-elem class="secElem"><a href="#out">out</a></menu-elem>
        <menu-elem class="secElem"><a href="#analysis">anal</a></menu-elem>
        <menu-elem class="secElem"><a href="#points">pts</a></menu-elem>
        <menu-elem class="secElem"><a href="#source">src</a></menu-elem>
        <menu-elem class="secElem"><a href="#code">codeSnaps</a></menu-elem>
        <menu-elem class="secElem"><a href="#top">top</a></menu-elem>
      </page-sections> -->
    </main>
    <!-- <frame-footer>
      <menu-item style="width:1.0em;">&nbsp;</menu-item>
      <menu-elem id="nextLink2" onclick="bottomMenu.next()">Next</menu-elem>
      <menu-elem id="prevLink2" onclick="bottomMenu.prev()">Prev</menu-elem>
      <menu-elem id="pgbtn" onclick="bottomMenu.pages()">Pages</menu-elem>
      <menu-elem onclick="bottomMenu.sections()">Sections</menu-elem>
      <menu-elem onclick="bottomMenu.about()">About</menu-elem>
      <menu-elem id="kysbtn" onclick="storyHlpMenu.keys()">Keys</menu-elem>
      <menu-elem style="margin-right:5em">
        <span id="loc" style="display:inline-block; font-weight:normal"></span>
      </menu-elem>
    </frame-footer> -->
  </page-frame>
  <!-- <script>
    let loc = document.getElementById("loc");
    let fn = window.location.href.split(/\/|\\/).pop();
    loc.innerHTML = fn + ":";
  </script>
  <script>
    getScroll();
  </script> -->
  <script>
    onLoadSplitter("loops");
    onLoadSplitter("forloops");
    onLoadSplitter("csliter");
    onLoadSplitter("pointdef");
    onLoadSplitter("pointdemo");
    onLoadSplitter("structure");
    onLoadSplitter("methods");
    onLoadSplitter("fig4");
    onLoadSplitter("fig5");
    onLoadSplitter("fig6");
    onLoadSplitter("fig7");
    onLoadSplitter("fig8");
    onLoadSplitter("fig9");
    onLoadSplitter("fig10");
  </script>
</body>
</html>