<!DOCTYPE html>
<html>
<!--
  Bits_Data.html
-->
<head>
  <title>Bits_Data</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/StylesPhoto.css" />
  <link rel="stylesheet" href="css/StylesSizerComp.css" />
  <!-- PageFrame infrastructure -->
  <link rel="stylesheet" href="css/StylesPageFrameDefaults.css" />
  <link rel="stylesheet" href="css/StylesPageFrameStructure.css" />
  <link rel="stylesheet" href="css/StylesPageFrameMenus.css" />
  <link rel="stylesheet" href="css/StylesPageFrameThemeDefault.css" />
  <link rel="stylesheet" href="css/StylesWebComponents.css" />
  <script src="js/ScriptsWebComponents.js"></script>
  <!--<script src="js/ScriptsPageFrameDefaults.js"></script>-->
  <script src="js/ScriptsPageFrame.js"></script>
  <script src="js/ScriptsPageFramePagesBits.js"></script>
  <script src="js/ScriptsPageFrameKeyboard.js"></script>
  <script src="js/ScriptsPageFrameRadioButtons.js"></script>
  <!-- No need for Pages script for pages with no next or prev pages -->
  <!--<script src="js/ScriptsPageFramePages.js"></script>-->
  <style>
    #github .note {
      border: 1px solid var(--dark);
      padding:0.75em 1.5em;
      margin-top:1.25em;
      margin-bottom:1.25em;
      background-color: var(--light);
      color: var(--dark);
      max-width:50em;
    }
    #github h2 {
      margin-top: 0.75em;
    }
    #github notes-container {
      display: grid;
      grid-template-columns: 0.45fr 1fr;
      grid-gap: 0px;
      margin: 10px 10px;
      padding: 0px;
      border: 1px solid black;
    }


    #github note-link {
      grid-column: 1;
      margin: 0px;
      padding: 0.75em 1.5em;
      border: 1px solid var(--dark);
    }

    #github note-text {
      grid-column: 2;
      margin: 0px;
      padding: 0.75em 1.5em;
      border: 1px solid var(--dark);
    }

    #github .headerRow {
      margin: 0px;
      padding: 7px 20px;
      border: 1px solid var(--dark);
      color:var(--dark);
      background-color:var(--atten);
    }

    #github note-link.headerRow:link {
      margin: 0px;
      padding: 7px 20px;
      color: var(--dark);
      background-color: var(--atten);
      border: 1px solid var(--dark);
    }

    #github .SummaryRow {
      margin: 0px;
      padding: 7px 20px;
      border: 1px solid var(--dark);
      color: var(--dark);
      background-color: #ccc;
    }

    #github .topicRow {
      margin: 0px;
      padding: 0.5em 1.5em;
    }

    #github .topicLink {
      /*border-right: none;*/
    }

    #github #pagetitle {
      border:2px double var(--dark);
    }
    #github form {
      border:none;
      padding:0.5em 1em;
    }
    #github form span {
      padding:0em 0.5em;
    }
    #github code-container {
      display: flex;
      position:relative;
      width:calc(100%);
      flex-direction: row;
      justify-content: space-between;
      /*border-top: 1px solid var(--dark);*/
    }
    #github code-banner {
      display: block;
      border: 2px solid var(--dark);
      border-top:none;
      border-bottom:none;
      padding: 0.25em 1em;
      font-family: 'Comic Sans MS', Tahoma;
      width: calc(100% + 0.5em);
      background-color: var(--atten);
    }
    #github code-display {
      display: block;
      border: 2px solid var(--dark);
      white-space: pre;
      padding: 0.75em 1em;
      font-family: Consolas, monospace;
      font-size:0.9em;
      width: calc(50% - 0.5em);
      overflow-x: auto;
      /*height:20em;*/
    }
    #github label {
      margin-right:1em;
    }
    #github fieldset {
      border:none;
    }
    #github #exeRight, #exeLeft {
      padding:0.05em 0.5em;
      font-family:'Comic Sans MS', Tahoma;
    }
    #github .hide {
      display:none;
    }
  </style>
  <script>
    /*-- Load Cpp Code, Output, Build --*/
    function loadCppCode(id) {
      let codecont = document.getElementById(id);
      codecont.innerHTML = "<div style='white-space:normal; margin-left:2em;'>\
<details>\
  <summary class='darkItem' style='margin-left:-2em;'>Code Notes&nbsp;&nbsp;</summary>\
  <ol class='tight' style='margin-left:0em;'>\
    <li>\
      This code is a simple demonstration of basic types: int, double, string,\n\
      std::unique_ptr, and reference\
    </li>\
    <li>\
      It illustrates stack and heap based storage.\
    </li>\
    <li>\
      show function is designed to display type and calling name of its\
      first argument and its value and size.\
    </li>\
    <li>\
      At the call site its second argument is a string representation of\
      the calling name, created using the # operator for macro arguments.\
    </li>\
    <li>\
      There is no advantage using the macro over just passing in a string,\n\
      but was done to demonstrate a simple macro process.\
    </li>\
    <li>\
      <c-s>template&lt;typename T&gt;</c-s>\n\
      <c-s>void show(T t, const std::string &ts)</c-s> is generic on the type T\
    </li>\
  </ol >\
  <div style=&quot;height: 3em;&quot;>&nbsp;</div>\
</details >\
</div >\
<pre><div class=&quot;code&quot;>\
// Cpp_Data.cpp\n\
\n\
#include &lt;iostream&gt;  // std::cout\n\
#include &lt;typeinfo&gt;  // typeid\n\
#include &lt;memory&gt;    // std::unique_ptr\n\
#include &lt;utility&gt;   // move()\n\
\n\
/*\n\
  Static Data Types:\n\
    byte, bool, int, char, char16_t, char32_t, wchar_t\n\
    float, double\n\
    array, pointer, reference\n\
    struct, class, enum class, using\n\
  Qualifiers:\n\
    short, long, const\n\
\n\
  Operations:\n\
    Primitive types can all be copied.\n\
    Most library and user-defined types can be copied,\n\
    moved, and deleted by providing member constructors\n\
    and destructor. Often compiler generation works well.\n\
    For classes with pointer members developers must\n\
    provide them.\n\
      \n\
  Processing:\n\
    All types are static, operations run as native code,\n\
    and no garbage collection is needed. Resources are\n\
    returned at end of declr scope.\n\
*/\n\
/*-- macro turns name into string --*/\n\
#define STRINGIFY_(x) #x     // # is a macro stringizer\n\
#define TS(x) STRINGIFY_(x)  // operator\n\
      \n\
template&lt;typename T&gt;\n\
void show(T t, const std::string &ts) {\n\
  std::cout &lt;&lt; &quot;&#92;n  &quot; &lt;&lt; typeid(t).name();  // show type\n\
  std::cout &lt;&lt; &quot;, &quot; &lt;&lt; ts;                  // show name at call site\n\
  std::cout &lt;&lt; &quot;&#92;n  value: &quot; &lt;&lt; t;          // show value\n\
  std::cout &lt;&lt; &quot;,  size:  &quot; &lt;&lt; sizeof(t);   // show size on stack\n\
  std::cout &lt;&lt; &quot;&#92;n&quot;;\n\
}\n\
int main() {\n\
    std::cout &lt;&lt; &quot;&#92;n  Demonstrate C++ types:&quot;;\n\
    std::cout &lt;&lt; &quot;&#92;n ------------------------&quot;;\n\
    /*-- values live in stack frame --*/\n\
    int t1 = int{3};\n\
    show(t1, TS(t1));\n\
    long long int t1a = 3;\n\
    show(t1a, TS(t1a));\n\
    // double t1 = 3.1415927; // not allowed to redefine type of t1\n\
      \n\
    /*-- values live in heap when using new --*/\n\
    double* t2 = new double{3.14159};\n\
    show(t2, TS(t2));\n\
    show(*t2, TS(*t2));\n\
    delete(t2);\n\
      \n\
    /*-- control block lives in stack, char data live in heap --*/\n\
    auto t3 = std::string(&quot;Hello Data&quot;);  // move ctor - rhs is temp\n\
    show(t3, TS(t3));\n\
      \n\
    auto& t4 = t3;      // reference\n\
    show(t4, TS(t4));\n\
      \n\
    /*-- unique_ptr can not be copied but move allowed --*/\n\
    auto t5 = std::unique_ptr&lt;int&gt;(new int{-3});\n\
    show(std::move(t5), TS(t5));  // unique_ptr can't be copied so move\n\
    t5 = std::unique_ptr&lt;int&gt;(new int{-3});\n\
    show(*t5, TS(*t5)); // contents can be copied\n\
    /*-- unique_ptr releases its heap storage when it goes out of scope --*/\n\n\
    std::cout &lt;&lt; std::endl;\n\
}\n\
</div></pre>\
";
    }

    function loadCppOut(id) {
      let codecont = document.getElementById(id);
      codecont.innerHTML = "<pre>\
  Demonstrate C++ types:\n\
 ------------------------\n\
  int, t1\n\
  value: 3,  size:  4\n\
      \n\
  __int64, t1a\n\
  value: 3,  size:  8\n\
      \n\
  double * __ptr64, t2\n\
  value: 000001E8347573B0,  size:  8\n\
      \n\
  double, *t2\n\
  value: 3.14159,  size:  8\n\
      \n\
  class std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >, t3\n\
  value: Hello Data,  size:  40\n\
      \n\
  class std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >, t4\n\
  value: Hello Data,  size:  40\n\
      \n\
  class std::unique_ptr<int,struct std::default_delete<int> >, t5\n\
  value: 000001E8347465D0,  size:  8\n\
      \n\
  int, *t5\n\
  value: -3,  size:  4\n\
      \n\
C:\github\JimFawcett\Bits\Cpp\Cpp_Data\build\n\
></pre>";
    }

    function loadCppBld(id) {
      let codecont = document.getElementById(id);
      codecont.innerHTML = "<div class='code'>\
<pre style='overflow-x:auto;'>\n\
C:&#92;github&#92;JimFawcett&#92;Bits&#92;Cpp&#92;Cpp_Data&#92;build\n\
> cmake --build .     \n\
MSBuild version 17.4.0+18d5aef85 for .NET Framework\n\
  Cpp_Data.cpp\n\
  Cpp_Data.vcxproj -> C:&#92;github&#92;JimFawcett&#92;Bits&#92;Cpp&#92;Cpp_Data&#92;build&#92;Debug&#92;Cpp_Data.exe\n\
C:&#92;github&#92;JimFawcett&#92;Bits&#92;Cpp&#92;Cpp_Data&#92;build\n\
      \n\
</pre>\
</div>\
";
    }
    /*-- Load C# Code, Output, Build --*/
    function loadCsCode(id) {
      let codecont = document.getElementById(id);
      codecont.innerHTML = "<div>\
<div style='white-space:normal; margin-left:2em;'>\
<details>\
  <summary class='darkItem' style='margin-left:-2em;'>Code Notes&nbsp;&nbsp;</summary>\
  <ol class='tight' style='margin-left:0em;'>\
    <li>\
      This code is a not so simple demonstration of basic types: int, double, string,\n\
      struct, and class\
    </li>\
    <li>\
      It explores instance sharing and copy on write.\
    </li>\
    <li>\
      It enumerates members of value and reference types.\
    </li>\
    <li>\
      show function is designed to display type and calling name of its\
      first argument and its value and size.\
    </li>\
    <li>\
      Some of the analysis methods require reflection. The method\
      int GetManagedSize(Type type) requires advanced reflection techniques.\
    </li>\
  </ol >\
  <div style=&quot;height: 3em;&quot;>&nbsp;</div>\
</details >\
</div >\
</div>\
<pre>\n\
/* Cs_Data::Cs_Data.cs */\n\
/*\n\
  Static Data Types:\n\
    value types => assignment copies value\n\
    --------------------------------------\n\
      sbyte, byte, short, int, long, ushort, uint, ulong\n\
      float, double\n\
      decimal, char, bool\n\
      struct\n\
    Reference types => assignment copies reference\n\
    ----------------------------------------------\n\
      object, string, class\n\
*/\n\
using System;\n\
using System.Reflection;\n\
using System.Reflection.Emit;\n\
\n\
namespace HelloData\n\
{\n\
  /*-- \n\
    Svt is a value type used for type demo example.\n\
    It consists of three public properties.\n\
  --*/\n\
  public struct Svt   // value type with value type members\n\
  { \n\
    public Svt() {}\n\
    public int I { get; set; } = 0;\n\
    public double D { get; set; } = 1.0;\n\
    public char C { get; set; }  = 'a';\n\
    public void printSelf(string name) {\n\
      Console.Write(&quot;{0}  {{ I:{1}, D:{2}, C:{3} }}&#92;n&quot;, name, I, D, C);\n\
    }\n\
  }\n\
  /*-- \n\
    Crt is a reference type used for type demo example.\n\
    It consists of three public properties.\n\
  --*/\n\
  public class Crt   // reference type with a reference type member\n\
  { \n\
    public Crt() {}\n\
    public int I { get; set; } = 0;\n\
    public double D { get; set; } = 1.0;\n\
    public string S { get; set; }  = &quot;a string&quot;;\n\
    public void printSelf(string name) {\n\
      Console.Write(&quot;{0}  {{ I:{1}, D:{2}, S:{3} }}&#92;n&quot;, name, I, D, S);\n\
    }\n\
  }\n\
  /*-- type demonstration --*/\n\
  class Program\n\
  {\n\
    /*-- demonstration begins here --*/\n\
    static void Main(string[] args)\n\
    {\n\
      print(&quot; Demonstrate C# types&quot;);\n\
      label(&quot;int - value type&quot;);\n\
      showOp(&quot;int t1 = 42&quot;);\n\
      int t1 = 42;\n\
      showType(t1, &quot;t1&quot;);\n\
      iterate(t1);\n\
      print();\n\
      showOp(&quot;int t1a = t1&quot;);\n\
      int t1a = t1;\n\
      isSameObj(t1a, &quot;t1a&quot;, t1, &quot;t1&quot;);\n\
\n\
      // reference behavior - copy on write\n\
      label(&quot;string - reference type&quot;);\n\
      showOp(&quot;string t2 = &#92;&quot;a string&#92;&quot;&quot;);\n\
      string t2 = &quot;a string&quot;;\n\
      showType(t2, &quot;t2&quot;);\n\
      showNote(&quot;string has many methods - uncomment next line to see them&quot;);\n\
      //iterate(t2);\n\
      showOp(&quot;string t3 = t2&quot;);\n\
      string t3 = t2;\n\
      showType(t3, &quot;t3&quot;);\n\
      isSameObj(t3,&quot;t3&quot;,t2,&quot;t2&quot;);\n\
\n\
      showOp(&quot;t3 += &#92;&quot; is here&#92;&quot;&quot;);\n\
      t3 += &quot; is here&quot;;\n\
      showType(t3, &quot;t3&quot;);\n\
      isSameObj(t3,&quot;t3&quot;,t2,&quot;t2&quot;);\n\
      \n\
      label(&quot;Object - base reference type&quot;);\n\
      showOp(&quot;Object obj1 - new Object()&quot;);\n\
      Object obj1 = new Object();\n\
      // showIdent(obj, &quot;obj&quot;);\n\
      showType(obj1, &quot;obj&quot;);\n\
      iterate(obj1);\n\
      showOp(&quot;Object obj2 = obj1&quot;);\n\
      Object obj2 = obj1;\n\
      isSameObj(obj2, &quot;obj2&quot;, obj1, &quot;obj1&quot;);\n\
\n\
      label(&quot;Svt Struct value type&quot;);\n\
      showOp(&quot;Svt t4 = new Svt()&quot;);\n\
      Svt t4 = new Svt();\n\
      t4.I = 3;\n\
      t4.D = 3.1415927;\n\
      t4.C = 'z';\n\
      t4.printSelf(&quot;t4&quot;);\n\
      showType(t4, &quot;t4&quot;);\n\
      showNote(&quot;value type: size of object in stackframe&quot;);\n\
      iterate(t4);\n\
\n\
      showOp(&quot;Svt t4a = t4&quot;);\n\
      Svt t4a = t4;\n\
      t4a.printSelf(&quot;t4a&quot;);\n\
      t4.printSelf(&quot;t4&quot;);\n\
      isSameObj(t4a,&quot;t4a&quot;,t4,&quot;t4&quot;);\n\
      showType(t4a, &quot;t4a&quot;);\n\
\n\
      showOp(&quot;t4a.C = 'q'&quot;);\n\
      t4a.C = 'q';\n\
      t4a.printSelf(&quot;t4a&quot;);\n\
      t4.printSelf(&quot;t4&quot;);\n\
      isSameObj(t4, &quot;t4&quot;, t4a, &quot;t4a&quot;);\n\
\n\
      label(&quot;Crt - ref type with ref member&quot;);\n\
      showOp(&quot;Crt t5 = new Crt()&quot;);\n\
      Crt t5 = new Crt();\n\
      t5.S = &quot;SomeString&quot;;\n\
      t5.printSelf(&quot;t5&quot;);\n\
      showType(t5, &quot;t5&quot;);\n\
      showNote(&quot;ref type: size of handle to object in heap&quot;);\n\
\n\
      showOp(&quot;Crt t5a = t5&quot;);\n\
      Crt t5a = t5;\n\
      t5a.printSelf(&quot;t5a&quot;);\n\
      isSameObj(t5a, &quot;t5a&quot;, t5, &quot;t5&quot;);\n\
      isSameObj(t5a.S, &quot;t5a.S&quot;, t5.S, &quot;t5.S&quot;);\n\
\n\
      showOp(&quot;t5a.S = &#92;&quot;new string&#92;&quot;&quot;);\n\
      t5a.S = &quot;new string&quot;;\n\
      t5a.printSelf(&quot;t5a&quot;);\n\
      t5a.printSelf(&quot;t5&quot;);\n\
      isSameObj(t5a, &quot;t5a&quot;, t5, &quot;t5&quot;);\n\
      isSameObj(t5a.S, &quot;t5a.S&quot;, t5.S, &quot;t5.S&quot;);\n\
      showNote(&quot;source t5 was altered!&quot;);\n\
      Console.WriteLine(&quot;&#92;nThat's all Folks!&#92;n&quot;);\n\
    }\n\
    /*--\n\
      Analysis function: void showType&lt;T&gt; shows type name,\n\
      calling argument name, value, and size, using simple reflection.\n\
    --*/\n\
    public static void showType&lt;T&gt;(T t, String s)\n\
    {\n\
      #pragma warning disable CS8602  // possibly null reference warning\n\
      Type tt = t.GetType();\n\
      Console.WriteLine(&quot;{0}, {1}&quot;,tt.Name, s);\n\
      int size = Utils.GetManagedSize(tt);\n\
      Console.WriteLine(&quot;value: {0}, size: {1}&quot;, t, size);\n\
    }\n\
    /*-- beware, two distinct objects may have same hashcode --*/\n\
    public static void showIdent&lt;T&gt;(T t, String n) {\n\
      int id = t.GetHashCode();\n\
      Console.WriteLine(&quot;{0}, {1}&quot;, n, id);\n\
    }\n\
    /*--\n\
      Analysis function: void isSameObj&lt;T&gt; shows whether two,\n\
      references point to the same instance.\n\
    --*/\n\
    public static void isSameObj&lt;T&gt;(T t1, String n1, T t2, String n2) {\n\
      if(ReferenceEquals(t1, t2)) {\n\
        Console.WriteLine(&quot;{0} is same object as {1}&quot;, n1, n2);\n\
      }\n\
      else {\n\
        Console.WriteLine(&quot;{0} is not same object as {1}&quot;, n1, n2);\n\
      }\n\
    }\n\
    /*--\n\
      Display function: void showOp; prints a formatted string to,\n\
      indicate an operation was executed with one or more instances.\n\
    --*/\n\
    public static void showOp(string op) {\n\
      Console.WriteLine(&quot;--- {0} ---&quot;, op);\n\
    }\n\
    /*--\n\
      Display function enumerates members of struct or class.\n\
    --*/\n\
    // https://stackoverflow.com/questions/7613782/iterating-through-struct-members\n\
    public static void iterate&lt;T&gt;(T t) /*where T:new()*/ {\n\
      Console.WriteLine(&quot;fields:&quot;);\n\
      foreach(\n\
        var field in typeof(T).GetFields(\n\
          BindingFlags.Instance | BindingFlags.NonPublic | BindingFlags.Public\n\
        )\n\
      ) {\n\
        Console.WriteLine(\n\
          &quot;  {0} = {1}&quot;, field.Name, field.GetValue(t)\n\
        );\n\
      }\n\
      Console.WriteLine(&quot;methods:&quot;);\n\
      foreach(\n\
        var method in typeof(T).GetMethods(\n\
          BindingFlags.Instance | BindingFlags.Public\n\
        )\n\
      ) {\n\
        Console.WriteLine(\n\
          &quot;  {0}&quot;, method.Name\n\
        );\n\
      }\n\
    }\n\
    /*--\n\
      Display function is shorthand for Console.WriteLine\n\
    --*/\n\
    public static void print(String s = &quot;&quot;) {\n\
      Console.WriteLine(s);\n\
    }\n\
    /*--\n\
      Display function prints a formatted string label.\n\
    --*/\n\
    public static void label(string s) {\n\
      Console.WriteLine(\n\
        &quot;&#92;n---------------&#92;n  {0}&#92;n---------------&quot;, s\n\
      );\n\
    }\n\
    /*--\n\
      Display function prints a formatted string note.\n\
    --*/\n\
    public static void showNote(string s) {\n\
      Console.WriteLine(&quot;--- Note: ---&#92;n  {0}&quot;, s);\n\
    }\n\
  }\n\
  /*-- \n\
    Utils uses advanced relection \n\
    - This is function returns the size of value types and handles\n\
      which is part of discovering how things work.\n\
      It is placed here because it uses advanced techniques that\n\
      will eventually be covered elsewhere in this site.  Knowing\n\
      how it works is not essential for the things we are examining\n\
      in this demo.\n\
  --*/\n\
  // https://stackoverflow.com/questions/8173239/c-getting-size-of-a-value-type-variable-at-runtime/8173293#8173293\n\
  public static class Utils {\n\
    /*-- more advanced reflection --*/\n\
    // https://stackoverflow.com/questions/7613782/iterating-through-struct-members\n\
    public static int GetManagedSize(Type type)\n\
    {\n\
      // all this just to invoke one opcode with no arguments!\n\
      var method = new DynamicMethod(\n\
        &quot;GetManagedSizeImpl&quot;, typeof(uint), new Type[0], \n\
        typeof(TypeExtensions), false\n\
      );\n\
\n\
      ILGenerator gen = method.GetILGenerator();\n\
      gen.Emit(OpCodes.Sizeof, type);\n\
      gen.Emit(OpCodes.Ret);\n\
\n\
      var func = (Func&lt;uint&gt;)method.CreateDelegate(typeof(Func&lt;uint&gt;));\n\
      return checked((int)func());\n\
    }\n\
  }\n\
}\n\
</pre>\n\
"
    }
    function loadCsOut(id) {
      let codecont = document.getElementById(id);
      codecont.innerHTML = "<pre>\n\
C:&#92;github&#92;JimFawcett&#92;Bits&#92;CSharp&#92;Cs_Data\n\
&gt; dotnet run\n\
 Demonstrate C# types\n\
\n\
---------------\n\
  int - value type\n\
---------------\n\
--- int t1 = 42 ---\n\
Int32, t1\n\
value: 42, size: 4\n\
fields:\n\
  m_value = 42\n\
methods:\n\
  CompareTo\n\
  CompareTo\n\
  Equals\n\
  Equals\n\
  GetHashCode\n\
  ToString\n\
  ToString\n\
  ToString\n\
  ToString\n\
  TryFormat\n\
  GetTypeCode\n\
  GetType\n\
\n\
--- int t1a = t1 ---\n\
t1a is not same object as t1\n\
\n\
---------------\n\
  string - reference type\n\
---------------\n\
--- string t2 = &quot;a string&quot; ---\n\
String, t2\n\
value: a string, size: 8\n\
--- Note: ---\n\
  string has many methods - uncomment next line to see them\n\
--- string t3 = t2 ---\n\
String, t3\n\
value: a string, size: 8\n\
t3 is same object as t2\n\
--- t3 += &quot; is here&quot; ---\n\
String, t3\n\
value: a string is here, size: 8\n\
t3 is not same object as t2\n\
\n\
---------------\n\
  Object - base reference type\n\
---------------\n\
--- Object obj1 - new Object() ---\n\
Object, obj\n\
value: System.Object, size: 8\n\
fields:\n\
methods:\n\
  GetType\n\
  ToString\n\
  Equals\n\
  GetHashCode\n\
--- Object obj2 = obj1 ---\n\
obj2 is same object as obj1\n\
\n\
---------------\n\
  Svt Struct value type\n\
---------------\n\
--- Svt t4 = new Svt() ---\n\
t4  { I:3, D:3.1415927, C:z }\n\
Svt, t4\n\
value: HelloData.Svt, size: 24\n\
--- Note: ---\n\
  value type: size of object in stackframe\n\
fields:\n\
  &lt;I&gt;k__BackingField = 3\n\
  &lt;D&gt;k__BackingField = 3.1415927\n\
  &lt;C&gt;k__BackingField = z\n\
methods:\n\
  get_I\n\
  set_I\n\
  get_D\n\
  set_D\n\
  get_C\n\
  set_C\n\
  printSelf\n\
  Equals\n\
  GetHashCode\n\
  ToString\n\
  GetType\n\
--- Svt t4a = t4 ---\n\
t4a  { I:3, D:3.1415927, C:z }\n\
t4  { I:3, D:3.1415927, C:z }\n\
t4a is not same object as t4\n\
Svt, t4a\n\
value: HelloData.Svt, size: 24\n\
--- t4a.C = 'q' ---\n\
t4a  { I:3, D:3.1415927, C:q }\n\
t4  { I:3, D:3.1415927, C:z }\n\
t4 is not same object as t4a\n\
\n\
---------------\n\
  Crt - ref type with ref member\n\
---------------\n\
--- Crt t5 = new Crt() ---\n\
t5  { I:0, D:1, S:SomeString }\n\
Crt, t5\n\
value: HelloData.Crt, size: 8\n\
--- Note: ---\n\
  ref type: size of handle to object in heap\n\
--- Crt t5a = t5 ---\n\
t5a  { I:0, D:1, S:SomeString }\n\
t5a is same object as t5\n\
t5a.S is same object as t5.S\n\
--- t5a.S = &quot;new string&quot; ---\n\
t5a  { I:0, D:1, S:new string }\n\
t5  { I:0, D:1, S:new string }\n\
t5a is same object as t5\n\
t5a.S is same object as t5.S\n\
--- Note: ---\n\
  source t5 was altered!\n\
\n\
That's all Folks!\n\
\n\
C:&#92;github&#92;JimFawcett&#92;Bits&#92;CSharp&#92;Cs_Data\n\
&gt;\n\
</pre>\n\
"
    }
    function loadCsBld(id) {
      let codecont = document.getElementById(id);
      codecont.innerHTML = "<pre>\n\
C:&#92;github&#92;JimFawcett&#92;Bits&#92;CSharp&#92;Cs_Data\n\
&gt; dotnet build\n\
MSBuild version 17.4.0+18d5aef85 for .NET\n\
  Determining projects to restore...\n\
  All projects are up-to-date for restore.\n\
  Cs_Hello -&gt; C:&#92;github&#92;JimFawcett&#92;Bits&#92;CSharp&#92;Cs_Data&#92;bin&#92;De\n\
  bug&#92;net7.0&#92;Cs_Hello.dll\n\
\n\
Build succeeded.\n\
    0 Warning(s)\n\
    0 Error(s)\n\
\n\
Time Elapsed 00:00:01.69\n\
C:&#92;github&#92;JimFawcett&#92;Bits&#92;CSharp&#92;Cs_Data\n\
&gt;\n\
</pre>"
    }

    /*-- Load Rust Code, Output, Build --*/
    function loadRsCode(id) {
      let codecont = document.getElementById(id);
      codecont.innerHTML = "<div class='code'>\
      <div style='white-space:normal; margin-left:2em; margin-top:-1em;'>\
        <details>\
          <summary class='darkItem' style='margin-left:-2em;'>Code Notes&nbsp;&nbsp;</summary>\
          <ol class='tight' style='margin-left:0em;'>\
            <li>\
              This Bit illustrates use of basic types: i32, i64, double, mutable reference,\
              and String.\
            </li>\
            <li>\
              It illustrates use of copy, move, and clone operations, as well as stack\n\
              and heap memory.\
            </li>\
            <li>\
              show function is designed to display type and calling name of its\
              first argument and its value and size.\
            </li>\
            <li>\
              At the call site its second argument is a string representation of\
              the calling name, created using the stringify! macro. There is no\
              advantage over passing in a literal string.  This was done to demonstrate\
              use of stringify! macro.  All Rust macros end with the ! character.\
            </li>\
            <li>\
              <c-s>show&lt;T: Debug&gt;(T:t, n:&str)</c-s> is generic on the type T\
              with the bound that T must satisfy the Debug trait.\
            </li>\
            <li>\
              The Debug trait provides a simple formatting using {:?} in print macro.\
              <div style='height:0.75em;'></div>\
            </li>\
          </ol >\
        </details >\n\
      </div >\
<pre>\
#![allow(unused_mut)]\n\
/* rust_hello_data::main.rs */\n\
/*\n\
  Static Data Types:\n\
    bool, char\n\
    i8, i16, i32, i64, i128, isize\n\
    u8, u16, u32, u64, u128, usize\n\
    f32, f64\n\
    (), reference\n\
    array, tuple\n\
    struct, enum, use\n\
  Qualifiers:\n\
    mutable, const\n\
      \n\
  Operations:\n\
    Primitive types can all be copied.\n\
    Most library and user-defined types can be moved,\n\
    cloned, but only aggregates with all copyable members\n\
    can be copied.\n\
      \n\
  Processing:\n\
    All types are static, operations run as native code,\n\
    and no garbage collection is needed. Resources are\n\
    returned at end of declr scope.\n\
*/\n\
use std::fmt::Debug;\n\
/*\n\
  First argument is passed by value, second passed\n\
  by reference. Non-copy types supplied to the first\n\
  argument will be moved.\n\
*/\n\
fn show&lt;T: Debug&gt;(t:T, n:&str) {\n\
  let typename = std::any::type_name::&lt;T&gt;();\n\
  println!(&quot;&#92;n{}, {}&quot;,typename, n);\n\
  println!(&quot;value: {:?}, size: {}&quot;, t, std::mem::size_of::&lt;T&gt;());\n\
}\n\
      \n\
fn main() {\n\
    print!(\n\
      &quot;&#92;n Demonstrate Rust types&#92;n&#92;\n\
       ------------------------&quot;\n\
    );\n\
    /*\n\
      Primitive data types: i32, f64, ... occupy contiguous\n\
      regions of memory, so they satisfy the copy trait.\n\
      \n\
      Library types like String have a control block in stack\n\
      and data in heap. So they do not satisfy the copy trait.\n\
      They can be cloned, but that requires an explicit call\n\
      to clone().\n\
    */\n\
      \n\
    /*-- values live in stack frame --*/\n\
    let mut t1 :i32 = 42;\n\
    show(t1, stringify!(t1));\n\
    let t1a:i64 = 42;\n\
    show(t1a, stringify!(t1a));\n\
    /*\n\
      Below is not type redefinition, it is shadowing,\n\
      e.g., a new variable that hides the older t1a.\n\
    */\n\
    let t1a:f64 = 42.0;\n\
    show(t1a, stringify!(t1a));\n\
      \n\
    /*-- create mutable reference --*/\n\
    let t1b:&mut f64 = &mut t1a;\n\
    *t1b = 84.0;\n\
    show(t1b, stringify!(t1b));\n\
      \n\
    /*-- values live in heap when wrapped with box --*/\n\
    let t2 = Box::new(3.14159f64);  // 3.14159f64 value specified to be f64\n\
    show(t2.clone(), stringify!(t2));\n\
    show(*t2, stringify!(*t2));\n\
    /*-- Box releases heap storage when it goes out of scope --*/\n\n\
    let s1 = std::mem::size_of::&lt;Box&lt;i8&gt;&gt;();\n\
    let s2 = std::mem::size_of::&lt;Box&lt;i64&gt;&gt;();\n\
    println!(&quot;&#92;nsize_of::&lt;Box&lt;i8&gt;&gt;() = {}&quot;, s1);\n\
    println!(&quot;size_of::&lt;Box&lt;i64&gt;&gt;() = {}&quot;, s2);\n\
      \n\
    /*--\n\
      Control block lives on stack, char data live in heap.\n\
      Passing by value or assignment transfers ownership\n\
      from source to destination.  That is termed a move.\n\
    --*/\n\
    let t3:String = String::from(&quot;Hello Data&quot;);  // temp moved\n\
    show(t3.clone(), stringify!(t3.clone()));    // moves t3s clone\n\
      \n\
    let t4 = &t3;  // reference to still valid t3\n\
    show(t4, stringify!(t4));\n\
      \n\
    let t5 = [1, 2, 3, 4, 5];  // copy type\n\
    show(t5, stringify!(t5));\n\
    let mut txt = String::from(&quot;&#92;nt5 was copied into show(...)&quot;);\n\
    txt += &quot;, see:&#92;nt5 = &quot;;\n\
    println!(&quot;{}{:?} is still valid&quot;, txt, t5);\n\
      \n\
    println!(&quot;&#92;n&#92;nThat's all Folks!!&#92;n&#92;n&quot;);\n\
}\n\
</pre></div>\
";
    }

    function loadRsOut(id) {
      let codecont = document.getElementById(id);
      codecont.innerHTML = "<pre>\
 Demonstrate Rust types\n\
------------------------\n\
i32, t1\n\
value: 42, size: 4\n\
      \n\
i64, t1a\n\
value: 42, size: 8\n\
      \n\
f64, t1a\n\
value: 42.0, size: 8\n\
      \n\
&mut f64, t1b\n\
value: 84.0, size: 8\n\
      \n\
alloc::boxed::Box&lt;f64&gt;, t2\n\
value: 3.14159, size: 8\n\
      \n\
f64, * t2\n\
value: 3.14159, size: 8\n\
      \n\
size_of::&lt;Box&lt;i8&gt;&gt;() = 8\n\
size_of::&lt;Box&lt;i64&gt;&gt;() = 8\n\
\n\
alloc::string::String, t3.clone()\n\
value: &quot;Hello Data&quot;, size: 24\n\
    \n\
&alloc::string::String, t4\n\
value: &quot;Hello Data&quot;, size: 8\n\
    \n\
[i32; 5], t5\n\
value: [1, 2, 3, 4, 5], size: 20\n\
    \n\
t5 was copied into show(...), see:\n\
t5 = [1, 2, 3, 4, 5] is still valid\n\
    \n\
    \n\
That's all Folks!!\n\
    \n\
</pre>";
    }

    function loadRsBld(id) {
      let codecont = document.getElementById(id);
      codecont.innerHTML = "<pre>\
C:&#92;github&#92;JimFawcett&#92;Bits&#92;rust&#92;rust_hello_data\n\
> cargo run\n\
   Compiling rust_hello_data v0.1.0 (C:&#92;github&#92;JimFawcett&#92;Bits&#92;rust&#92;rust_hello_data)\n\
    Finished dev [unoptimized + debuginfo] target(s) in 0.32s\n\
     Running `target&#92;debug&#92;rust_hello_data.exe`\n\
        ...\n\n\
C:&#92;github&#92;JimFawcett&#92;Bits&#92;rust&#92;rust_hello_data\n\
>      </pre>";
    }
    /*-- Load Python Code, Output, Build --*/
    function loadPyCode(id) {
      let codecont = document.getElementById(id);
      codecont.innerHTML = "<div class='code' style='margin-top:-1em;'>\n\
<div style='white-space:normal; margin-left:2em;'>\
<details>\
  <summary class='darkItem' style='margin-left:-2em;'>Code Notes&nbsp;&nbsp;</summary>\
  <ol class='tight' style='margin-left:0em;'>\
    <li>\
      This code is a simple demonstration of basic types: int, float,\n\
      complex, and list.\n\
    </li>\
    <li>\
      All Python types are reference types with values stored in heap.\
    </li>\
    <li>\
      showType function is designed to display type and calling name of its\n\
      first argument and its value and size.\
    </li>\
    <li>\
      Note that the display and analysis functions are simpler than those for\n\
      C++, Rust, and especially C#\
    </li>\
    <li>\
      Python does not have a generics. It is dynamically typed, so\n\
      everything is already generic.\
    </li>\
  </ol >\
  <div style=&quot;height: 3em;&quot;>&nbsp;</div>\
</details >\
</div >\
<pre>\n\
# Python/Py_Data::Py_Data.py\n\
# \n\
# Python Dynamic Data Types\n\
#   int, float, complex\n\
#   bytes, bytearray, memoryview\n\
#   list, tuple, range\n\
#   dict, set, frozenset\n\
#   bool\n\
#   str\n\
#   NoneType\n\
\n\
import sys\n\
def showType(t, n) :\n\
    print(type(t), n)\n\
    print(&quot;value: &quot;, t, ', size: ', sys.getsizeof(t))\n\
\n\
def showIdent(t, n) :\n\
    print(n, t, id(t))\n\
\n\
def separate() :\n\
    print(&quot;------&quot;)\n\
\n\
def execute() : \n\
    print(&quot; Demonstrate Python Types&quot;)\n\
    print(&quot;--------------------------&quot;)\n\
    # types\n\
    t1 = 42\n\
    showType(t1, &quot;t1&quot;)\n\
    t1 = 3.14159         #dynamic type t1 redefined\n\
    showType(t1, &quot;t1&quot;)\n\
    t1 = [1, 2, 3, 4]    #dynamic type t1 redefined\n\
    showType(t1, &quot;t1&quot;)\n\
\n\
    # reference behavior - copy on write\n\
    separate()\n\
    print(&quot;t2 = t1&quot;)\n\
    t2 = t1\n\
    showIdent(t1,&quot;t1&quot;)\n\
    showIdent(t2,&quot;t2&quot;)\n\
    print(&quot;&#92;nt2 = 3.33333&quot;)\n\
    t2 = 3.33333\n\
    showIdent(t1,&quot;t1&quot;)\n\
    showIdent(t2,&quot;t2&quot;)\n\
\n\
    # reference behavior - copy on write\n\
    separate()\n\
    print(&quot;t2 += -1.0&quot;)\n\
    t2 += -1.0\n\
    showIdent(t1,&quot;t1&quot;)\n\
    showType(t1, &quot;t1&quot;)\n\
    showIdent(t2,&quot;t2&quot;)\n\
    showType(t2, &quot;t2&quot;)\n\
\n\
    # reference behavior - copy on write\n\
    separate()\n\
    t3 = [1, &quot;one&quot;]\n\
    showIdent(t3, &quot;t3&quot;)\n\
    print(&quot;t4 = t3&quot;)\n\
    t4 = t3\n\
    showIdent(t3, &quot;t3&quot;)\n\
    showType(t3,&quot;t3&quot;)\n\
    showIdent(t4, &quot;t4&quot;)\n\
    showType(t4,&quot;t4&quot;)\n\
    \n\
    # reference behavior - no copy on write\n\
    separate()\n\
    print(&quot;t3.append('b')&quot;)\n\
    t3.append('b')\n\
    showIdent(t3, &quot;t3&quot;)\n\
    showType(t3,&quot;t3&quot;)\n\
    showIdent(t4, &quot;t4&quot;)\n\
    showType(t4,&quot;t4&quot;)\n\
\n\
    # reference behavior - child copy on write\n\
    separate()\n\
    t5 = (1, 2, 3)\n\
    t6 = [1, t5, &quot;weird&quot;]\n\
    showIdent(t5, &quot;t5&quot;)\n\
    showIdent(t6, &quot;t6&quot;)\n\
    t5 = 1 + 1j\n\
    showIdent(t5, &quot;t5&quot;)\n\
    showIdent(t6, &quot;t6&quot;)\n\
    \n\
    # reference behavior - iterate over children\n\
    separate()\n\
    print(&quot;iterate over t6&quot;)\n\
    for i in t6:\n\
        showIdent(i, &quot;elem&quot;)\n\
    # print(dir(t6))\n\
      \n\
    print(&quot;&#92;nThat's all folks!&#92;n&quot;)\n\
execute()\n\
\n\
</pre>\n\
</div>\n\
";
    }

    function loadPyOut(id) {
      let codecont = document.getElementById(id);
      codecont.innerHTML = "<div class='code'>\n\
<pre>\n\
C:&#92;github&#92;JimFawcett&#92;Bits&#92;Python&#92;Py_Data\n\
&gt; python .&#92;Py_Data.py\n\
 Demonstrate Python Types\n\
--------------------------\n\
&lt;class 'int'&gt; t1\n\
value:  42 , size:  28\n\
&lt;class 'float'&gt; t1\n\
value:  3.14159 , size:  24\n\
&lt;class 'list'&gt; t1\n\
value:  [1, 2, 3, 4] , size:  88\n\
------\n\
t2 = t1\n\
t1 [1, 2, 3, 4] 1581050570752\n\
t2 [1, 2, 3, 4] 1581050570752\n\
\n\
t2 = 3.33333\n\
t1 [1, 2, 3, 4] 1581050570752\n\
t2 3.33333 1581050207984\n\
------\n\
t2 += -1.0\n\
t1 [1, 2, 3, 4] 1581050570752\n\
&lt;class 'list'&gt; t1\n\
value:  [1, 2, 3, 4] , size:  88\n\
t2 2.33333 1581050209360\n\
&lt;class 'float'&gt; t2\n\
value:  2.33333 , size:  24\n\
------\n\
t3 [1, 'one'] 1581050507840\n\
t4 = t3\n\
t3 [1, 'one'] 1581050507840\n\
&lt;class 'list'&gt; t3\n\
value:  [1, 'one'] , size:  72\n\
t4 [1, 'one'] 1581050507840\n\
&lt;class 'list'&gt; t4\n\
value:  [1, 'one'] , size:  72\n\
------\n\
t3.append('b')\n\
t3 [1, 'one', 'b'] 1581050507840\n\
&lt;class 'list'&gt; t3\n\
value:  [1, 'one', 'b'] , size:  120\n\
t4 [1, 'one', 'b'] 1581050507840\n\
&lt;class 'list'&gt; t4\n\
value:  [1, 'one', 'b'] , size:  120\n\
------\n\
t5 (1, 2, 3) 1581050830144\n\
t6 [1, (1, 2, 3), 'weird'] 1581050835264\n\
t5 (1+1j) 1581050208048\n\
t6 [1, (1, 2, 3), 'weird'] 1581050835264\n\
------\n\
iterate over t6\n\
elem 1 1581049184496\n\
elem (1, 2, 3) 1581050830144\n\
elem weird 1581050834288\n\
\n\
That's all folks!\n\
\n\
C:&#92;github&#92;JimFawcett&#92;Bits&#92;Python&#92;Py_Data\n\
&gt;\n\
</pre>\n\
</div>";
    }

    function loadPyBld(id) {
      let codecont = document.getElementById(id);
      codecont.innerHTML = "<pre>\
C:&#92;github&#92;JimFawcett&#92;Bits&#92;Python&#92;Py_Data\n\
> python Py_Data.py\n\
 Demonstrate Python Types\n\
--------------------------\n\
>\
      </pre>";
    }
    /*-- Load Javascript Code, Output, Build --*/
    function loadJsCode(id) {
      let codecont = document.getElementById(id);
      codecont.innerHTML = "<div class='code'>\
<pre>\
&lt;!DOCTYPE html>\n\
&lt;html>\n\
&lt;!-- Js_Hello.html -->\n\
&lt;head>\n\
  &lt;script>\n\
    function hello() {\n\
      document.getElementById(&quot;hello&quot;).innerHTML =\n\
        &quot;&lt;h2>Hello JavaScript World&lt;/h2>&quot;;\n\
    }\n\
  &lt;/script&gt;\n\
  &lt;style&gt;\n\
    body {\n\
      font-family:'Comic Sans MS', Tahoma;\n\
      padding:2em;\n\
    }\n\
  &lt;/style&gt;\n\
&lt;/head&gt;\n\
&lt;body&gt;\n\
  &lt;div id=&quot;hello&quot;&gt;&lt;/div&gt;\n\
  &lt;script&gt;\n\
    hello();\n\
  &lt;/script>\n\
&lt;/body&gt;\n\
&lt;/html&gt;\n\
</pre>\
</div>\
";
    }

    function loadJsOut(id) {
      let codecont = document.getElementById(id);
      codecont.innerHTML = "<pre>\
Hello JavaScript world\
</pre>";
    }

    function loadJsBld(id) {
      let codecont = document.getElementById(id);
      codecont.innerHTML = "<pre>\
Source html, script, and styles are loaded,\n\
parsed and rendered by browser&apos;s execution\n\
engine.\n\
      </pre>";
    }
    function remoteLeft() {
      let cp = document.getElementById("Cp1");
      if (cp.checked) {
        window.open('https://godbolt.org/z/f5x1W8Exx', '_blank');
      }
      let cs = document.getElementById("Cs1");
      if (cs.checked) {
        window.open('https://godbolt.org/z/rnTvM3E1a', '_blank');
      }
      let rs = document.getElementById("Rs1");
      if (rs.checked) {
        window.open(
          'https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=b30e17c45574a8f9f276250365f12250',
          '_blank'
        )
      }
      let py = document.getElementById("Py1");
      if (py.checked) {
        window.open(
          'https://godbolt.org/z/7noK4Yvvd',
          '_blank'
        )
      }
      let js = document.getElementById("Js1");
      if (js.checked) {
        window.open(
          'Js_Hello.html',
          '_blank'
        )
      }
    }
    function remoteRight() {
      let cp = document.getElementById("Cp2");
      if (cp.checked) {
        window.open('https://godbolt.org/z/f5x1W8Exx', '_blank');
      }
      let cs = document.getElementById("Cs2");
      if (cs.checked) {
        window.open('https://godbolt.org/z/rnTvM3E1a', '_blank');
      }
      let rs = document.getElementById("Rs2");
      if (rs.checked) {
        window.open(
          'https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=b30e17c45574a8f9f276250365f12250',
          '_blank'
        )
      }
      let py = document.getElementById("Py2");
      if (py.checked) {
        window.open(
          'https://godbolt.org/z/7noK4Yvvd',
          '_blank'
        )
      }
      let js = document.getElementById("Js2");
      if (js.checked) {
        window.open(
          'Js_Hello.html',
          '_blank'
        )
      }
    }
  </script>
</head>
<body id="github" onload="initialize()">

  <a id="Next" href="Bits_Data.html">Next</a>
  <a id="Prev" href="Bits_Hello.html">Prev</a>

  <page-frame>
    <frame-header>
      <nav id="navbar"></nav>
    </frame-header>
    <main>
      <div id="about">about</div>
      <div id="page">Bits Data</div>
      <div id="modified">12/30/2022</div>
      <div id="hlp"></div>
      <a id="top"></a>
      <content>

        <header>
          <hgroup id="pagetitle">
            <!--<a class="repoLink" href="https://github.com/JimFawcett">github Repositories</a>-->
            <h1 id="title">Bits_Data</h1>
            <h3 id="subtitle" class="indent">
              code, output, and build for C++, Rust, C#, Python, and JavaScript on Windows, macOS, and Linux
            </h3>
          </hgroup>
        </header>
        <t-b>
          These pages support comparison of fragments of code in several different
          languages, much as you might compare a sentence of English with one in Spanish to help you learn
          Spanish.
        </t-b>
        <t-b>
          The examples below show how to use primitive and library defined types with emphasis on
          binding names to values, copy and move operations, and references. Later Bits will look at 
          creation and use of user-defined types.
        </t-b>
        <details>
          <summary class="darkItem">Demo Notes&nbsp;&nbsp;</summary>
          All of the languages covered in this demonstration have type categories shown in the table below.
          The purpose of this demonstration is to show how type categories affect the code we produce.
          <table style="width:calc(100% - 0em); margin-top:1em;">
            <tr>
              <th style="width:6em;">Category</th>
              <th style="width:30em;">Discussion</th><th>Languages supporting this category</th>
            </tr>
            <tr>
              <td>Bind</td>
              <td>
                Binding associates a name with a value stored in some location.
              </td>
              <td>
                <t-b style="margin-top:0em;">
                  C++ binds with expressions like <c-s>double d = 3.1415927;</c-s> or 
                  <c-s>auto&nbsp;d&nbsp;=&nbsp;3.1415927;</c-s>.
                </t-b>
                <t-b style="margin-top:0em;">
                  Rust binds with expressions like <c-s>let d = 3.1415927f64;</c-s> or 
                  <c-s>let d:f64 = 3.1415927;</c-s>.
                </t-b>
                <t-b style="margin-top:0em;">
                  Python binds with expressions like <c-s>d = 3.1415927;</c-s>.
                </t-b>
                <t-b style="margin-top:0em;">
                  JavaScript binds with expressions like <c-s>let d = 3.1415927;</c-s>.
                </t-b>
              </td>
            </tr>
            <tr>
              <td>Copy</td>
              <td>
                Type storage is a contiguous block of memory, e.g., primitive types and aggregates
                of primitive types. Copy occurs implicitly for definition, assignment, and pass by value.
                Copy is effected with a simple memcopy operation.
              </td>
              <td>C++, Rust, and C#</td>
            </tr>
            <tr>
              <td>Move</td>
              <td>
                Instances of non-copy types have control blocks stored in stackframe and data storage in heap.
                Move transfers ownership of heap resources from source to destination when instance
                is constructed, assigned, and passed by value. Move source is invalid after move operation.
                <div style="height:0.75em;"></div>
                Note that move is less expensive than copy operations, especially for large objects.
              </td>
              <td>
                <t-b style="margin-top:0em;">
                  C++ moves temporaries and instance t when t is wrapped with move operator, e.g., 
                  <c-s>std::move(t)</c-s>, provided a move constructor, <c-s>T(&amp;&amp; t)</c-s> is
                  defined. Otherwise t is copied.  Moved instances are usually invalid, but C++ does
                  not mark them as invalid, so errors may occur if used after move.
                </t-b>
                <t-b>
                  Rust always moves non-copy types when constructed, assigned, and passed by value.
                  Moved instances are marked invalid and attempted use of moved instance will fail
                  to compile.
                  Most non-copy types have a <c-s>clone()</c-s> function that code can call explicitly
                  so the clone is moved and becomes invalid but the source of the clone remains valid.
                </t-b>
                <t-b>
                  C#, Python, and JavaScript do not support transfer of ownership with move.
                </t-b>
              </td>
            </tr>
            <tr>
              <td>Reference</td>
              <td>
                Reference types wrap a pointer to an object but use object syntax for its operations.
                Construction, assignment, and pass reference by value all result in the destination
                pointing to the same instance as the source. 
              </td>
              <td>
                <t-b style="margin-top:0em;">
                  C++ defines a reference using <c-s>T&amp; t = u;</c-s> syntax. References cannot be
                  rebound. References use object syntax for operations, but otherwise, behave like
                  const pointers.
                </t-b>
                <t-b>
                  Rust references are defined with <c-s>t2:T = &amp;t1;</c-s> or <c-s>t2:T = mut&amp; t2</c-s>.
                  In rust, the scope of allowed operations with references is significanly narrower
                  than C++ to enable memory saftey and freedom from race conditions.
                </t-b>
                <t-b>
                  C# requires that all non-primitive types create objects on a managed heap accessed
                  with a reference. Language syntax unfortunately hides that property.
                </t-b>
                <t-b>
                  In Python and JavaScript instances of any type reside on a managed heap, accessed with
                  references.
                </t-b>
              </td>
            </tr>
          </table>
          <div style="height:0.75em;"></div>
        </details>
        <div style="height:0.75em;"></div>
        <code-container id="compare">
          <div style="width:calc(50% - 1em);">
              <!--<fieldset left>-->
            <form id="left" name="left">
              <input type="radio" id="Cp1" name="lang1" value="1" onclick="loadCppLeft()" />
              <label for="Cp1">C++</label>
              <input type="radio" id="Rs1" name="lang1" value="3" onclick="loadRsLeft()" />
              <label for="Rs1">Rust</label>
              <input type="radio" id="Cs1" name="lang1" value="2" onclick="loadCsLeft()"/>
              <label for="Cs1">C#&nbsp;</label>
              <input type="radio" id="Py1" name="lang1" value="4" onclick="loadPyLeft()" />
              <label for="Py1">Python</label>
              <input type="radio" id="Js1" name="lang1" value="5" onclick="loadJsLeft()" />
              <label for="Js1">JavaScript</label>
              <div style="height:0.5em;"></div>
              <input type="button" id="exeLeft" value="RemoteExecute" onclick="remoteLeft()"/>
            </form>
            <code-banner style="border-top:2px solid var(--dark);">
              Source Code
            </code-banner>
          </div>
          <div style="width:calc(50% - 1em); position:relative; left:-0.5em;">
            <!--<fieldset right>-->
            <form id="right" name="right">
              <input type="radio" id="Cp2" name="lang2" value="4" onclick="loadCppRight()" />
              <label for="Cp2">C++</label>
              <input type="radio" id="Rs2" name="lang2" value="6" onclick="loadRsRight()"/>
              <label for="Rs2">Rust</label>
              <input type="radio" id="Cs2" name="lang2" value="5" onclick="loadCsRight()"/>
              <label for="Cs2">C#</label>
              <input type="radio" id="Py2" name="lang2" value="4" onclick="loadPyRight()" />
              <label for="Py2">Python</label>
              <input type="radio" id="Js2" name="lang2" value="5" onclick="loadJsRight()" />
              <label for="Js2">JavaScript</label><br />
              <div style="height:0.5em;"></div>
              <input type="button" id="exeRight" value="RemoteExecute" onclick="remoteRight()"/>
            </form>
            <code-banner style="border-top:2px solid var(--dark);">
              Source Code
            </code-banner>
          </div>
        </code-container>

        <code-container>
          <code-display id="codeleft">x = y
  code not loaded
          </code-display>
          <code-display id="coderight">
  code not loaded
          </code-display>
        </code-container>
        <!--<div style="height:1.5em;"></div>-->
        <code-container>
          <div style="width:calc(50% - 1em);">
            <code-banner>
              Code Output
            </code-banner>
          </div>
          <div style="width:calc(50% - 1em); position:relative; left:-0.5em;">
            <code-banner>
              Code Output
            </code-banner>
          </div>
        </code-container>
        <!--<div style="height:0.25em;"></div>-->
        <code-container>
          <code-display id="outleft">x = y
  output not loaded
          </code-display>
          <code-display id="outright">
  output not loaded
          </code-display>
        </code-container>
        <!--<div style="height:1.5em;"></div>-->
        <code-container>
          <div style="width:calc(50% - 1em);">
            <code-banner>
              Build
            </code-banner>
          </div>
          <div style="width:calc(50% - 1em); position:relative; left:-0.5em;">
            <code-banner>
              Build
            </code-banner>
          </div>
        </code-container>
        <!--<div style="height:0.25em;"></div>-->
        <code-container>
          <code-display id="bldleft">x = y
  build not loaded
          </code-display>
          <code-display id="bldright">
  build not loaded
          </code-display>
        </code-container>
        <t-b>
          <h3 id="notes">Notes</h3>
          <ul>
            <li>
              Rust is built with the Cargo tool: package manager, builder, executer, and more.
              Cargo is part of the Rust ecosystem available when you 
              <a href="https://www.rust-lang.org/tools/install">install Rust</a>.
            </li>
            <li>
              C++ is built with the CMake tool: a third party make tool. Here is a 
              <a href="../../CppMakeDemo.html">Demo</a>. You can <a href="https://cmake.org/">download CMake</a>
              free of charge.
            </li>
            <li>
              C# code is built with the dotnet command line package manager, builder, and executer.
              For simple console applications dotnet builds a stripped down source that gets
              wrapped with needed boilerplate when built. I chose to provide the boiler plate.
              The dotnet CLI is part of the Visual Studio infrastructure you can 
              <a href="https://visualstudio.microsoft.com/vs/community/">download here</a>.
            </li>
            <li>
              Python is built and executed with the Python interpreter using &quot;python filename.py&quot;
              You can download Python <a href="https://www.python.org/downloads/">here</a>.
            </li>
            <li>
              All you need for Javascript development is a text editor and browser. The major browsers,
              Firefox, Chrome, Edge, ... all have tools for inspecting and debugging JavaScript.
            </li>
          </ul>
        </t-b>
        <div style="height:10em;"></div>
      </content>
      <a id="bottom"></a>
      <page-TOC id="pages" style="display:none;">
      </page-TOC>
      <page-sections id="sections" style="display:none;">
        <menu-elem style="width:0.0em">&nbsp;</menu-elem>
        <menu-elem class="secElem"><a href="#bottom">bottom</a></menu-elem>
        <menu-elem class="secElem"><a href="#notes">notes</a></menu-elem>
        <menu-elem class="secElem"><a href="#compare">compare</a></menu-elem>
        <menu-elem class="secElem"><a href="#top">top</a></menu-elem>
      </page-sections>
    </main>
    <frame-footer>
      <menu-item style="width:1.0em;">&nbsp;</menu-item>
      <menu-elem id="nextLink2" onclick="bottomMenu.next()">Next</menu-elem>
      <menu-elem id="prevLink2" onclick="bottomMenu.prev()">Prev</menu-elem>
      <menu-elem id="pgbtn" onclick="bottomMenu.pages()">Pages</menu-elem>
      <menu-elem onclick="bottomMenu.sections()">Sections</menu-elem>
      <menu-elem onclick="bottomMenu.about()">About</menu-elem>
      <menu-elem id="kysbtn" onclick="storyHlpMenu.keys()">Keys</menu-elem>
      <!--<menu-item style="width:1.0em;">&nbsp;</menu-item>
      <menu-elem style="font-size:0.75em;" onclick="storyHlpMenu.decrZoomScreen()">Zout</menu-elem>
      <menu-elem style="font-size:0.75em;" onclick="storyHlpMenu.normZoomScreen()">Zdef</menu-elem>
      <menu-elem style="font-size:0.75em;" onclick="storyHlpMenu.incrZoomScreen()">Zin</menu-elem>-->
    </frame-footer>
  </page-frame>
  <script>
    setChecks();
    startLeft();
    startRight();
    //var cb1 = document.getElementById("Rs1");
    //cb1.checked = true;
    //loadRsLeft();
    //var cb2 = document.getElementById("Cp2");
    //cb2.checked = true;
    //loadCppRight();
  </script>
</body>
</html>