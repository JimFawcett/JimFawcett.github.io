<!DOCTYPE html>
<html>
<!--
  Bits_GenericCSharp.html
-->
<head>
  <title>Bits_Generic C#</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/StylesPhoto.css" />
  <link rel="stylesheet" href="css/StylesSizerComp.css" />
  <!-- PageFrame infrastructure -->
  <link rel="stylesheet" href="css/StylesPageFrameDefaults.css" />
  <link rel="stylesheet" href="css/StylesPageFrameStructure.css" />
  <link rel="stylesheet" href="css/StylesPageFrameMenus.css" />
  <link rel="stylesheet" href="css/StylesPageFrameThemeDefault.css" />
  <link rel="stylesheet" href="css/StylesWebComponents.css" />
  <script src="js/ScriptsWebComponents.js"></script>
  <script src="js/ScriptsPageFrame.js"></script>
  <script src="js/ScriptsPageFramePagesBits.js"></script>
  <script src="js/ScriptsPageFrameKeyboard.js"></script>
  <!--<script src="js/ScriptsPageFrameNewRadioButtons.js"></script>-->
  <style>
    #github .note {
      border: 1px solid var(--dark);
      padding:0.75em 1.5em;
      margin-top:1.25em;
      margin-bottom:1.25em;
      background-color: var(--light);
      color: var(--dark);
      max-width:50em;
    }
    #github h2 {
      margin-top: 0.75em;
    }
    #github #pagetitle {
      border:2px double var(--dark);
    }
    #github form {
      border:none;
      padding:0.5em 1em;
    }
    #github form span {
      padding:0em 0.5em;
    }
    #github code-container {
      display: flex;
      position:relative;
      width:calc(100%);
      flex-direction: row;
      justify-content: space-between;
      /*border-top: 1px solid var(--dark);*/
    }
    #github code-banner {
      display: block;
      border: 2px solid var(--dark);
      border-top:none;
      border-bottom:none;
      padding: 0.25em 1em;
      font-family: 'Comic Sans MS', Tahoma;
      width: calc(100% + 0.5em);
      background-color: var(--atten);
    }
    #github code-display {
      display: block;
      border: 2px solid var(--dark);
      white-space: pre;
      padding: 0.75em 1em;
      font-family: Consolas, monospace;
      font-size:0.9em;
      width: calc(50% - 0.5em);
      overflow-x: auto;
      /*height:20em;*/
    }
    #github label {
      margin-right:1em;
    }
    #github fieldset {
      border:none;
    }
    #github #exeRight, #exeLeft {
      padding: 0.05em 0.5em;
      font-family: 'Comic Sans MS', Tahoma;
    }
    #github #hideLeft, #hideRight {
      padding: 0.05em 0.5em;
      font-family: 'Comic Sans MS', Tahoma;
    }
    #github .hide {
      display:none;
    }
    body {
      position:relative;
    }
    #github table.showcode {
      table-layout:fixed;
      width:calc(100% + 4em);
      margin-left:-2em;
    }
    #github th.leftblock {
      border: 2px solid var(--dark);
      /*border: 1px solid red;*/
      background-color: var(--menu);
      width: calc(50% - 0.5em);
      overflow-x: auto;
    }

    #github th.rightblock {
      border: 2px solid var(--dark);
      background-color: var(--menu);
      width: calc(50% - 0.5em);
      overflow-x: auto;
    }

    #github th.centerblock {
      border: none;
      padding: 0em;
      width:1em;
    }
    #github td.leftblock {
      border: 2px solid var(--dark);
      width: calc(50% - 0.5em);
      overflow-x: auto;
      background-color: #222233;
      color: #ffffbb;
    }

    #github td.leftblock summary {
      border:1px solid #ffffbb;
    }

    #github td.rightblock {
      border: 2px solid var(--dark);
      width: calc(50% - 0.5em) !important;
      overflow-x: auto;
      background-color: #222233;
      color: #ffffbb;
    }

    #github td.rightblock summary {
      border: 1px solid #ffffbb;
    }

    #github td.centerblock {
      border: none;
      padding: 0em;
    }
    #github pre {
      overflow-x: auto !important;
    }
    #github #left1 {
      /*height:45em;*/
      max-height: calc(100vh - 10em);
      overflow-y: auto;
    }

    #github #right1 {
      max-height: calc(100vh - 10em);
      overflow-y: auto;
    }
    #github #left2 {
      /*height:45em;*/
      max-height: calc(100vh - 7em);
      overflow-y: auto;
    }

    #github #right2 {
      max-height: calc(100vh - 7em);
      overflow-y: auto;
    }
    #github #left3 {
      max-height: calc(100vh - 7em);
      overflow-y: auto;
    }

    #github #right3 {
      max-height: calc(100vh - 7em);
      overflow-y: auto;
    }
    #github .mover {
      width:2em;
      padding: 0.05em;
      position:relative;
      right:-1.5em;
      top:0.6em;
    }
    #github #ruler {

      width:calc(50% - 1.5em);
      height:0.001em;
      margin:-0.45em 0em;
    }
    #github .btns {
      width:3em;
      border:none;
    }
    #github .codeSnap {
      font-family: Consolas, Courier New, Courier, monospace, sans-serif;
      font-size: small;
      font-weight: bold;
      background-color: #eee;
      padding: 10px;
    }
    #github .remotebutton {
      padding:0.25em 0.5em;
    }
    #github .rightPanelLinks {
      position: fixed;
      right: 0.0em;
      top: 15em;
      z-index: 100;
      background: var(--light);
      padding: 0.75em 0.25em;
      border: 1px solid var(--dark);
    }

    #github div.rightPanelLinks a {
      display: block;
      height: 1.5em;
      padding:0em 0.25em;
    }
    #github hr.spread {
      margin:0.75em 0em;
    }
  </style>
  <script>
    function saveScroll() {
      let main = document.querySelector("main");
      localStorage.setItem("ObjectsCSharp", main.scrollTop);
    //  let debug = scrollTop;
    //  console.log(debug);
    }
    function getScroll() {
      let scroll = localStorage.getItem("ObjectsCSharp");
      if (scroll) {
        scrollTop = parseInt(scroll, 10);
        let main = document.querySelector("main");
        main.scrollTop = scrollTop;
        //  let debug = scrollTop;
        //  console.log(debug);
      }
      else {
        let main = document.querySelector("main");
        localStorage.setItem("ObjectsCSharp", main.scrollTop);
        main.scrollTop = 0;
      }
    }
  </script>

  <script>
    function remote() {
      window.open('https://godbolt.org/z/7Ee4aG3cj', '_blank');
    }
  </script>
</head>
<body id="github" onload="initialize()" onunload="saveScroll()">

  <a id="Next" href="Bits_IterCSharp.html">Next</a>
  <a id="Prev" href="Bits_ObjectsCSharp.html">Prev</a>

  <page-frame>
    <frame-header>
      <nav id="navbar"></nav>
    </frame-header>
    <main>
      <div id="about">about</div>
      <div id="page">Bits_Generic C#</div>
      <div id="modified">05/29/2023</div>
      <div id="hlp"></div>
      <a id="top"></a>
      <content>
        <div class="rightPanelLinks">
          <a href="Bits_GenericCpp.html">C++</a>
          <a href="Bits_GenericRust.html">Rust</a>
          <a class="darkItem" href="Bits_GenericCSharp.html">C#</a>
          <a href="Bits_GenericPython.html">Python</a>
          <a class="undefined" href="# Bits_GenericJs.html">JvScrpt</a>
        </div>
        <header>
          <a target="_blank" class="repoLink" href="https://github.com/JimFawcett/Bits">Bits Repo Code</a>
          <a target="_blank" class="repoLink" href="../../BitsRepo.html" style="margin-right:7.5em;">Bits Repo Docs</a>
          <hgroup id="pagetitle">
            <h1 id="title">Bits_Generic C#</h1>
            <h3 id="subtitle" class="indent">
              code, output, and build for C# on Windows, macOS, and Linux
            </h3>
          </hgroup>
        </header>
        <t-b>
          These pages support comparison of fragments of code in several different
          languages, much as you might compare a sentence of English with one in Spanish to help you learn
          Spanish.
          </t-b>
          <t-b style="border:1px solid maroon; padding:0.25em 1em 0.5em 1em;">
            <h4 style="margin:0em 0em 0.25em 0em;">Synopsis:</h4>
            This page demonstrates uses of C# User-Defined types and their objects.
            The purpose is to quickly acquire some familiarity with user-defined types 
            and their implementations.
            <hr class="spread" />
            <ul>
              <li>
                C# generics support definition of function and class patterns, which can
                be instantiated for a variety of different concrete types. 
              </li>
              <li>
                Each instantiation must use types that provide all the facilities used
                in the pattern.
              </li>
              <li>
                The pattern can provide constraints on its type parameters that guarantee methods
                and properties required by the pattern.
              </li>
            </ul>
            <div style="height:0.5em;"></div>
          </t-b>
        <details>
          <summary class="darkItem">Demo Notes&nbsp;&nbsp;</summary>
          <t-b><hr /></t-b>
          <t-b>
            All of the languages covered in this demonstration support generics with the exception
            of JavaScript.   
          </t-b>
          <t-b>
            Three of the languages: C++, Rust, and C# provide generics.  Python provides a typing module
            that provides type hints, checked with a static analysis tool.  Each generic function or class
            is a pattern for defining functions and classes of a specific type.  Thus a generic is a
            pattern for making patterns.
          </t-b>
          <t-b>
            Python and JavaScript, are dynamically typed and already support defining
            functions and classes for multiple types, e.g., no need for generics.
          </t-b>
          <t-b>
            This demonstration illustrates use of generic functions and classes, which for C++, Rust, and C#,
            are processed by the compiler.
          </t-b>
          <t-b><hr /></t-b>
        </details>
        <t-b>
          The examples below show how to use library and user defined types with emphasis on
          illustrating syntax and basic operations.
        </t-b>
        <div style="height:0.25em;"></div>
        <h3 id="code">1.0 CodeSnaps</h3>
        <input type="button" value="RemoteExecute" class="remotebutton" onclick="remote()" />
        <div style="display:flex; flex-direction:column;">
          <h4 id="source">Source Code - Program.cs</h4>
          <pre class="codeSnap">
/*-------------------------------------------------------------------
  Cs_Generic::Program.cs
  - Demonstrates creation and assignment of objects from classes with
    generic type parameter(s).
*/
using System;
using System.Collections;
using System.Collections.Generic;   // IEnumerable&lt;T&gt;, List&lt;T&gt;
using System.Linq;                  // IEnumerable&lt;T&gt;.ToArray
using System.Text;                  // StringBuilder
using Points;                       // defined in Points.cs
using Analysis;                     // defined in Analysis.cs

/*
  Static Data Types:
    value types =&gt; assignment copies value
    --------------------------------------
      sbyte, byte, short, int, long, ushort, uint, ulong
      float, double
      decimal, char, bool
      struct
    Reference types =&gt; assignment copies reference
    ----------------------------------------------
      object, string, array, class
    ----------------------------------------------
      strings are immutable, so any change requires copy on write.
      That simulates value behavior.
*/
namespace CSharpGenerics
{
  /*-- Generic demonstration begins here --*/

  class Program
  {
    const string nl = &quot;&#92;n&quot;;
    static void Main(string[] args)
    {
      Display.ShowLabel(&quot; Demonstrate C# generics&quot;);

      Display.ShowNote(
        &quot;Examples of creation and display of Library Types&#92;n&quot; +
        &quot;- size is the size of reference, not instance&#92;n&quot; +
        &quot;- String is not generic, but ShowTypeScalar(...),&#92;n&quot; +
        &quot;  used below to display String, is generic&#92;n&quot; +
        &quot;- Generic function ShowTypeEnum(...) is used, below,&#92;n&quot; +
        &quot;  for both List&lt;T&gt; and Dictionary&lt;K,V&gt;&quot;, nl
      );
      /*-- ShowTypeScalar is a generic function --*/
      string aString = &quot;a string&quot;;  // hides construction
      Display.ShowTypeScalar(aString, &quot;aString&quot;, nl);

      string another = new string(&quot;another string&quot;);
      Display.ShowTypeScalar(another, &quot;another&quot;, nl);

      List&lt;double&gt; aList =
        new List&lt;double&gt;{ 1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0 };

      Display.ShowTypeEnum(aList, &quot;aList&quot;, 5, nl);

      var d1 = new Dictionary&lt;int, string&gt;
      {
        { 0, &quot;zero&quot;}, {1, &quot;one&quot;}, {2, &quot;two&quot;}
      };
      Display.ShowTypeEnum(d1, &quot;d1&quot;, 5, nl);

      Display.ShowNote(
        &quot;Example of user-defined type:&#92;n&quot; +
        &quot;- PointN&lt;T&gt;, a point with N generic coordinates&quot;
      );

      PointN&lt;double&gt; p1 = new PointN&lt;double&gt;(7);
      p1.coor = new List&lt;double&gt; {
        1.5, 2.0, 3.5, 4.0, 5.5, 6.0, 7.5
      };
      p1.Show(&quot;p1&quot;);

      Display.ShowNote(
        &quot;PointN&lt;T&gt; is both Enumerable and Showable. That is,&#92;n&quot; +
        &quot;it implements both IEnumerable&lt;T&gt; and IShow.&#92;n&quot; +
        &quot;- so both ShowTypeEnum and ShowTypeShowable work&quot;
      );
      Display.ShowOp(&quot;ShowTypeShowable(p1, &#92;&quot;p1&#92;&quot;)&quot;);
      p1.Width = 6;
      Display.ShowTypeShowable(p1, &quot;p1&quot;, nl);

      Display.ShowOp(&quot;ShowTypeEnum(p1, &#92;&quot;p1&#92;&quot;)&quot;);
      Display.ShowTypeEnum&lt;double&gt;(p1, &quot;p1&quot;, p1.Width, nl);

      Display.ShowOp(&quot;set left(2) and width(7)&quot;);
      PointN&lt;int&gt; p2 = new PointN&lt;int&gt;(7);
      p2.coor = new List&lt;int&gt;{1, 2, 3, 4, 5, 6, 7};
      Display.ShowOp(&quot;p2.Show(&#92;&quot;p2&#92;&quot;)&quot;);
      p2.left(2).width(7);
      p2.Show(&quot;p2&quot;);
      Console.WriteLine();

      Display.ShowTypeShowable(p2, &quot;p2&quot;, nl);

      Display.ShowNote(
        &quot;Test formatting for Enumerable types&quot;, nl
      );

      int[] testarr = { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 };
      Display.ShowTypeEnum(testarr, &quot;testarr&quot;, 5, nl);

      Console.WriteLine(&quot;&#92;nThat's all Folks!&#92;n&quot;);
    }
  }
}

          </pre>
          <h4 id="points">Source Code - PointsGeneric.cs</h4>
          <pre class="codeSnap">
/*-------------------------------------------------------------------
  PointsGeneric.cs
  - provides definitions for user-defined class PointN&lt;T&gt;
*/

using System.Collections;
using System.Collections.Generic;   // IEnumerable&lt;T&gt;, List&lt;T&gt;
using Analysis;

namespace Points {
  /*----------------------------------------------------------------------
    PointN&lt;T&gt; is a generalization of Point4D
     - holds any finite number of generic coordinates
     - coordinates are held in a List&lt;T&gt;
     - implements IEnumerable&lt;T&gt; so it can be indexed and iterated
     - it is a reference type because it is implemented with a class.
       its List&lt;T&gt; is also a reference type
  */
  public class PointN&lt;T&gt; : IEnumerable&lt;T&gt; , Analysis.IShow {
    /*--------------------------------------------------------------------
      Constructs a point with N coordinates each with default value
    */
    public PointN(int N) {
      coor = new List&lt;T&gt;();
      for(int i = 0; i&lt;N; ++i) {
        T? test = default(T);
        if(test != null) {
          coor.Add(test);
        }
      }
    }
    /* translates IShow::show() for needs of Point2 class */
    public void Show(string name) {
      PrintSelf(name);
    }
    /*
      Displays structure and state of N-dimensional point.
      - state is a set of rows of coordinate data
      - property Width specifies number of elements in each row
      - property Left specifies offset of row from terminal Left edge
    */
    public void PrintSelf(string name) {
      Console.Write(Display.Indent(Left));
      Console.Write(&quot;{0} {{&#92;n{1}&quot;, name, Display.Indent(Left + 2));
      for(int i=0; i&lt;coor.Count; ++i) {
        Console.Write(&quot;{0}&quot;, coor[i]);
        if(i &lt; coor.Count - 1) {
          Display.print(&quot;, &quot;);
        }
        if((i+1) % Width == 0 && i != coor.Count - 1) {
          Console.Write(&quot;&#92;n&quot;);
          Console.Write(Display.Indent(Left + Indent));
        }
      }
      Console.Write(&quot;&#92;n{0}&quot;, Display.Indent(Left));
      Console.WriteLine(&quot;}&quot;);
    }
    /* The three functions below support indexing and iterating */
    public T this[int index] {
      get { return coor[index]; }
      set { coor.Insert(index, value); }
    }
    public IEnumerator&lt;T&gt; GetEnumerator() {
      return coor.GetEnumerator();
    }
    IEnumerator IEnumerable.GetEnumerator() {
      return this.GetEnumerator();
    }
    public List&lt;T&gt; coor { get; set; }
    public int Length { get { return coor.Count; } }
    public int Width { get; set; } = 5;   // default row size
    public int Left { get; set; } = 2;    // default offset
    public int Indent { get; set; } = 2;
    /* initializers */
    public PointN&lt;T&gt; width(int w) {
      this.Width = w;
      return this;
    }
    public PointN&lt;T&gt; left(int l) {
      this.Left = l;
      return this;
    }
    public PointN&lt;T&gt; indent(int i) {
      this.Indent = i;
      return this;
    }
  }
}
          </pre>
          <h4 id="analysis">Source Code - AnalysisGeneric.cs</h4>
          <pre class="codeSnap">
/*-------------------------------------------------------------------
  AnalysisGeneric.cs
  - provides several type analysis and display methods in the
    class Display
*/

using System.Reflection;
using System.Reflection.Emit;
using System.Collections;
using System.Collections.Generic;   // IEnumerable&lt;T&gt;, List&lt;T&gt;
using System.Linq;                  // IEnumerable&lt;T&gt;.ToArray
using System.Text;

namespace Analysis {
  /*----------------------------------------------------------------------
      IShow allows analysis functions to operate on instances of any class
      that implements it. See ShowTypeShowable&lt;T&gt;(T t, ...), below.
  */
  public interface IShow {
    void Show(string name);   // show instance state as rows of elements
    int Length { get; }       // total number of elements
    int Width { get; set; }   // number of elements per row
    int Left { get; set; }    // offset from terminal Left
    int Indent {get; set; }   // element indent
  }

  public class Display {
    /*-------------------------------------------------
      Show static type with some formatting adjustments
      and name at callsite.
    */
    public static String Spaces(int i) {
      return new String(' ', i);
    }
    public void Println(String s) {
      Console.WriteLine(s);
    }
    public static void ShowType&lt;T&gt;(T t, string nm) {
      Type tt = t!.GetType();
      string tnm = tt.Name;
      if(tt.IsGenericType) {
        if(tnm.Length &gt; 1) {
          tnm = tnm.Remove(tnm.Length - 2) + &quot;&lt;T&gt;&quot;;
        }
      }
      Console.Write(&quot;{0}: {1}, &quot;, nm, tnm);
      int size = GetManagedSize(tt);
      Console.Write(&quot;size: {0}, &quot;, size);
      if (tt.IsValueType) {
        Console.WriteLine(&quot;value type&quot;);
      }
      else {
        Console.WriteLine(&quot;reference type&quot;);
      }
    }
    /*-------------------------------------------------
    Display information about the type of any scalar type.
    - scalar types are those with a single value like:
        int, double, string, ...
    - This function directly uses only simple reflection
    */
    public static void ShowTypeScalar&lt;T&gt;(
        T t, string nm, string suffix = &quot;&quot;
    )
    {
      ShowType(t, nm);
      Console.WriteLine(&quot;value: &#92;&quot;{0}&#92;&quot;{1}&quot;, t, suffix);
    }
    /*-------------------------------------------------
    Show type information for any type that implements
    the IShow interface
    */
    public static void ShowTypeShowable&lt;T&gt;(
      T t, string nm, string suffix=&quot;&quot;
    )
    where T:IShow
    {
      ShowType(t, nm);
      Console.WriteLine(&quot;value:&quot;);
      t.Show(nm);     // guaranteed by IShow implementation
      Console.Write(suffix);
    }
    /*-------------------------------------------------
    Provides name of caller, nm, as label for IShow() information.
    - works for all Showable instances
    */
    public static void ShowLabeledObject&lt;T&gt;(
      T t, string nm
    ) where T:IShow {
      t.Show(nm);
    }
    /*-------------------------------------------------
    Provides name of caller, nm, as label for value.
    - works for all T with ToString.
    */
    public static void DisplayLabeledObject&lt;T&gt;(T t, string nm) {
      Console.WriteLine(&quot;{0}: {1}&quot;, nm, t!.ToString());
    }
    /*-------------------------------------------------
    Show type information for any type that implements
    IEnumerable&lt;T&gt; interface.
    */
    public static void ShowTypeEnum&lt;T&gt; (
    IEnumerable&lt;T&gt; t, string nm, int w = 5, string suffix = &quot;&quot;
    )
    {
      ShowType(t, nm);
      Console.WriteLine(&quot;value:&#92;n{0}{1} {{&quot;, &quot;  &quot;, nm);
      /*
        beautify value list into rows of w elements
        indented by 4 spaces
      */
      string tmp = FoldArray(t.ToArray(), w, 4);
      Console.Write(tmp);
      Console.WriteLine(&quot;&#92;n  }&quot;);
      Console.Write(suffix);
    }
    /*-------------------------------------------------
    create string of count spaces, used to offset output
    */
    public static string Indent(int count) {
      StringBuilder sb = new StringBuilder();
      sb.Append(' ', count);
      return sb.ToString();
    }
    /*-------------------------------------------------
      Truncate string to length of N, but only if
      its length is greater than N
    */
    string truncate(int N, string bigStr) {
      if(bigStr.Length &lt;= N) {
        return bigStr;
      }
      StringBuilder sb =  new StringBuilder();
      sb.Append(bigStr);
      sb.Length = N;  // move back pointer to desired length
      return sb.ToString();
    }
    /*-------------------------------------------------
    fold array elements into rows of w elements
    */
    public static string FoldArray&lt;T&gt;(T[] arr, int w, int Left) {
      StringBuilder tmp = new StringBuilder();
      tmp.Append(Indent(Left));
      for(int i=0; i&lt; arr.Length; ++i) {
        tmp.Append(arr[i]!.ToString());
        tmp.Append(&quot;, &quot;);
        if((i+1) % w == 0 && i != arr.Length - 1) {
          tmp.Append(&quot;&#92;n&quot;);
          tmp.Append(Indent(Left));
        }
      }
      if(tmp.Length &gt; 1) {
        tmp.Length -= 2;  // don't return last comma and space
      }
      return tmp.ToString();
    }
    /*-------------------------------------------------
    do t1 and t2 share the same address?
    */
    public static void IsSameObj&lt;T&gt;(
      T t1, String n1, T t2, String n2, string suffix = &quot;&quot;
    ) {
      if(ReferenceEquals(t1, t2)) {
        Console.WriteLine(
          &quot;{0} is same object as {1}{2}&quot;, n1, n2, suffix
        );
      }
      else {
        Console.WriteLine(
          &quot;{0} is not same object as {1}{2}&quot;, n1, n2, suffix
        );
      }
    }
    /*-------------------------------------------------
    Beware, two distinct objects may have same hashcode.
    - Not used in this demo for that reason.
    */
    public static void showIdent&lt;T&gt;(
      T t, String n, string suffix = &quot;&quot;
    ) {
      int id = t!.GetHashCode();
      Console.WriteLine(&quot;{0}, {1}{2}&quot;, n, id, suffix);
    }
    /*-------------------------------------------------
    Display function call or operation to help turn
    output data into information
    */
    public static void ShowOp(string op, string suffix = &quot;&quot;) {
      Console.WriteLine(&quot;--- {0} ---{1}&quot;, op, suffix);
    }
    public static void print(String s = &quot;&quot;) {
      Console.Write(s);
    }
    public static void println(String s = &quot;&quot;) {
      Console.WriteLine(s);
    }
    /*-------------------------------------------------
    Emphasize text with borders
    */
    public static void ShowNote(string s, string suffix = &quot;&quot;) {
      Console.WriteLine(
        &quot;--------------------------------------------------&quot;
      );
      Console.WriteLine(&quot;{0}&quot;, s);
      Console.WriteLine(
        &quot;--------------------------------------------------{0}&quot;,
        suffix
      );
    }
    /*-------------------------------------------------
    Surround note with empty lines
    */
    public static void ShowLabel(string s) {
      Console.WriteLine();
      ShowNote(s);
      Console.WriteLine();
    }
    /*
      Show fields and methods for either reference or value types
      using reflection
    */
    // https://stackoverflow.com/questions/7613782/iterating-through-struct-members
    public static void iterate&lt;T&gt;(T t) /*where T:new()*/ {
      Console.WriteLine(&quot;fields:&quot;);
      foreach(
        var field in typeof(T).GetFields(
        BindingFlags.Instance |
        BindingFlags.NonPublic |
        BindingFlags.Public
      )
      ) {
        Console.WriteLine(
        &quot;  {0} = {1}&quot;, field.Name, field.GetValue(t)
        );
      }
      Console.WriteLine(&quot;methods:&quot;);
      foreach(
        var method in typeof(T).GetMethods(
          BindingFlags.Instance | BindingFlags.Public
        )
      ) {
        Console.WriteLine(
          &quot;  {0}&quot;, method.Name
        );
      }
    }
    /*-------------------------------------------------
    Build string of comma separated values from
    Enumerable collection
    - no longer used here, but will be useful so kept
    */
    // https://stackoverflow.com/questions/330493/join-collection-of-objects-into-comma-separated-string
    public static string ToCSV&lt;T&gt;(IEnumerable&lt;T&gt; coll) {
      StringBuilder sb = new StringBuilder();
      foreach(T elem in coll) {
        sb.Append(elem!.ToString()).Append(&quot;, &quot;);
      }
      return sb.ToString(0, sb.Length - 2);
    }
    /*-------------------------------------------------
      Returns value of T for IEnumerable&lt;T&gt; at runtime.
      Needed for some functions that operate on generic
      collections.
      - at this time, not used in this demo
    */
    // https://www.codeproject.com/Tips/5267157/How-To-Get-A-Collection-Element-Type-Using-Reflect
    public static Type? GetTypeOfCollection(Object coll) {
      Type type = (coll).GetType();
      var etype = typeof(IEnumerable&lt;&gt;);
      foreach (var bt in type.GetInterfaces()) {
        if (bt.IsGenericType && bt.GetGenericTypeDefinition() == etype) {
          return (bt.GetGenericArguments()[0]);
        }
      }
      return null;
    }
    /*----------------------------------------------------------------
      Utils uses advanced relection
      - GetMangedSize(Type type) is function that returns the size of
      value types and handles, used to help discover how things work.
      It is placed here because it uses advanced techniques that
      will eventually be covered elsewhere in this site.  Knowing
      how it works is not essential for the things we are examining
      in this demo.
    */
    // https://stackoverflow.com/questions/8173239/c-getting-size-of-a-value-type-variable-at-runtime/8173293#8173293
    public static int GetManagedSize(Type type)
    {
      // all this just to invoke one opcode with no arguments!
      var method = new DynamicMethod(
        &quot;GetManagedSizeImpl&quot;, typeof(uint), new Type[0],
        typeof(TypeExtensions), false
      );

      ILGenerator gen = method.GetILGenerator();
      gen.Emit(OpCodes.Sizeof, type);
      gen.Emit(OpCodes.Ret);

      var func = (Func&lt;uint&gt;)method.CreateDelegate(typeof(Func&lt;uint&gt;));
      return checked((int)func());
    }
  }
}

          </pre>
          <h4 id="out">Output</h4>
          <pre class="codeSnap">
C:&#92;github&#92;JimFawcett&#92;Bits&#92;CSharp&#92;Cs_Generic
&gt; dotnet run

--------------------------------------------------
 Demonstrate C# generics
--------------------------------------------------

--------------------------------------------------
Examples of creation and display of Library Types
- size is the size of reference, not instance
- String is not generic, but ShowTypeScalar(...),
  used below to display String, is generic
- Generic function ShowTypeEnum(...) is used, below,
  for both List&lt;T&gt; and Dictionary&lt;K,V&gt;
--------------------------------------------------
aString: String, size: 8, reference type
value: &quot;a string&quot;

another: String, size: 8, reference type
value: &quot;another string&quot;

aList: List&lt;T&gt;, size: 8, reference type
value:
  aList {
    1, 1.5, 2, 2.5, 3,
    3.5, 4
  }

d1: Dictionary&lt;T&gt;, size: 8, reference type
value:
  d1 {
    [0, zero], [1, one], [2, two]
  }

--------------------------------------------------
Example of user-defined type:
- PointN&lt;T&gt;, a point with N generic coordinates
--------------------------------------------------
  p1 {
    1.5, 2, 3.5, 4, 5.5,
    6, 7.5
  }
--------------------------------------------------
PointN&lt;T&gt; is both Enumerable and Showable. That is,
it implements both IEnumerable&lt;T&gt; and IShow.
- so both ShowTypeEnum and ShowTypeShowable work
--------------------------------------------------
--- ShowTypeShowable(p1, &quot;p1&quot;) ---
p1: PointN&lt;T&gt;, size: 8, reference type
value:
  p1 {
    1.5, 2, 3.5, 4, 5.5, 6,
    7.5
  }

--- ShowTypeEnum(p1, &quot;p1&quot;) ---
p1: PointN&lt;T&gt;, size: 8, reference type
value:
  p1 {
    1.5, 2, 3.5, 4, 5.5, 6,
    7.5
  }

--- set left(2) and width(7) ---
--- p2.Show(&quot;p2&quot;) ---
  p2 {
    1, 2, 3, 4, 5, 6, 7
  }

p2: PointN&lt;T&gt;, size: 8, reference type
value:
  p2 {
    1, 2, 3, 4, 5, 6, 7
  }

--------------------------------------------------
Test formatting for Enumerable types
--------------------------------------------------

testarr: Int32[], size: 8, reference type
value:
  testarr {
    0, 1, 2, 3, 4,
    5, 6, 7, 8, 9
  }


That's all Folks!

C:&#92;github&#92;JimFawcett&#92;Bits&#92;CSharp&#92;Cs_Generic
&gt;
          </pre>
          <h4 id="build">Build</h4>
          <pre class="codeSnap">
C:&#92;github&#92;JimFawcett&#92;Bits&#92;CSharp&#92;Cs_Generic
&gt; dotnet build
MSBuild version 17.5.1+f6fdcf537 for .NET
  Determining projects to restore...
  All projects are up-to-date for restore.
  Cs_Objects -&gt; C:&#92;github&#92;JimFawcett&#92;Bits&#92;CSharp&#92;Cs_Generic&#92;bin&#92;Debug&#92;net7.0&#92;Cs_Ob
  jects.dll

Build succeeded.
    0 Warning(s)
    0 Error(s)

Time Elapsed 00:00:01.79
C:&#92;github&#92;JimFawcett&#92;Bits&#92;CSharp&#92;Cs_Generic
          </pre>
        </div>
        <h3 id="ide">2.0 VS Code View</h3>
        <t-b>
          The code for this demo is available in 
          <a target="_blank" href="https://github.com/JimFawcett/Bits">github.com/JimFawcett/Bits</a>. If you click on
          the Code dropdown you can clone the repository of all code for these demos to your local drive.
          Then, it is easy to bring up any example, in any of the languages, in VS Code.
        </t-b>
        <t-b>
          Here, we do that for CSharp\Cs_Generic.
        </t-b>
        <photosizer-block src="pictures/CSharp_Generic_Debug.JPG" width="800" class="photoSizerBlock left"
          style="overflow-x:auto;"
        >
          <span style="font-family:'Comic Sans MS';">Figure 1. VS Code IDE - C# Generics</span>
        </photosizer-block>
        <!--<photosizer-block src="pictures/LaunchJSON_CSharp_Objects.JPG" width="800" class="photoSizerBlock left"
          style="overflow-x:auto;"
        >
          <span style="font-family:'Comic Sans MS';">Figure 2. C# Launch.JSON</span>
        </photosizer-block>
        <photosizer-block src="pictures/VS_Code_Debugging_CSharp_Objects.JPG" width="800" class="photoSizerBlock left"
          style="overflow-x:auto;"
        >
          <span style="font-family:'Comic Sans MS';">Figure 3. Debugging C# Objects</span>
        </photosizer-block>-->
        <!--<photosizer-block src="pictures/VS_Code_Cpp_Plugins.jpg" width="700" class="photoSizerBlock left">
          <span style="font-family:'Comic Sans MS';">Figure 3. C++ Plugins</span>
        </photosizer-block>-->

        <div style="height:0.75em;" class="clear"></div>
        <h3 id="refs">3.0 References</h3>
        <table class="indent">
          <tr>
            <th class="darkItem">Reference</th><th class="darkItem">Description</th>
          </tr>
          <tr>
            <td>
              <a target="_blank" href="https://www.tutorialspoint.com/csharp/csharp_generics.htm">C# Generics - tutorialspoint</a>
            </td>
            <td>
              Basic syntax with examples
            </td>
          </tr>
          <tr>
            <td>
              <a target="_blank" href="https://www.w3schools.com/cs/index.php">C# Tutorial - w3schools</a>
            </td>
            <td>
              Interactive examples
            </td>
          </tr>
          <tr>
            <td>
              <a target="_blank" href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/">C# Reference - Microsoft</a>
            </td>
            <td>
              Relatively complete informal language reference
            </td>
          </tr>
        </table>
        <div style="height:10em;"></div>
      </content>
      <a id="bottom"></a>
      <page-TOC id="pages" style="display:none;">
      </page-TOC>
      <page-sections id="sections" style="display:flex;">
        <menu-elem style="width:0.0em">&nbsp;</menu-elem>
        <menu-elem class="secElem"><a href="#bottom">bottom</a></menu-elem>
        <menu-elem class="secElem"><a href="#refs">refs</a></menu-elem>
        <menu-elem class="secElem"><a href="#ide">VS Code</a></menu-elem>
        <menu-elem class="secElem"><a href="#build">bld</a></menu-elem>
        <menu-elem class="secElem"><a href="#out">out</a></menu-elem>
        <menu-elem class="secElem"><a href="#analysis">anal</a></menu-elem>
        <menu-elem class="secElem"><a href="#points">pts</a></menu-elem>
        <menu-elem class="secElem"><a href="#source">src</a></menu-elem>
        <menu-elem class="secElem"><a href="#code">codeSnaps</a></menu-elem>
        <menu-elem class="secElem"><a href="#top">top</a></menu-elem>
      </page-sections>
    </main>
    <frame-footer>
      <menu-item style="width:1.0em;">&nbsp;</menu-item>
      <menu-elem id="nextLink2" onclick="bottomMenu.next()">Next</menu-elem>
      <menu-elem id="prevLink2" onclick="bottomMenu.prev()">Prev</menu-elem>
      <menu-elem id="pgbtn" onclick="bottomMenu.pages()">Pages</menu-elem>
      <menu-elem onclick="bottomMenu.sections()">Sections</menu-elem>
      <menu-elem onclick="bottomMenu.about()">About</menu-elem>
      <menu-elem id="kysbtn" onclick="storyHlpMenu.keys()">Keys</menu-elem>
      <menu-elem style="margin-right:5em">
        <span id="loc" style="display:inline-block; font-weight:normal"></span>
      </menu-elem>
    </frame-footer>
  </page-frame>
  <script>
    let loc = document.getElementById("loc");
    let fn = window.location.href.split(/\/|\\/).pop();
    loc.innerHTML = fn;
  </script>
  <script>
    getScroll();
  </script>
</body>
</html>