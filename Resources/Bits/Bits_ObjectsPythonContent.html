<!DOCTYPE html>
<html>
<!--
  Bits_ObjectsPython.html
-->
<head>
  <title>Python Objects</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/StylesPhoto.css" />
  <link rel="stylesheet" href="css/StylesSizerComp.css" />
  <!-- PageFrame infrastructure -->
  <link rel="stylesheet" href="css/StylesPageFrameDefaults.css" />
  <link rel="stylesheet" href="css/StylesPageFrameStructure.css" />
  <link rel="stylesheet" href="css/StylesPageFrameMenus.css" />
  <link rel="stylesheet" href="css/StylesPageFrameThemePython.css" />
  <link rel="stylesheet" href="css/StylesWebComponents.css" />
  <script src="js/ScriptsWebComponents.js"></script>
  <script src="js/ScriptsPageFrame.js"></script>
  <script src="js/ScriptsPageFramePagesBitsPython.js"></script>
  <script src="js/ScriptsPageFrameKeyboard.js"></script>
  <!--<script src="js/ScriptsPageFrameNewRadioButtons.js"></script>-->
  <link rel="stylesheet" href="css/StylesSplitterBar.css" />
  <script src="js/ScriptsSplitterBar.js"></script>
  <link rel="stylesheet" href="css/prism.css" />
  <script src="js/prism.js"></script>
  <style>
    #github .note {
      border: 2px solid red;
      padding: 0.75em 1.5em;
      margin-top: 1.25em;
      margin-bottom: 1.25em;
      background-color: var(--light);
      color: var(--dark);
      width: max-content;
      max-width: 50em;
    }

    #github h2 {
      margin-top: 0.75em;
    }

    #github #pagetitle {
      border: 2px double var(--dark);
      /* line-height:1.5em; */
    }

    #github .hide {
      display: none;
    }

    body {
      position: relative;
      line-height: 1.25em;
    }

    #github .remotebutton {
      padding: 0.25em 0.5em;
    }

    #github .rightPanelLinks {
      position: fixed;
      right: 0.0em;
      top: 15em;
      z-index: 100;
      background: var(--light);
      padding: 0.75em 0.25em;
      border: 1px solid var(--dark);
    }

    #github div.rightPanelLinks a {
      display: block;
      height: 1.5em;
      padding: 0em 0.25em;
    }

    #github hr.spread {
      margin: 0.75em 0em;
    }

    #github {
      user-select: none;
    }

    .focus {
      padding: 0.5em 1.0em 0.5em 1.0em;
      /*border:1px solid red;*/
    }

    *.focus ul {
      padding-top: -0.5em;
      /*background-color:green;*/
    }

    .cat {
      text-align: left;
      background-color: var(--menu);
    }

    #github .codeSnap {
      font-family: Consolas, Courier New, Courier, monospace, sans-serif;
      font-size: small;
      font-weight: bold;
      background-color: #eee;
      padding: 1em 1.5em;
      margin-right: 0.5em;
    }

    #github pre {
      overflow-x: auto;
      /* user-select: all; */
    }

    code-style {
      white-space: pre;
      font-family: Consolas;
      font-size: 0.95em;
      font-weight: bold;
    }

    .blockDouble {
      position: relative;
      display: grid;
      grid-template-columns: 1fr 1fr;
      border: 1px solid var(--dark);
      overflow-x: auto;
      overflow-y: hidden;
      margin-right: 0.75em;
      padding: 0.75em;
      padding-right: 0em;
    }

    .blockSingle {
      position: relative;
      border: 1px solid var(--dark);
      overflow-x: auto;
      overflow-y: hidden;
      margin-right: 0.75em;
      margin-top: 1.5em;
      padding: 0.0em;
      padding-right: 0em;
    }

    .codewrap {
      padding: 0.5em;
      padding-right: 0em;
      overflow-y: auto;
      /*border: 1px dashed blue;*/
      font-size: 0.80em;
    }

    #github div.block t-b {
      max-width: 100%;
      padding-left: 0.5em;
    }

    .textwrap {
      position: relative;
      padding-right: 1em;
      padding-left: 1em;
      margin-right: 0.5em;
      overflow-y: scroll;
      /*border: 1px dashed red;*/
    }

    table {
      margin-right: 0.75em;
    }

    #github .scrollable {
      overflow: auto;
    }
  </style>
  <style>
    #github .info {
      position: relative;
      top: 0em;
      float: right;
      font-size: large;
      font-weight: bold;
      text-align: center;
      background-color: var(--light);
      border-radius: 8px;
      color: var(--dark);
      width: 1.25em;
      cursor: pointer;
      user-select: none;
    }

    #github .infoKill {
      position: relative;
      top: 0.05em;
      float: right;
      font-size: large;
      font-weight: bold;
      text-align: center;
      background-color: var(--light);
      border-radius: 8px;
      color: var(--dark);
      width: 1.25em;
      cursor: pointer;
      user-select: none;
      margin: 0.25em;
    }

    #github .txt {
      display: none;
      position: absolute;
      right: 4.5em;
      width: 25em;
      z-index: 10;
      color: var(--dark);
      font-size: small;
      background-color: var(--light);
      border: 2px solid var(--dark);
      padding: 0em 0.5em;
      overflow-y: visible;
    }
  </style>
  <script>
    function closeInfos() {
      var elems = document.querySelectorAll('.txt');
      for (let i = 0; i < elems.length; ++i) {
        if (elems[i].style.display === "block") {
          elems[i].style.display = "none";
        }
      }
    }
    function toggleInfo(dst) {
      var elem = document.getElementById(dst);
      if (elem.style.display === "none" || elem.style.display === "") {
        elem.style.display = "block";
      }
      else {
        elem.style.display = "none";
      }
    }
    function toggleInfoRel(src, dst, adj = 0) {
      var txtcont = document.getElementById(dst);
      var elemtop = src.offsetTop;
      txtcont.style.top = parseInt(elemtop - 25 - adj) + 'px';
      var top = txtcont.style.top;
      if (txtcont.style.display === "none" || txtcont.style.display === "") {
        txtcont.style.display = "block";
      }
      else {
        txtcont.style.display = "none";
      }
    }
  </script>
  <script>
    function narrow() {
      let out = document.getElementById("outpre");
      let widthr = out.style.width;
      let width = parseInt(widthr);
      width -= 5;
      out.style.width = width.toString() + "em";
    }
    function widen() {
      let out = document.getElementById("outpre");
      let widthr = out.style.width;
      let width = parseInt(widthr);
      width += 5;
      out.style.width = width.toString() + "em";
    }
  </script>
  <script>
    function setScroll() {
      let main = document.querySelector("#main");
      const scrollPosition = main.scrollTop;
      localStorage.setItem('scrollPositionHelloRust', scrollPosition);
      let scroller = document.getElementById("scrollY")
      scroller.innerHTML = Math.trunc(scrollPosition);
    }
    function gotoLastScroll() {
      let main = document.querySelector("#main");
      const scrollPosition = localStorage.getItem('scrollPositionHelloRust');
      if (scrollPosition) {
        main.scrollTo(0, scrollPosition);
      }
      main.addEventListener('scroll', setScroll);
    }
    function load() {
      //initialize();
      gotoLastScroll();
    }
  </script>

  <script>
    function remote() {
      window.open('https://godbolt.org/z/7b6c3WGv4', '_blank');
    }
  </script>
</head>
<body id="github" onload="load()">

  <a id="Next" href="Bits_GenericPython.html">Next</a>
  <a id="Prev" href="Bits_DataPython.html">Prev</a>

  <page-frame>
    <!-- <frame-header>
      <nav id="navbar"></nav>
    </frame-header> -->
    <main id="main">
      <div id="about">about</div>
      <div id="page">Bits Objects Python</div>
      <div id="modified">11/26/2023</div>
      <div id="hlp"></div>
      <a id="top"></a>
      <content>
        <div id="scrollY"
             style="position:fixed; bottom:0.50em; right:1.50em; width:max-content; height:1.5em;
           text-align:right; padding:0.15em 0.5em; border:1px solid red;">
          0
        </div>
        <header>
          <div id="pagetitle">
            <a target="_blank" class="repoLink" href="https://github.com/JimFawcett/Bits">Bits Repo Code</a>
            <a target="_blank" class="repoLink" href="../../BitsRepo.html" style="margin-right:7.5em;">Bits Repo Docs</a>
            <h1 id="title">Bits: Python Objects</h1>
            <h3 id="subtitle" class="indent">
              library and user-defined classes and objects
            </h3>
          </div>
        </header>
        <t-b id="syn" style="border:1px solid maroon; padding:0.25em 1em 0.5em 1em;">
          <h4 style="margin:0em 0em 0.25em 0em;">Synopsis:</h4>
          This page demonstrates uses of Python User-Defined types and their objects.
          The purpose is to quickly acquire some familiarity with user-defined types
          and their implementations.
          <hr class="spread" />
          <ul>
            <li>
              Python defines a few special class methods: parameterized constructors, and other operators for
              indexing and comparison etc.
            </li>
            <li>
              The compiler does not generate any of these special methods.
            </li>
            <li>
              Also, this is the first set of examples to partition code into several files.
              That supports readability, may improve translation times, and makes maintenance
              significantly easier.
            </li>
          </ul>
          <div style="height:0.5em;"></div>
        </t-b>
        <details id="notes">
          <summary class="darkItem">Demo Notes&nbsp;&nbsp;</summary>
          <t-b><hr /></t-b>
          <t-b>
            All of the languages covered in this demonstration support classes.  Each class provides
            a pattern for laying out a memory footprint and defines how data within are accessed.
          </t-b>
          <t-b>
            Three of the languages: C++, Rust, and C# provide generics.  Each generic function or class
            is a pattern for defining functions and classes of a specific type.  Thus a generic function
            is a pattern for making type specific functions.
            A generic class is a pattern for making type specific classes which are patterns for making
            objects.
          </t-b>
          <t-b>
            The other two, Python and JavaScript, are dynamically typed and already support defining
            functions and classes for multiple types, e.g., no need for generics.
          </t-b>
          <t-b>
            This demonstration illustrates use of classes and objects, which for C++, Rust, and C#,
            are defined in a stackframe or in the heap or both. <strongs>All</strongs> data for Python and JavaScript are
            stored in managed heaps.
          </t-b>
          <t-b><hr /></t-b>
        </details>
        <t-b>
          The examples below show how to use library and user defined types with emphasis on
          illustrating syntax and basic operations.
        </t-b>
        <h3 id="code">1.0 Source Code</h3>
        <t-b>
          Source code is partitioned into three modules:
          <ul>
            <li>
              PointsObj.py defines a custom Point4D class
            </li>
            <li>
              Py_Objects.py demonstrates instances of a few library types, an instance of Point4D,
              and a small demo of reference behavior.
            </li>
            <li>
              AnalysisObj.py provides functions that help analyze and display operations on
              these types.
            </li>
          </ul>
        </t-b>
        <h3 id="points">1.1 Point4D</h3>
        <t-b>
          The custom type <c-s>Point4D</c-s> has three double precision members representing
          spatial coordinates and a time member representing the time at which something was
          at that spatial position.
        </t-b>
        <div class="blockSingle">
          <div class="codewrap" style="float:left; width:60%;">
            <pre style="font-size:1.0em; margin-right:0.75em;"><code class="language-cpp">#------------------------------------------------
# Py_Objects::PointsObj.py
# - User-defined space-time Point class
#------------------------------------------------

import datetime
import time

# point class with three spatial coordinates
class Point4D:
    x = 0.0
    y = 0.0
    z = 0.0
    t = datetime.datetime.now()

    # supports constructor notation
    def __init__(self) -&gt; None:
        pass

    # show named value of Point4D instance
    def show(self, name) :
        print(&quot;{} {{&quot;.format(name))
        print(&quot;  x:{}, y:{}, z:{}&quot;.format(self.x, self.y, self.z))
        print(&quot;  t:{}&quot;.format(self.t))
        print(&quot;}&quot;)

</code></pre>
          </div>
          <div class="textwrap">
            <h4>Concept:</h4>
            <t-b>
              A collection of points might represent the trajectory of a fast ball over home plate,
              or the track of the eye of a hurricane moving up the east coast.
            </t-b>
            <h4>Implementation:</h4>
            <t-b>
              Python does not directly support private members. The good news is that no accessor
              or setter methods are needed. The bad news is that program errors may make subtle
              changes to a point&apos;s data, corrupting the computed results.
            </t-b>
            <t-b>
              <c-s>Point4D</c-s> has only two methods, a constructor, and a <c-s>show</c-s> method
              to display the state of a point.
            </t-b>
            <h4>Code layout:</h4>
            <t-b>
              Python uses block structure determined by whitespace indentation, unlike all the other
              languages discussed in Bits. They use braces to define blocks.
            </t-b>
          </div>
        </div>
        <div style="height:0.75em;"></div>
        <h3 id="structure">1.2 Source Code Structure</h3>
        <t-b>
          The code fragment below illustrates how this program is partitioned into modules
          and functions.
        </t-b>
        <t-b style="margin-bottom:0em;">
          The source code is available
          <a target="_blank" href="https://github.com/JimFawcett/Bits/tree/master/Python">here</a>.
          Download the entire Bits repository
          <a target="_blank" href="https://github.com/JimFawcett/Bits">here</a>.
        </t-b>
        <div style="height:0.75em;"></div>
        <div class="blockSingle">
          <div class="codewrap" style="float:left; width:60%;">
            <pre style="font-size:1.0em; margin-right:0.75em;"><code class="language-python">import sys
import copy
import AnalysisObj
import PointsObj

# Python/Py_Objects::Py_Objects.py
#
# Python Dynamic Data Types
#   int, float, complex
#   bytes, bytearray, memoryview
#   list, tuple, range
#   dict, set, frozenset
#   bool
#   str
#   NoneType

# define alias shortcut
anal = AnalysisObj

# # Python requires definition before use ordering

#-- Demonstrate primitive and library types ---------------
def demolibtypes() :
    # code elided

#-- demonstrate user-define type --------------------------
def demouserdeftype() :
    # code elided

# -- illustrate reference behavior ------------------------
def demorefbehavior() :
    # code elided

# -- Demonstration starts here ----------------------------
def execute() :
    print(&quot; Demonstrate Python Objects&quot;)
    print(&quot;----------------------------&quot;)
    print()

    anal.showNote(
        &quot;  All Python types are reference-based&#92;n&quot;&#92;
        &quot;  with values in the managed heap. That&#92;n&quot;&#92;
        &quot;  has consequences we explore in this demo.&quot;
    )
    print()

    demolibtypes()
    demouserdeftype()
    demorefbehavior()

    print(&quot;&#92;nThat's all folks!&#92;n&quot;)

execute()

</code></pre>
          </div>
          <div class="textwrap">
            <h4>Structure:</h4>
            <t-b>
              Code in the left panel begins with a set of import statements for the libraries
              used in this demonstration, two for system resources and two modules defined as
              separate files in this program.
            </t-b>
            <h4>Execution Flow:</h4>
            <t-b>
              Computation starts with the invocation of function <c-s>execute()</c-s>.
              That in turn calls the demonstration functions <c-s>demolibtypes()</c-s>, <c-s>demouserdeftype()</c-s>,
              and <c-s>demorefbehavior()</c-s>.
            </t-b>
            <t-b>
              This program partitioning into modules and functions makes the code easier to understand
              and maintain.
            </t-b>
            <t-b>
              Statically type languages C++, Rust, and C# all begin processing in function
              <c-s>main()</c-s>. The dynamic languages Python and JavaScript begin processing in
              a function based on its placement.
            </t-b>
            <t-b>
              For Python processing begins in the first function invocation in the program flow.
              For JavaScript in a web page it is the first function invocation encountered in the HTML body.
              That may vary depending on events in the window, e.g., button clicks.
            </t-b>
          </div>
        </div>
        <div style="height:0.75em;"></div>
        <h3 id="libtypes">1.3 Primitive and Library types</h3>
        <t-b>
          The panels below demonstrate construction and modification of standard Python objects.
        </t-b>
        <t-b>
          The statement &quot;<c-s>d1 = 3.1415927</c-s>&quot; illustrates that Python does not
          use type declarations. Types are inferred from use, e.g., d1 is inferred to have the
          type double.
        </t-b>
        <t-b>
          The rest of the code illustrates construction and simple modifications of strings and
          lists.
        </t-b>
        <t-b style="margin-bottom:0em;">
          The source code is available
          <a target="_blank" href="https://github.com/JimFawcett/Bits/tree/master/Python">here</a>.
          Download the entire Bits repository
          <a target="_blank" href="https://github.com/JimFawcett/Bits">here</a>.
        </t-b>
        <t-b>
          The two panels below are separated by a &quot;splitter bar&quot;.  You can drag the
          bar horizontally to view hidden code or output.
        </t-b>
        <div class="blockSingle">
          <input type="button" value="RemoteExecute" class="remotebutton" onclick="remote1()" />
          <splitter-container id="container">
            <first-item id="fig2-first" style="width:52%; padding-right:0.5em;">
              <div class="codewrap">
                <pre><code class="language-python">#-- Demonstrate primitive and library types ---------------                                                    
def demolibtypes() :
    anal.showNote(&quot;  primitive and library types&quot;,&quot;&#92;n&quot;)

    # type of d1 is inferred as float from RHS
    d1 = 3.1415927
    print(&quot;d1 = &quot;, d1)

    # repr(s) wraps string s in quotes
    s1 = &quot;a string&quot;
    print(&quot;s1 = &quot;, repr(s1))

    anal.showOp(&quot;s2 = s1&quot;)
    s2 = s1
    anal.showIdent(s1, &quot;s1&quot;)
    anal.showIdent(s2, &quot;s2&quot;)

    #print(&quot;s2 = {}&quot;.format(s2))

    anal.showOp(&quot;s2 += &#92;&quot; and more&#92;&quot;&quot;)
    s2 += &quot; and more&quot;
    anal.showIdent(s2, &quot;s2&quot;)
    anal.showIdent(s1, &quot;s1&quot;)
    print()
    anal.showNote(
        &quot;  Assignment, in Python, assigns references not&#92;n&quot;&#92;
        &quot;  values.  So s1 and s2 share same heap instance&#92;n&quot;&#92;
        &quot;  But strings are immutable. So when a change is&#92;n&quot;&#92;
        &quot;  made to one, that creates a new changed instance&#92;n&quot;&#92;
        &quot;  without changing the original.&quot;
    )
    print()

    l1 = [&quot;you&quot;, &quot;me&quot;, &quot;them&quot;, &quot;us&quot;]
    anal.showValueEnum(l1, &quot;l1&quot;)

    print(&quot;&#92;nl1 = &quot;, l1, &quot;&#92;n&quot;)

    anal.showOp(&quot;l2 = l1&quot;)
    l2 = l1

    anal.showOp('l2.append(&quot;everyone&quot;)')
    l2.append(&quot;everyone&quot;)
    print(&quot;&#92;nl2 = &quot;, l2)
    print(&quot;l1 = &quot;, l1, &quot;&#92;n&quot;)

    anal.showOp('l2[1] = &quot;myself&quot;')
    l2[1] = &quot;myself&quot;
    print(&quot;&#92;nl2 = &quot;, l2)
    print(&quot;l1 = &quot;, l1)
    print()

    anal.showNote(
        &quot;  Changes to target of assignment affect source&#92;n&quot;&#92;
        &quot;  except for immutable strings.&quot;&#92;
        &quot;  &#92;&quot;caveat emptor&#92;&quot;&quot;
    )
    print()
</code></pre>
              </div>
            </first-item>
            <splitter-bar id="fig2-seperator"></splitter-bar>
            <second-item id="fig2-second" style="width:48%; padding-right:0.5em;">
              <div class="codewrap">
                <pre><code class="language-shell">
--------------------------------------------------                                                  
  primitive and library types
--------------------------------------------------

d1 =  3.1415927
s1 =  'a string'
--- s2 = s1 ---
s1 a string 1974941848240
s2 a string 1974941848240
--- s2 += &quot; and more&quot; ---
s2 a string and more 1974942127632
s1 a string 1974941848240

--------------------------------------------------
  Assignment, in Python, assigns references not
  values.  So s1 and s2 share same heap instance
  But strings are immutable. So when a change is
  made to one, that creates a new changed instance
  without changing the original.
--------------------------------------------------

l1 {
  you, me, them, us
}

l1 =  ['you', 'me', 'them', 'us']

--- l2 = l1 ---
--- l2.append(&quot;everyone&quot;) ---

l2 =  ['you', 'me', 'them', 'us', 'everyone']
l1 =  ['you', 'me', 'them', 'us', 'everyone']

--- l2[1] = &quot;myself&quot; ---

l2 =  ['you', 'myself', 'them', 'us', 'everyone']
l1 =  ['you', 'myself', 'them', 'us', 'everyone']

--------------------------------------------------
  Changes to target of assignment affect source
  except for immutable strings.  &quot;caveat emptor&quot;
--------------------------------------------------














                </code></pre>
              </div>
            </second-item>
          </splitter-container>
        </div>
        <div style="height:0.75em;"></div>
        <h3 id="userdef">1.4 User-defined Type</h3>
        <t-b>
          Code in the panels below illustrate use of the <c-s>Point4D</c-s> type defined in
          section 1.1. Instances are constructed, modified, and displayed.
        </t-b>
        <t-b>
          Note especially the demonstration of assignment and deepcopy.
        </t-b>
        <div class="blockSingle">
          <input type="button" value="RemoteExecute" class="remotebutton" onclick="remote2()" />
          <splitter-container id="container">
            <first-item id="fig3-first" style="width:52%; padding-right:0.5em;">
              <div class="codewrap">
                <pre><code class="language-python">#-- demonstrate user-define type --------------------------
def demouserdeftype() :
    anal.showNote(&quot;  user defined type&quot;,&quot;&#92;n&quot;)

    anal.showOp(&quot;p1a = Point4D()&quot;)
    p1a = PointsObj.Point4D()

    anal.showOp(&quot;AnalysisObj.showTypeShowable(p1a, &#92;&quot;p1a&#92;&quot;, nl)&quot;)

    # function defined in AnalysisObj.py
    anal.showTypeShowable(p1a, &quot;p1a&quot;, &quot;&#92;n&quot;)
    p1a.x = 2
    p1a.y = -3.5
    p1a.z = -42

    print()
    # method defined in Point4D
    p1a.show(&quot;p1a&quot;)

    anal.showOp(&quot;p1b = p1a&quot;)
    p1b = p1a  # assignment of reference - no copy of instance.
    p1b.show(&quot;p1b&quot;)

    anal.showOp(&quot;p1b.y = 13&quot;)
    p1b.y = 13
    p1b.show(&quot;p1b&quot;)
    p1a.show(&quot;p1a&quot;)
    anal.showNote(
        &quot;  Reference assigned, not value.  So change&#92;n&quot;&#92;
        &quot;  in P1b changed source p1a.&quot;
    )
    print()

    # copy.deepcopy(p) copies entire object graph of p
    anal.showOp(&quot;p1c = copy.deepcopy(p1b)&quot;)
    p1c = copy.deepcopy(p1b)
    p1c.show(&quot;p1c&quot;);
    p1b.show(&quot;p1b&quot;)

    anal.showOp(&quot;p1c.z = 12&quot;)
    p1c.z = 12
    p1c.show(&quot;p1c&quot;)
    p1b.show(&quot;p1b&quot;)
    anal.showNote(
        &quot;  p1c.z reference assigned, not value. But no&#92;n&quot;&#92;
        &quot;  change in p1b since p1c is deep clone of p1b.&quot;
    )
    print()









</code></pre>
              </div>
            </first-item>
            <splitter-bar id="fig3-seperator"></splitter-bar>
            <second-item id="fig3-second" style="width:48%; padding-right:0.5em;">
              <div class="codewrap">
                <pre><code class="language-shell">--------------------------------------------------
  user defined type
--------------------------------------------------

--- p1a = Point4D() ---
--- AnalysisObj.showTypeShowable(p1a, &quot;p1a&quot;, nl) ---
p1a &lt;class 'PointsObj.Point4D'&gt; dynamic
p1a {
  x:0.0, y:0.0, z:0.0
  t:2024-01-14 18:41:57.225653
}

p1a {
  x:2, y:-3.5, z:-42
  t:2024-01-14 18:41:57.225653
}
--- p1b = p1a ---
p1b {
  x:2, y:-3.5, z:-42
  t:2024-01-14 18:41:57.225653
}
--- p1b.y = 13 ---
p1b {
  x:2, y:13, z:-42
  t:2024-01-14 18:41:57.225653
}
p1a {
  x:2, y:13, z:-42
  t:2024-01-14 18:41:57.225653
}
--------------------------------------------------
  Reference assigned, not value.  So change
  in P1b changed source p1a.
--------------------------------------------------

--- p1c = copy.deepcopy(p1b) ---
p1c {
  x:2, y:13, z:-42
  t:2024-01-14 18:41:57.225653
}
p1b {
  x:2, y:13, z:-42
  t:2024-01-14 18:41:57.225653
}
--- p1c.z = 12 ---
p1c {
  x:2, y:13, z:12
  t:2024-01-14 18:41:57.225653
}
p1b {
  x:2, y:13, z:-42
  t:2024-01-14 18:41:57.225653
}
--------------------------------------------------
  p1c.z reference assigned, not value. But no
  change in p1b since p1c is deep clone of p1b.
--------------------------------------------------
</code></pre>
              </div>
            </second-item>
          </splitter-container>
        </div>
        <div style="height:0.75em;"></div>
        <h3 id="refbehavior">1.5 Reference Behavior</h3>
        <t-b>

        </t-b>
        <div class="blockSingle">
          <input type="button" value="RemoteExecute" class="remotebutton" onclick="remote3()" />
          <splitter-container id="container">
            <first-item id="fig4-first" style="width:52%; padding-right:0.5em;">
              <div class="codewrap">
                <pre><code class="language-python"># -- illustrate reference behavior ------------------------                                                         
def demorefbehavior() :
    # reference behavior - new child object
    anal.showOp(&quot;t5 = (1, 2, 3)&quot;)
    t5 = (1, 2, 3)
    anal.showIdent(t5, &quot;t5&quot;)

    anal.showOp(&quot;t6 = [1, t5, &#92;&quot;weird&#92;&quot;]&quot;)
    t6 = [1, t5, &quot;weird&quot;]
    anal.showIdent(t6, &quot;t6&quot;)
    anal.showType(t6, &quot;t6&quot;)
    
    print(&quot;-- t5 = 1 + 1j : new object --&quot;)
    #new object for t5
    t5 = 1 + 1j
    anal.showIdent(t5, &quot;t5&quot;)

    # t6 still refers to old t5 object
    anal.showIdent(t6, &quot;t6&quot;)
    print()
    anal.showNote(
        &quot;  new object for t5, t6 not affected&quot;, &quot;&#92;n&quot;
    )

    # # reference behavior - iterate over children
    print(&quot;-- iterate over t6 children --&quot;)
    for i in t6:
        anal.showIdent(i, &quot;elem&quot;)

    # uncommenting the two statements below shows all the user
    # and system defined methods

    # print(&quot;&#92;n-- iterate over t6 methods --&quot;)
    # print(dir(t6))

</code></pre>
              </div>
            </first-item>
            <splitter-bar id="fig4-seperator"></splitter-bar>
            <second-item id="fig4-second" style="width:48%; padding-right:0.5em;">
              <div class="codewrap">
                <pre><code class="language-shell">
                  
                  
--- t5 = (1, 2, 3) ---
t5 (1, 2, 3) 1974942114176
--- t6 = [1, t5, &quot;weird&quot;] ---
t6 [1, (1, 2, 3), 'weird'] 1974941790912
t6 &lt;class 'list'&gt; dynamic
value:  [1, (1, 2, 3), 'weird'] , size:  80
-- t5 = 1 + 1j : new object --
t5 (1+1j) 1974941491280
t6 [1, (1, 2, 3), 'weird'] 1974941790912

--------------------------------------------------                                                  
  new object for t5, t6 not affected
--------------------------------------------------

-- iterate over t6 children --
elem 1 1974940467440
elem (1, 2, 3) 1974942114176
elem weird 1974942119920














</code></pre>
              </div>
            </second-item>
          </splitter-container>
        </div>
        <div style="height:0.75em;"></div>
        <h3 id="funcs">1.6 Analysis and Display Functions:</h3>
        <div class="blockSingle">
          <div class="codewrap" style="float:left; width:60%;">
            <pre style="font-size:1.0em; margin-right:0.75em;"><code class="language-python">#------------------------------------------------   
# Py_Objects::AnalysisObj.py
# - collection of display and analysis functions
#------------------------------------------------

import sys

# Python requires definition before use ordering

# show name, type, value, and size of a Python instance
def showType(t, nm: str, suffix: str = &quot;&quot;) :
    print(nm, type(t), &quot;dynamic&quot;)
    print(&quot;value: &quot;, t, ', size: ', sys.getsizeof(t), suffix)

# generate indent string with n spaces
def indent(i):
    tmpStr = &quot;&quot;
    for i in range(i):
        tmpStr += ' '
    return tmpStr

# fold indexable into rows of width elements indented by
# left spaces
def fold(enum, left, width):
    tmpStr = indent(left)
    for i in range(len(enum)):
        tmpStr += str(enum[i]) + &quot;, &quot;
        if(((i + 1) % width) == 0 and i != 0):
            tmpStr += &quot;&#92;n&quot; + indent(left)
    rIndex = tmpStr.rindex(',')
    tmpStr = tmpStr[:rIndex]
    return tmpStr

# show name, type, value, and size of a Python instance
def showTypeEnum(enum, nm, left = 0, width = 7, suffix = &quot;&quot;) :
    # topStr = indent(left) + nm + type(enum) + &quot;dynamic&quot;
    print(indent(left),nm, ' ', type(enum), ' ', &quot;dynamic&quot;, sep='')
    print(indent(left), &quot;{&quot;, sep='')
    print(fold(enum, left+2, width))
    print(indent(left), &quot;}&quot;, sep = '')
    print(indent(left), &quot;size: &quot;, sys.getsizeof(enum), suffix, sep='')

# show value of an enumerable Python instance
def showValueEnum(enum, nm, left = 0, width = 7, suffix = &quot;&quot;) :
    # topStr = indent(left) + nm + type(enum) + &quot;dynamic&quot;
    print(indent(left),nm, ' ', sep='', end='')
    print(&quot;{&quot;, sep='')
    print(fold(enum, left+2, width))
    print(indent(left), &quot;}&quot;, sep = '')

# same as showType except uses class method to show value
def showTypeShowable(t, nm, suffix = &quot;&quot;):
    print(nm, type(t), &quot;dynamic&quot;)
    t.show(nm)

# show Python id, unique for each instance
def showIdent(t, n, suffix = &quot;&quot;) :
    print(n, t, id(t), suffix)

# show emphasized note
def showNote(text, suffix = &quot;&quot;, n: int = 50) :
    tmpStr = &quot;&quot;
    for i in range(n):
      tmpStr += '-'
    print(tmpStr)
    print(text)
    print(tmpStr, suffix)

# show delineated string to announce a program operation
def showOp(text):
    print(&quot;--- {} ---&quot;.format(text))

</code></pre>
          </div>
          <div class="textwrap">
            <t-b>
              text here
            </t-b>
          </div>
        </div>
        <h3 id="build">2.0 Build</h3>
        <div class="blockSingle" style="width:max-content;">
          <div class="codewrap" style="float:left; width:100%;">
            <pre style="font-size:1.0em; margin-right:0.75em;"><code class="language-shell">C:&#92;github&#92;JimFawcett&#92;Bits&#92;Python&#92;Py_Objects
&gt; python Py_Objects.py
 Demonstrate Python Objects
----------------------------
</code></pre>
          </div>
        </div>
        <h3 id="ide">3.0 VS Code</h3>
        <t-b>
          The code for this demo is available in
          <a target="_blank" href="https://github.com/JimFawcett/Bits">github.com/JimFawcett/Bits</a>. If you click on
          the Code dropdown you can clone the repository of all code for these demos to your local drive.
          Then, it is easy to bring up any example, in any of the languages, in VS Code.
        </t-b>
        <t-b>
          Here, we do that for Python\Python_Objects.
        </t-b>
        <photosizer-block src="pictures/VS_Code_Python_Objects.JPG" width="800" class="photoSizerBlock left"
                          style="overflow-x:auto;">
          <span style="font-family:'Comic Sans MS';">Figure 1. VS Code IDE - Python Objects</span>
        </photosizer-block>
        <!--<photosizer-block src="pictures/LaunchJSON_Cpp_Objects.JPG" width="800" class="photoSizerBlock left"
    style="overflow-x:auto;"
  >
    <span style="font-family:'Comic Sans MS';">Figure 2. Launch.JSON</span>
  </photosizer-block>-->
        <photosizer-block src="pictures/VS_Code_Debugging_Python_Objects.JPG" width="800" class="photoSizerBlock left"
                          style="overflow-x:auto;">
          <span style="font-family:'Comic Sans MS';">Figure 3. Debugging Python Objects</span>
        </photosizer-block>
        <!--<photosizer-block src="pictures/VS_Code_Cpp_Plugins.jpg" width="700" class="photoSizerBlock left">
    <span style="font-family:'Comic Sans MS';">Figure 3. C++ Plugins</span>
  </photosizer-block>-->

        <div style="height:0.75em;" class="clear"></div>
        <h3 id="refs">4.0 References</h3>
        <table class="indent">
          <tr>
            <th class="darkItem">Reference</th>
            <th class="darkItem">Description</th>
          </tr>
          <tr>
            <td>
              <a target="_blank" href="https://www.w3schools.com/python/">Python Tutorial - w3schools</a>
            </td>
            <td>
              Interactive examples
            </td>
          </tr>
          <tr>
            <td>
              <a target="_blank" href="https://docs.python.org/3/reference/index.html">Python Reference - docs.python.org</a>
            </td>
            <td>
              Semi-formal syntax reference
            </td>
          </tr>
        </table>
        <div style="height:10em;"></div>
        <!-- <span id="loc" style="display:inline-block; font-weight:normal"></span> -->
      </content>
      <a id="bottom"></a>
      <page-TOC id="pages" style="display:none;">
      </page-TOC>
      <page-sections id="sections" style="display:none;">
        <menu-elem style="width:0.0em">&nbsp;</menu-elem>
        <menu-elem class="secElem"><a href="#bottom">bottom</a></menu-elem>
        <menu-elem class="secElem"><a href="#refs">refs</a></menu-elem>
        <menu-elem class="secElem"><a href="#ide">VS Code</a></menu-elem>
        <menu-elem class="secElem"><a href="#build">bld</a></menu-elem>
        <menu-elem class="secElem"><a href="#out">out</a></menu-elem>
        <menu-elem class="secElem"><a href="#analysis">anal</a></menu-elem>
        <menu-elem class="secElem"><a href="#points">pts</a></menu-elem>
        <menu-elem class="secElem"><a href="#source">src</a></menu-elem>
        <menu-elem class="secElem"><a href="#code">codeSnaps</a></menu-elem>
        <menu-elem class="secElem"><a href="#top">top</a></menu-elem>
      </page-sections>
    </main>
    <!--     <frame-footer>
          <menu-item style="width:1.0em;">&nbsp;</menu-item>
          <menu-elem id="nextLink2" onclick="bottomMenu.next()">Next</menu-elem>
          <menu-elem id="prevLink2" onclick="bottomMenu.prev()">Prev</menu-elem>
          <menu-elem id="pgbtn" onclick="bottomMenu.pages()">Pages</menu-elem>
          <menu-elem onclick="bottomMenu.sections()">Sections</menu-elem>
          <menu-elem onclick="bottomMenu.about()">About</menu-elem>
          <menu-elem id="kysbtn" onclick="storyHlpMenu.keys()">Keys</menu-elem>
          <menu-elem style="margin-right:5em">
            <span id="loc" style="display:inline-block; font-weight:normal"></span>
          </menu-elem>
        </frame-footer>
     -->
  </page-frame>
  <!-- <script>
    let loc = document.getElementById("loc");
    let fn = window.location.href.split(/\/|\\/).pop();
    loc.innerHTML = fn + ": ";
  </script> -->
  <script>
    onLoadSplitter("fig2");
    onLoadSplitter("fig3");
    onLoadSplitter("fig4");
    onLoadSplitter("fig5");
  </script>
</body>
</html>