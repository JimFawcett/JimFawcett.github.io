<!DOCTYPE html>
<html>
<!--
  Bits_ObjectsCSharp.html
-->
<head>
  <title>C# Objects</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/StylesPhoto.css" />
  <link rel="stylesheet" href="css/StylesSizerComp.css" />
  <!-- PageFrame infrastructure -->
  <link rel="stylesheet" href="css/StylesPageFrameDefaults.css" />
  <link rel="stylesheet" href="css/StylesPageFrameStructure.css" />
  <link rel="stylesheet" href="css/StylesPageFrameMenus.css" />
  <link rel="stylesheet" href="css/StylesPageFrameThemeCSharp.css" />
  <link rel="stylesheet" href="css/StylesWebComponents.css" />
  <script src="js/ScriptsWebComponents.js"></script>
  <script src="js/ScriptsPageFrame.js"></script>
  <script src="js/ScriptsPageFramePagesBitsCSharp.js"></script>
  <script src="js/ScriptsPageFrameKeyboard.js"></script>
  <!--<script src="js/ScriptsPageFrameNewRadioButtons.js"></script>-->
  <link rel="stylesheet" href="css/StylesSplitterBar.css" />
  <script src="js/ScriptsSplitterBar.js"></script>
  <link rel="stylesheet" href="css/prism.css" />
  <script src="js/prism.js"></script>
  <style>
    #github .note {
      border: 2px solid red;
      padding: 0.75em 1.5em;
      margin-top: 1.25em;
      margin-bottom: 1.25em;
      background-color: var(--light);
      color: var(--dark);
      width:max-content;
      max-width: 50em;
    }

    #github h2 {
      margin-top: 0.75em;
    }

    #github #pagetitle {
      border: 2px double var(--dark);
      /* line-height:1.5em; */
    }

    #github .hide {
      display: none;
    }

    body {
      position: relative;
      line-height: 1.25em;
    }

    #github .remotebutton {
      padding: 0.25em 0.5em;
    }

    #github .rightPanelLinks {
      position: fixed;
      right: 0.0em;
      top: 15em;
      z-index: 100;
      background: var(--light);
      padding: 0.75em 0.25em;
      border: 1px solid var(--dark);
    }

    #github div.rightPanelLinks a {
      display: block;
      height: 1.5em;
      padding: 0em 0.25em;
    }

    #github hr.spread {
      margin: 0.75em 0em;
    }

    #github {
      user-select: none;
    }

    .focus {
      padding: 0.5em 1.0em 0.5em 1.0em;
      /*border:1px solid red;*/
    }

    *.focus ul {
      padding-top: -0.5em;
      /*background-color:green;*/
    }

    .cat {
      text-align: left;
      background-color: var(--menu);
    }

    #github .codeSnap {
      font-family: Consolas, Courier New, Courier, monospace, sans-serif;
      font-size: small;
      font-weight: bold;
      background-color: #eee;
      padding: 1em 1.5em;
      margin-right: 0.5em;
    }

    #github pre {
      overflow-x: auto;
      /* user-select: all; */
    }

    code-style {
      white-space: pre;
      font-family: Consolas;
      font-size: 0.95em;
      font-weight: bold;
    }

    .blockDouble {
      position: relative;
      display: grid;
      grid-template-columns: 1fr 1fr;
      border: 1px solid var(--dark);
      overflow-x: auto;
      overflow-y: hidden;
      margin-right: 0.75em;
      padding: 0.75em;
      padding-right: 0em;
    }

    .blockSingle {
      position: relative;
      border: 1px solid var(--dark);
      overflow-x: auto;
      overflow-y: hidden;
      margin-right: 0.75em;
      margin-top: 1.5em;
      padding: 0.0em;
      padding-right: 0em;
    }

    .codewrap {
      padding: 0.5em;
      padding-right: 0em;
      overflow-y: auto;
      /*border: 1px dashed blue;*/
      font-size: 0.80em;
    }

    #github div.block t-b {
      max-width: 100%;
      padding-left: 0.5em;
    }

    .textwrap {
      position: relative;
      padding-right: 1em;
      padding-left: 1em;
      margin-right: 0.5em;
      overflow-y: scroll;
      /*border: 1px dashed red;*/
    }

    table {
      margin-right: 0.75em;
    }

    #github .scrollable {
      overflow: auto;
    }
  </style>
  <style>
    #github .info {
      position: relative;
      top: 0em;
      float: right;
      font-size: large;
      font-weight: bold;
      text-align: center;
      background-color: var(--light);
      border-radius: 8px;
      color: var(--dark);
      width: 1.25em;
      cursor: pointer;
      user-select: none;
    }

    #github .infoKill {
      position: relative;
      top: 0.05em;
      float: right;
      font-size: large;
      font-weight: bold;
      text-align: center;
      background-color: var(--light);
      border-radius: 8px;
      color: var(--dark);
      width: 1.25em;
      cursor: pointer;
      user-select: none;
      margin: 0.25em;
    }

    #github .txt {
      display: none;
      position: absolute;
      right: 4.5em;
      width: 25em;
      z-index: 10;
      color: var(--dark);
      font-size: small;
      background-color: var(--light);
      border: 2px solid var(--dark);
      padding: 0em 0.5em;
      overflow-y: visible;
    }
  </style>
  <script>
    function closeInfos() {
      var elems = document.querySelectorAll('.txt');
      for (let i = 0; i < elems.length; ++i) {
        if (elems[i].style.display === "block") {
          elems[i].style.display = "none";
        }
      }
    }
    function toggleInfo(dst) {
      var elem = document.getElementById(dst);
      if (elem.style.display === "none" || elem.style.display === "") {
        elem.style.display = "block";
      }
      else {
        elem.style.display = "none";
      }
    }
    function toggleInfoRel(src, dst, adj = 0) {
      var txtcont = document.getElementById(dst);
      var elemtop = src.offsetTop;
      txtcont.style.top = parseInt(elemtop - 25 - adj) + 'px';
      var top = txtcont.style.top;
      if (txtcont.style.display === "none" || txtcont.style.display === "") {
        txtcont.style.display = "block";
      }
      else {
        txtcont.style.display = "none";
      }
    }
  </script>
  <script>
    function setScroll() {
      let main = document.querySelector("#main");
      const scrollPosition = main.scrollTop;
      localStorage.setItem('scrollPositionHelloRust', scrollPosition);
      let scroller = document.getElementById("scrollY")
      scroller.innerHTML = Math.trunc(scrollPosition);
    }
    function gotoLastScroll() {
      let main = document.querySelector("#main");
      const scrollPosition = localStorage.getItem('scrollPositionHelloRust');
      if (scrollPosition) {
        main.scrollTo(0, scrollPosition);
      }
      main.addEventListener('scroll', setScroll);
    }
    function load() {
      //initialize();
      gotoLastScroll();
    }
  </script>

  <script>
    function remote() {
      window.open('https://godbolt.org/z/KsWeWecvj', '_blank');
    }
  </script>
</head>
<body id="github" onload="load()">

  <a id="Next" href="Bits_GenericCSharp.html">Next</a>
  <a id="Prev" href="Bits_DataCSharp.html">Prev</a>

  <page-frame>
    <!-- <frame-header>
      <nav id="navbar"></nav>
    </frame-header> -->
    <main id="main">
      <div id="about">about</div>
      <div id="page">Bits Objects C#</div>
      <div id="modified">01/02/2024</div>
      <div id="hlp"></div>
      <a id="top"></a>
      <content>
        <div id="scrollY"
             style="position:fixed; bottom:0.50em; right:1.50em; width:max-content; height:1.5em;
           text-align:right; padding:0.15em 0.5em; border:1px solid red;">
          0
        </div>
        <header>
          <a target="_blank" class="repoLink" href="https://github.com/JimFawcett/Bits">Bits Repo Code</a>
          <a target="_blank" class="repoLink" href="../../BitsRepo.html" style="margin-right:7.5em;">Bits Repo Docs</a>
          <hgroup id="pagetitle">
            <h1 id="title">Bits: C# Objects</h1>
            <h3 id="subtitle" class="indent">
              library and user-defined classes and objects
            </h3>
          </hgroup>
        </header>
        <div class="note lightItem">
          This page is under construction.  Please come back in a few days.
        </div>
        <t-b id="syn" style="border:1px solid maroon; padding:0.25em 1em 0.5em 1em;">
          <h4 style="margin:0em 0em 0.25em 0em;">Synopsis:</h4>
          This page demonstrates uses of C# User-Defined types and their objects.
          The purpose is to quickly acquire some familiarity with user-defined types
          and their implementations.
          <hr class="spread" />
          <ul>
            <li>
              C# defines a few special class methods: parameterized constructors, and other operators for
              indexing and comparison etc.
            </li>
            <li>
              The compiler does not generate any of these special methods.
            </li>
            <li>
              Also, this is the first set of examples to partition code into several files.
              That supports readability, may improve translation times, and makes maintenance
              significantly easier.
            </li>
          </ul>
          <div style="height:0.5em;"></div>
        </t-b>
        <div style="height:0.75em;"></div>
        <details id="aggrtypes">
          <summary class="darkItem">C# Aggregate Type Structure&nbsp;&nbsp;</summary>
          <div style="padding:0em 1em 1em 1em; width:max-content; border:1px solid var(--dark);">
            <t-b>
              Aggregates are types whose instances hold instances of, or handles to, other types, i.e., an array can hold
              instances of an arbitrary type. Structs and classes can hold named instances or handles to arbitrary other types.
            </t-b>
            <t-b>
              There are three ways that happens:
              <ul>
                <li>
                  <strong>Inheritance</strong>
                  <t-b>
                    A C# class can inherit implementation of one base class. The memory footprint of the base class
                    is held entirely within the memory footprint of the derived class.
                  </t-b>
                  <t-b>
                    C# classes can inherit multiple interface declarations. That has no effect on the
                    class instance memory footprint.
                  </t-b>
                </li>
                <li>
                  <h5>Composition</h5>
                  <t-b>
                    When an instance of a C# type holds a value type, the memory footprint of the value type
                    lies entirely within the memory footprint of its parent instance.  We say the parent
                    composes its value type element.
                  </t-b>
                </li>
                <li>
                  <h5>Aggregation</h5>
                  <t-b>
                    When an instance of a C# type holds a handle to a reference type, the parent&apos;s memory
                    footprint holds only the handle, not the entire child instance.  We say the parent
                    aggregates the type referenced by the handle.
                  </t-b>
                </li>
              </ul>
              This layout affects how copy operations work:
              <ul>
                <li>
                  Copies of value types like structs, and tuples
                  create a copy of the source instance at the destination&apos;s memory location.
                  That results in two unique instances, the source and the destination.
                </li>
                <li>
                  Copies of handles to reference types like arrays, class instances, and objects copy only the handles.
                  That results in two handles referring to the same instance stored in the managed heap.
                </li>
              </ul>
            </t-b>
          </div>
        </details>
        <details id="notes">
          <summary class="darkItem">Demo Notes&nbsp;&nbsp;</summary>
          <t-b><hr /></t-b>
          <t-b>
            All of the languages covered in this demonstration support classes.  Each class provides
            a pattern for laying out a memory footprint and defines how data within are accessed.
          </t-b>
          <t-b>
            Three of the languages: C++, Rust, and C# provide generics.  Each generic function or class
            is a pattern for defining functions and classes of a specific type.  Thus a generic is a
            pattern for making patterns.
          </t-b>
          <t-b>
            The other two, Python and JavaScript, are dynamically typed and already support defining
            functions and classes for multiple types, e.g., no need for generics.
          </t-b>
          <t-b>
            This demonstration illustrates use of classes and objects, which for C++, Rust, and C#,
            are defined in a stackframe or in the heap or both. <strongs>All</strongs> data for Python and JavaScript are
            stored in managed heaps.
          </t-b>
          <t-b><hr /></t-b>
        </details>
        <t-b>
          The examples below show how to use library and user defined types with emphasis on
          illustrating syntax and basic operations.
        </t-b>
        <h3 id="code">1.0 Source Code</h3>
        <t-b>
          A C# class is a pattern for laying out a type&apos;s data in memory with member functions,
          called methods, for all its operations. Making data members private or providing encapsulated
          public properties ensures that methods have valid data of their operations. A type
          designer may choose to selectively allow user data modification.
        </t-b>
        <h3 id="points">1.1 PointsObjects.cs</h3>
        <t-b>
          <c-s>Point4D</c-s> is a user-defined type representing a point in 4-dimensional space-time.
          It declares data held by all instances of the type, three floating point coordinates and
          a <c-s>DateTime</c-s> variable, and methods to create and modify instances.
        </t-b>
        <t-b>
          The source code is available
          <a target="_blank" href="https://github.com/JimFawcett/Bits/tree/master/CSharp/Cs_Objects">here</a>.
          Download the entire Bits repository
          <a target="_blank" href="https://github.com/JimFawcett/Bits">here</a>.
        </t-b>
        <div class="blockSingle">
          <div class="codewrap" style="float:left; width:60%;">
            <pre style="font-size:1.0em; margin-right:0.75em;"><code class="language-cpp">
/*-------------------------------------------------------------------
  Points.cs
  - provides definitions for user-defined class Point4D
*/

using System.Collections;
using System.Collections.Generic;   // IEnumerable&lt;T&gt;, List&lt;T&gt;
using Analysis;

namespace Points {
  /*-----------------------------------------------------------------------
    Point4D is a basic point class with three integer coordinates and one
    time coordinate.
    - It is a reference type because it's instances are created
      from a class
    - That affects the way assignments work - see demo in Program.cs
  */
  public class Point4D : Analysis.IShow  // reference type with value type members
  {
    public Point4D() {
      /*
        doesn't need to do anything because its properties have
        default values
      */
    }
    public Point4D(double xarg, double yarg, double zarg) {
      x = xarg;
      y = yarg;
      z = zarg;
    }
    public double x { get; set; } = 0.0;
    public double y { get; set; } = 0.0;
    public double z { get; set; } = 0.0;
    public DateTime dt { get; set; } = DateTime.Now;
    public int Length { get; } = 4;
    public int Width { get; set; } = 3;
    public int Left { get; set; } = 2;
    public int Indent { get; set; } = 2;
    /* translates IShow::show to needs of class */
    public void Show(string name) {
      PrintSelf(name);
    }
    /* Display Point4D structure and state */
    public void PrintSelf(string name) {
      string ofstr = Display.Spaces(Left);
      string instr = Display.Spaces(Indent);

      Console.WriteLine(&quot;{0}{1} {{&quot;, ofstr, name);
      Console.WriteLine(
        &quot;{5}x:{1}, y:{2}, z:{3},&#92;n{5}{4}&quot;, name, x, y, z, dt, ofstr + instr
      );
      Console.WriteLine(&quot;{0}}}&#92;n&quot;, ofstr);
    }
  }
}</code></pre>
          </div>
          <div class="textwrap">
            <h4>Concept:</h4>
            <t-b>
              Point4D represents a point in 3-dimensional space and a time at which
              something was at that point.
            </t-b>
            <t-b>
              Instances of Point4D could be collected into a List&lt;Point4D&gt; to
              represent the trajectory of a goal kick or flow marker of blood in an artery.
            </t-b>
            <h4>C# class syntax:</h4>
            <t-b>
              C# user-defined types are defined with class implementations. All of the methods
              and properties must be implemented in line within the class declaration.
            </t-b>
            <t-b>
              <c-s>Point4D</c-s> inherits interface <c-s>IShow</c-s> defined in AnalysisObjects.cs. Any
              function that accepts input through a parameter of type <c-s>IShow</c-s> will accept an
              instance of any type that implements that interface. <c-s>Point4D</c-s> is obligated to implement
              the <c-s>Show</c-s> method declared in <c-s>IShow</c-s>.
            </t-b>
            <t-b>
              Mutable properties are declared with <c-s>{&nbsp;get;&nbsp;set;&nbsp;}</c-s> syntax. <c-s>get</c-s>
              and <c-s>set</c-s> are aliases for methods the compiler will implement.
            </t-b>
            <t-b>
              Designers can provide definitions where special processing is needed. All of the
              properties shown here are simply copy-in/copy-out operations so compiler generated
              code works correctly.
            </t-b>
            <t-b>
              Note that the Length property should always return 4, e.g., 3 double coordinates and
              1 DateTime value, so it has no setter. Of course, since this is constant the designer
              might simply choose to eliminate that property. It is included here to show how
              properties that users should not mutate are defined.
            </t-b>
          </div>
        </div>
        <h4 id="source">1.2 Source Code - Program.cs</h4>
        <t-b>
          The code block below illustrates this program&apos;s structure. Subsequent blocks demonstrate
          each of the major processing acivities used to present C# object syntax and semantics.
        </t-b>
        <t-b>
          The source code is available
          <a target="_blank" href="https://github.com/JimFawcett/Bits/tree/master/CSharp/Cs_Objects">here</a>.
          Download the entire Bits repository
          <a target="_blank" href="https://github.com/JimFawcett/Bits">here</a>.
        </t-b>
        <div class="blockSingle">
          <div class="codewrap" style="float:left; width:60%;">
            <pre style="font-size:1.0em; margin-right:0.75em;"><code class="language-csharp">/*---------------------------------------------------------         
  Cs_Objects::Program.cs
  - Demonstrates creation and assignment of objects as well as a few
    peeks at other operations on objects.
*/
using System;
using System.Collections;
using System.Collections.Generic;   // IEnumerable&lt;T&gt;, List&lt;T&gt;
using System.Linq;                  // IEnumerable&lt;T&gt;.ToArray
using System.Text;                  // StringBuilder
using Points;                       // defined in Points.cs
using Analysis;                     // defined in Analysis.cs

/*
  Static Data Types:
    value types =&gt; assignment copies value
    --------------------------------------
      sbyte, byte, short, int, long, ushort, uint, ulong
      float, double
      decimal, char, bool
      struct
    Reference types =&gt; assignment copies reference
    ----------------------------------------------
      object, string, array, class
    ----------------------------------------------
      strings are immutable, so any change requires copy on write.
      That simulates value behavior.
*/
namespace CSharpObjects
{
  /*
    Demonstration composite value type.
    - St is a value type because it is implemented with
      a struct and all its data members are value types.
  */
  public struct St {
    public St(int ai, double bi, char ci) {
      a=ai; b=bi; c=ci;
    }
    public void Show(string name) {
      Console.WriteLine(
        &quot;  {0} {{ a:{1}, b:{2}, c:{3} }}&quot;, name, a, b, c
      );
    }
    /*
     These data members are public instead of public properties.
     - we don't need that ceremony because St is simply a data
       composer. It doesn't have any significant behavior.
    */
    public int a;
    public double b;
    public char c;
  }

  /*-- Object demonstration begins here --*/
  class Program
  {
    const string nl = &quot;&#92;n&quot;;
    
    static void DemoLibraryTypes() {
      /*-- definintion elided --*/
    }
    static void DemoSt() {
      /*-- definition elided --*/
    }
    static void DemoPoint4D() {
      /*-- definition elided --*/
    }
    static void DemoString() {
      /*-- definition elided --*/
    }
    static void Main(string[] args)
    {
      Display.ShowLabel(&quot; Demonstrate C# objects&quot;);

      DemoLibraryTypes();
      DemoSt();
      DemoPoint4D();
      DemoString();

      Console.WriteLine(&quot;&#92;nThat's all Folks!&#92;n&quot;);
    }
  }
}

</code></pre>
          </div>
          <div class="textwrap">
            <h4>Structure:</h4>
            <t-b>
              Code begins with declarations of all dependencies needed for program operation.
              Like most programs, this one begins defining <c-s>System</c-s> dependencies.
            </t-b>
            <t-b>
              That is followed by declaring dependencies on program defined resources, e.g., the
              libraies Points and Analysis.
            </t-b>
            <t-b>
              Points defines a reference type Point4D and Analysis defines a set of functions
              for analysis and display of object properties and actions.
            </t-b>
            <h4>Namespaces:</h4>
            <t-b>
              Idiomatic use of C# places a program&apos;s definitions in a hierarchal namespace structure
              used to locate types and operations within a complex set of code facilities.
            </t-b>
            <t-b>
              C# uses the dotnet standard libraries to support program operations.  These facilities
              are very large and complex. Namespaces are a valuable resource for finding and using
              the libraries.
            </t-b>
            <t-b>
              The <c-s>CSharpObjects</c-s> namespace helps to distinguish program names from the
              many thousands of names used in included dependencies.
            </t-b>
            <h4>struct St</h4>
            <t-b>
              St is a program-defined value type used to illustrate the semantics of construction
              and assignment for value types.
            </t-b>
            <t-b>
              Because St is a simple data composer its members are all declared public. If the
              members had complex structures or defined behaviors then they should be declared to
              be encapsulated properties, as was done for <c-s>Point4D</c-s>.
            </t-b>
            <h4>Program Class:</h4>
            <t-b>
              The program defines four functions that illustrate syntax and semantics for:
              standard library reference types, St value type, Point4D reference type, and
              immutable string behavior.
            </t-b>
            <t-b>
              These are each called in main to illustrate how the various C# types behave.
            </t-b>
            <t-b>
              This structure also illustrates how complex code can be partitioned into simpler
              parts that are easier to understance and maintain that a single monolithic code
              block.
            </t-b>
          </div>
        </div>
        <div style="height:1em;"></div>
        <h3 id="demolib">1.2.1 Demonstrate Library Types</h3>
        <t-b>
          Illustrated here are three of the most important C# data structures:
          <c-s>String</c-s>, <c-s>List&lt;double&gt;</c-s>, and <c-s>Dictionary&lt;int,&nbsp;String&gt;</c-s>.
          This block simply creates, initializes, and displays one instance of each. Display functions
          are documented in the last code block.
        </t-b>
        <t-b>
          The source code is available
          <a target="_blank" href="https://github.com/JimFawcett/Bits/tree/master/CSharp/Cs_Objects">here</a>.
          Download the entire Bits repository
          <a target="_blank" href="https://github.com/JimFawcett/Bits">here</a>.
        </t-b>
        <div class="blockSingle">
          <input type="button" value="RemoteExecute" class="remotebutton" onclick="remote1()" />
          <splitter-container id="container">
            <first-item id="fig2-first" style="width:52%; padding-right:0.5em;">
              <div class="codewrap">
                <pre><code class="language-csharp">static void DemoLibraryTypes() {
  Display.ShowNote(
    &quot;Examples of creation and display of Library Types&#92;n  &quot; +
    &quot;- size is the size of reference, not instance&quot;,
    &quot;&quot;, 60
  );
  /*-- Strings --*/
  string aString = &quot;a string&quot;;  // hides construction
  Display.ShowTypeScalar(aString, &quot;aString&quot;, nl);

  string another = new string(&quot;another string&quot;);
  Console.WriteLine(&quot;another: &#92;&quot;{0}&#92;&quot;&#92;n&quot;, another);

  aString += &quot; and &quot; + another;
  Console.WriteLine(&quot;modified aString: &#92;&quot;{0}&#92;&quot;&#92;n&quot;, aString);                               

  /*-- List&lt;T&gt; --*/
  List&lt;double&gt; aList =
    new List&lt;double&gt;{ 1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0 };

  Display.ShowTypeScalar(aList, &quot;aList&quot;);
  Console.WriteLine();
  Display.ShowDoubleList(&quot;aList&quot;, aList, nl);

  aList.Insert(1, -1.5);
  Display.ShowDoubleList(&quot;aList&quot;, aList, nl);

  /*-- Dictionary --*/
  var d1 = new Dictionary&lt;int, string&gt;
  {
    { 0, &quot;zero&quot;}, {1, &quot;one&quot;}, {2, &quot;two&quot;}
  };

  Display.ShowTypeScalar(d1, &quot;d1&quot;);
  Console.WriteLine();
  Display.ShowDictionary(&quot;d1&quot;, d1, nl);

  d1.Add(3, &quot;three&quot;);
  Display.ShowDictionary(&quot;d1&quot;, d1, nl);
}
</code></pre>
              </div>
            </first-item>
            <splitter-bar id="fig2-seperator"></splitter-bar>
            <second-item id="fig2-second" style="width:48%; padding-right:0.5em;">
              <div class="codewrap">
                <pre><code class="language-shell">
------------------------------------------------------------
  Examples of creation and display of Library Types
  - size is the size of reference, not instance
------------------------------------------------------------
aString: String, size: 8, reference type
value: "a string"

another: "another string"

modified aString: "a string and another string"

aList: List<T>, size: 8, reference type
value: "System.Collections.Generic.List`1[System.Double]"

aList: [ 1, 1.5 , 2 , 2.5 , 3 , 3.5 , 4 ]

aList: [ 1, -1.5 , 1.5 , 2 , 2.5 , 3 , 3.5 , 4 ]

d1: Dictionary<T>, size: 8, reference type
value: "System.Collections.Generic.Dictionary`2[System.Int32,System.String]"                        

d1: [ {0,zero} {1,one} {2,two} ]

d1: [ {0,zero} {1,one} {2,two} {3,three} ]














                </code></pre>
              </div>
            </second-item>
          </splitter-container>
        </div>
        <div style="height:1em;"></div>
        <h3 id="demoval">1.2.2 Demonstrate Value Type</h3>
        <t-b>

        </t-b>
        <t-b>
          The source code is available
          <a target="_blank" href="https://github.com/JimFawcett/Bits/tree/master/CSharp/Cs_Objects">here</a>.
          Download the entire Bits repository
          <a target="_blank" href="https://github.com/JimFawcett/Bits">here</a>.
        </t-b>
        <div class="blockSingle">
          <input type="button" value="RemoteExecute" class="remotebutton" onclick="remote1()" />
          <splitter-container id="container">
            <first-item id="fig3-first" style="width:52%; padding-right:0.5em;">
              <div class="codewrap">
                <pre><code class="language-cpp">/*-------------------------------------------------------------------*/                              
static void DemoSt() {
  Display.ShowNote(
    &quot;Example of user-defined value type, St:&#92;n  &quot; +
    &quot;- Value types can be independently assigned and copied.&quot;,
    &quot;&quot;, 60
  );

  Display.ShowOp(&quot;var s1 = new St(1, -0.5, 'z');&quot;);
  var s1 = new St(1, -0.5, 'z');

  Display.ShowOp(&quot;var s2 = s1&quot;);
  var s2 = s1;
  Display.IsSameObj(s2, &quot;s2&quot;, s1, &quot;s1&quot;);
  s2.Show(&quot;s2&quot;);
  s1.Show(&quot;s1&quot;);

  Display.ShowOp(&quot;s2.c = 'q'&quot;);
  s2.c = 'q';
  s2.Show(&quot;s2&quot;);
  s1.Show(&quot;s1&quot;);
  Display.ShowNote(
    &quot;Change in destination, s2, did not alter source, s1.&#92;n  &quot; +
    &quot;Assignment of value types creates independent objects.&quot;,
    &quot;&#92;n&quot;, 60
  );
}</code></pre>
              </div>
            </first-item>
            <splitter-bar id="fig3-seperator"></splitter-bar>
            <second-item id="fig3-second" style="width:48%; padding-right:0.5em;">
              <div class="codewrap">
                <pre><code class="language-shell">
------------------------------------------------------------                                        
  Example of user-defined value type, St:
  - Value types can be independently assigned and copied.
------------------------------------------------------------
--- var s1 = new St(1, -0.5, 'z'); ---
--- var s2 = s1 ---
s2 is not same object as s1
  s2 { a:1, b:-0.5, c:z }
  s1 { a:1, b:-0.5, c:z }
--- s2.c = 'q' ---
  s2 { a:1, b:-0.5, c:q }
  s1 { a:1, b:-0.5, c:z }
------------------------------------------------------------
  Change in destination, s2, did not alter source, s1.
  Assignment of value types creates independent objects.
------------------------------------------------------------










</code></pre>
              </div>
            </second-item>
          </splitter-container>
        </div>
        <div style="height:1em;"></div>
        <h3 id="demoref">1.2.3 Demonstrate Reference Type</h3>
        <t-b>

        </t-b>
        <t-b>
          The source code is available
          <a target="_blank" href="https://github.com/JimFawcett/Bits/tree/master/CSharp/Cs_Objects">here</a>.
          Download the entire Bits repository
          <a target="_blank" href="https://github.com/JimFawcett/Bits">here</a>.
        </t-b>
        <div class="blockSingle">
          <input type="button" value="RemoteExecute" class="remotebutton" onclick="remote1()" />
          <splitter-container id="container">
            <first-item id="fig4-first" style="width:52%; padding-right:0.5em;">
              <div class="codewrap">
                <pre><code class="language-cpp">/*-------------------------------------------------------------------*/                              
    /*-- user-defined reference type --*/
    static void DemoPoint4D() {
      Display.ShowNote(
        &quot;Example of user-defined reference type Point4D:&#92;n  &quot; +
        &quot;- a point with x,y,z,t coordinates&quot;,
        &quot;&quot;, 50
      );
      Point4D p1 = new Point4D();
      p1.x = 3;
      p1.y = -42;
      p1.z = 1;
      p1.Show(&quot;p1&quot;);
      Display.ShowOp(&quot;ShowTypeShowable(p1, &#92;&quot;p1&#92;&quot;)&quot;);
      Display.ShowTypeShowable(p1, &quot;p1&quot;);

      Display.ShowLabel(
        &quot;Differences between value and reference types&quot;, &quot;&quot;, 55
      );
      Display.ShowNote(
        &quot;Assignment of reference types assigns their references,&#92;n  &quot; +
        &quot;creating two references to the same instance in managed&#92;n  &quot; +
        &quot;heap, so variables are coupled through single instance.&quot;,
        &quot;&#92;n&quot;, 60
      );

      Display.ShowOp(&quot;Point4D val1 = new Point4D(): ref construction&quot;, &quot;&#92;n&quot;);
      Point4D val1 = new Point4D(1, 2, 3);
      Display.ShowLabeledObject(val1, &quot;val1&quot;);
      string addr1 = Anal.ToStringAdddressFromHandle&lt;Point4D&gt;(val1);
      Console.WriteLine(&quot;val1 - {0}&quot;, addr1);

      Point4D val2 = new Point4D(3, 2, 1);

      Display.ShowOp(&quot;Point4D val2 = new Point4D(3, 2, 1)&quot;, &quot;&#92;n&quot;);
      Display.ShowLabeledObject(val2, &quot;val2&quot;);
      string addr2 = Anal.ToStringAdddressFromHandle&lt;Point4D&gt;(val2);
      Console.WriteLine(&quot;val2 - {0}&quot;, addr2);

      Display.ShowOp(&quot;val1 = val2: ref assignment&quot;);
      val1 = val2;
      addr1 = Anal.ToStringAdddressFromHandle&lt;Point4D&gt;(val1);
      Console.Write(&quot;val1 - {0}&quot;, addr1);
      addr2 = Anal.ToStringAdddressFromHandle&lt;Point4D&gt;(val2);
      Console.WriteLine(&quot;val2 - {0}&quot;, addr2);

      Display.IsSameObj(val2, &quot;val2&quot;, val1, &quot;val1&quot;);
      Display.println();

      Display.ShowOp(&quot;val2.z = 42;&quot;);
      val2.z = 42;
      Display.println();

      Display.IsSameObj(val2, &quot;val2&quot;, val1, &quot;val1&quot;);
      Display.ShowLabeledObject(val2, &quot;val2&quot;);
      Display.ShowLabeledObject(val1, &quot;val1&quot;);

      Display.ShowNote(
        &quot;Note! Source of assignment, val1, changed when val2&#92;n  &quot; +
        &quot;changed. Point4D is ref type, so assignment just assigns&#92;n  &quot; +
        &quot;references.&quot;,
        &quot;&quot;, 60
      );
    }









</code></pre>
              </div>
            </first-item>
            <splitter-bar id="fig4-seperator"></splitter-bar>
            <second-item id="fig4-second" style="width:48%; padding-right:0.5em;">
              <div class="codewrap">
                <pre><code class="language-shell">
--------------------------------------------------                                                  
  Example of user-defined reference type Point4D:
  - a point with x,y,z,t coordinates
--------------------------------------------------
  p1 {
    x:3, y:-42, z:1,
    1/11/2024 8:12:00 AM
  }

--- ShowTypeShowable(p1, &quot;p1&quot;) ---
p1: Point4D, size: 8, reference type
value:
  p1 {
    x:3, y:-42, z:1,
    1/11/2024 8:12:00 AM
  }


-------------------------------------------------------
  Differences between value and reference types
-------------------------------------------------------

------------------------------------------------------------
  Assignment of reference types assigns their references,
  creating two references to the same instance in managed
  heap, so variables are coupled through single instance.
------------------------------------------------------------

--- Point4D val1 = new Point4D(): ref construction ---

  val1 {
    x:1, y:2, z:3,
    1/11/2024 8:12:00 AM
  }

val1 - address: 0x26f1d818520

--- Point4D val2 = new Point4D(3, 2, 1) ---

  val2 {
    x:3, y:2, z:1,
    1/11/2024 8:12:00 AM
  }

val2 - address: 0x26f1d818898

--- val1 = val2: ref assignment ---
val1 - address: 0x26f1d818898
val2 - address: 0x26f1d818898

val2 is same object as val1

--- val2.z = 42; ---

val2 is same object as val1
  val2 {
    x:3, y:2, z:42,
    1/11/2024 8:12:00 AM
  }

  val1 {
    x:3, y:2, z:42,
    1/11/2024 8:12:00 AM
  }

------------------------------------------------------------
  Note! Source of assignment, val1, changed when val2
  changed. Point4D is ref type, so assignment just assigns
  references.
------------------------------------------------------------


</code></pre>
              </div>
            </second-item>
          </splitter-container>
        </div>
        <div style="height:1em;"></div>
        <h3 id="demostring">1.2.4 Demonstrate String</h3>
        <t-b>

        </t-b>
        <t-b>
          The source code is available
          <a target="_blank" href="https://github.com/JimFawcett/Bits/tree/master/CSharp/Cs_Objects">here</a>.
          Download the entire Bits repository
          <a target="_blank" href="https://github.com/JimFawcett/Bits">here</a>.
        </t-b>
        <div class="blockSingle">
          <input type="button" value="RemoteExecute" class="remotebutton" onclick="remote1()" />
          <splitter-container id="container">
            <first-item id="fig5-first" style="width:52%; padding-right:0.5em;">
              <div class="codewrap">
                <pre><code class="language-cpp">/*-------------------------------------------------------------------*/                              
static void DemoString() {
  Display.ShowLabel(
    &quot;Instances of string are reference types, but simulate&#92;n  &quot; +
    &quot;some value behaviors.  String objects are immutable.&#92;n  &quot; +
    &quot;To modify an instance, a new string is created with&#92;n  &quot; +
    &quot;copies of the source string characters inclucing any&#92;n  &quot; +
    &quot;modifications.&quot;, &quot;&quot;, 60
  );
  var str1 = &quot;An immutable string&quot;;
  var str2 = str1;  // copy handle not instance
  Display.IsSameObj(str2, &quot;str2&quot;, str1, &quot;str1&quot;);
  Display.DisplayLabeledObject&lt;string&gt;(str1, &quot;str1&quot;);
  Display.DisplayLabeledObject(str2, &quot;str2&quot;);

  str2 = str2.Remove(0,3);
  Display.IsSameObj(str2, &quot;str2&quot;, str1, &quot;str1&quot;);
  Display.DisplayLabeledObject(str1, &quot;str1&quot;);
  Display.DisplayLabeledObject(str2, &quot;str2&quot;);
  Display.ShowNote(
    &quot;There is no way for change in str2 to affect str1.&quot;, &quot;&quot;, 60
  );
}
</code></pre>
              </div>
            </first-item>
            <splitter-bar id="fig5-seperator"></splitter-bar>
            <second-item id="fig5-second" style="width:48%; padding-right:0.5em;">
              <div class="codewrap">
                <pre><code class="language-shell">
------------------------------------------------------------                                        
  Instances of string are reference types, but simulate
  some value behaviors.  String objects are immutable.
  To modify an instance, a new string is created with
  copies of the source string characters inclucing any
  modifications.
------------------------------------------------------------

str2 is same object as str1
str1: An immutable string
str2: An immutable string
str2 is not same object as str1
str1: An immutable string
str2: immutable string
------------------------------------------------------------
  There is no way for change in str2 to affect str1.
------------------------------------------------------------





</code></pre>
              </div>
            </second-item>
          </splitter-container>
        </div>

        <h4 id="funcs">1.3 Source Code - AnalysisObjects.cs</h4>
        <t-b>
          AnalysisObjects.cs contains functions for analyzing type and properties of objects,
          and for reducing code clutter for display operations.
        </t-b>
        <t-b>
          Several of these are generic and some use reflection. We will focus on those things
          in the <a target="_blank" href="Bits_GenericCSharp.html">Generic Bit</a>, coming up
          next. You don&apos;t need to understand those functions in full to understand how C# objects work.
        </t-b>
        <div class="blockSingle">
          <div class="codewrap" style="float:left; width:65%;">
            <pre style="font-size:1.0em; margin-right:0.75em;"><code class="language-cpp">
/*---------------------------------------------------------
  Cs_Data::AnalysisData.cs
    - class Anal contains static functions that analyze
      types, identities, sizes, and addresses
    - class Display contains static functions that
      provide console displays of headings, notes,
      and operations.
---------------------------------------------------------*/

using System;
using System.Reflection;
using System.Reflection.Emit;
using System.Runtime.InteropServices;
using System.Text;
using System.Collections;
using System.Collections.Generic;

namespace Analysis
{
  using Dict = Dictionary&lt;string,int&gt;;
  using KVPair = System.Collections.Generic.KeyValuePair&lt;string,int&gt;;

  public interface IShow {
    void Show(string name);   // show instance state as rows of elements
    int Length { get; }       // total number of elements
    int Width { get; set; }   // number of elements per row
    int Left { get; set; }    // offset from terminal Left
    int Indent {get; set; }   // element indent
  }

  class Anal {

    /*-- simple reflection --*/
    public static void ShowType&lt;T&gt;(T t, String nm, String suffix = &quot;&quot;)
    {
      /*-- t! asserts that t is not null --*/
      Type tt = t!.GetType();
      Console.WriteLine(&quot;{0}: Type: {1}&quot;, nm, tt.Name);
      int size = Anal.GetManagedSize(tt);
      Console.WriteLine(&quot;value: {0}&#92;nsize: {1}{2}&quot;, t, size, suffix);
    }
    /*-- are references equal? --*/
    public static void IsSameObj&lt;T&gt;(
      T t1, String n1, T t2, String n2, string suffix = &quot;&quot;
    ) {
      if(ReferenceEquals(t1, t2)) {
        Console.WriteLine(
          &quot;{0} is same object as {1}{2}&quot;, n1, n2, suffix
        );
      }
      else {
        Console.WriteLine(
          &quot;{0} is not same object as {1}{2}&quot;, n1, n2, suffix);
      }
    }
    /*--
      uses advanced reflection
      - GetMangedSize(Type type) is function that returns the size of
        value types and handles.
        It is used to help discover how things work.
        It is placed here because it uses advanced techniques that
        will eventually be covered elsewhere in this site.  Knowing
        how it works is not essential for the things we are examining
        in this demo.
    --*/
    // https://stackoverflow.com/questions/8173239/c-getting-size-of-a-value-type-variable-at-runtime/8173293#8173293
    public static int GetManagedSize(Type type)
    {
      // all this just to invoke one opcode with no arguments!
      var method = new DynamicMethod(
        &quot;GetManagedSizeImpl&quot;, typeof(uint), new Type[0],
        typeof(TypeExtensions), false
      );

      ILGenerator gen = method.GetILGenerator();
      gen.Emit(OpCodes.Sizeof, type);
      gen.Emit(OpCodes.Ret);

      var func = (Func&lt;uint&gt;)method.CreateDelegate(typeof(Func&lt;uint&gt;));
      return checked((int)func());
    }
    /*-- returns string displaying heap address of ref type instance t --*/
    public static unsafe string ToStringAdddressFromHandle&lt;T&gt;(T t) {
      string addrstr = &quot;for handle&#92;n&quot;;
      try {
        GCHandle handle = GCHandle.Alloc(t, GCHandleType.Pinned);
        IntPtr address = handle.AddrOfPinnedObject();
        addrstr = &quot;address: &quot; + String.Format(&quot;0x&quot; + address.ToString(&quot;x&quot;));
        handle.Free();
        return addrstr + &quot;&#92;n&quot;;
      }
      catch {
        Console.WriteLine(&quot;GCHandle exception thrown&quot;);
      }
      return addrstr;
    }
    /*-- unsafe cast pointer to address of value type --*/
    #pragma warning disable 8500
    /*
      Suppresses warning about taking address of managed type.
      The pointer is used only to show the address of ptr
      as part of analysis of copy operations.
    */
    public static unsafe string ToStringAddress&lt;T&gt;(T* ptr) {
      if(ptr == null) {
        return &quot;&quot;;
      }
      IntPtr addr = (IntPtr)ptr;
      string addrstr = string.Format(&quot;address: 0x&quot; + addr.ToString(&quot;x&quot;));
      return addrstr;
    }
    #pragma warning restore 8500
  }
  class Display
  {
    public static String Spaces(int i) {
      return new String(' ', i);
    }
    public static void ShowOp(String op, String suffix = &quot;&quot;) {
      Console.WriteLine(&quot;--- {0} ---{1}&quot;, op, suffix);
    }
    /*-- more advanced reflection --*/
    // https://stackoverflow.com/questions/7613782/iterating-through-struct-members
    public static void Iterate&lt;T&gt;(T t) /*where T:new()*/ {
      Console.WriteLine(&quot;fields:&quot;);
      foreach(
        var field in typeof(T).GetFields(
          BindingFlags.Instance | 
          BindingFlags.NonPublic | 
          BindingFlags.Public
        )
      ) {
        Console.WriteLine(
          &quot;  {0} = {1}&quot;, field.Name, field.GetValue(t)
        );
      }
      Console.WriteLine(&quot;methods:&quot;);
      foreach(
        var method in typeof(T).GetMethods(
          BindingFlags.Instance | BindingFlags.Public
        )
      ) {
        Console.WriteLine(
          &quot;  {0}&quot;, method.Name
        );
      }
    }
    public static void ShowNote(
      string s, string suffix = &quot;&quot;, int length = 35
    ) {
      string line = new string('-', length);
      Console.WriteLine(line);
      Console.WriteLine(&quot;  {0}&quot;, s);
      Console.WriteLine(line + suffix);
    }
    /*-- Anal.ShowType with additional output --*/
    public static void ShowType&lt;T&gt;(T t, string nm) {
      Type tt = t!.GetType();
      string tnm = tt.Name;
      if(tt.IsGenericType) {
        if(tnm.Length &gt; 1) {
          tnm = tnm.Remove(tnm.Length - 2) + &quot;&lt;T&gt;&quot;;
        }
      }
      Console.Write(&quot;{0}: {1}, &quot;, nm, tnm);
      int size = Anal.GetManagedSize(tt);
      Console.Write(&quot;size: {0}, &quot;, size);
      if (tt.IsValueType) {
        Console.WriteLine(&quot;value type&quot;);
      }
      else {
        Console.WriteLine(&quot;reference type&quot;);
      }
    }
    /*-------------------------------------------------
    Display information about the type of any scalar type.
    - scalar types are those with a single value like:
      int, double, string, ...
    */
    public static void ShowTypeScalar&lt;T&gt;(
      T t, string nm, string suffix = &quot;&quot;
    )
    {
      ShowType(t, nm);
      Console.WriteLine(&quot;value: &#92;&quot;{0}&#92;&quot;{1}&quot;, t, suffix);
    }
    /*-------------------------------------------------
    Show type information for any type that implements
    the IShow interface
    */
    public static void ShowTypeShowable&lt;T&gt;(
      T t, string nm, string suffix=&quot;&quot;
    )
    where T:IShow
    {
      ShowType(t, nm);
      Console.WriteLine(&quot;value:&quot;);
      t.Show(nm);     // guaranteed by IShow implementation
      Console.Write(suffix);
    }
    /*-------------------------------------------------
      In Cs_Generic we will show how to implement a
      show function for the enumerable types below.
    */
    public static void ShowIntArray(int[] arr, string suffix=&quot;&quot;)
    {
      Console.Write(&quot;[ {0}&quot;, arr[0]);
      for (int i = 1; i &lt; arr.Length; i++)
      {
        Console.Write(&quot;, &quot; + arr[i] + &quot; &quot;);
      }
      Console.Write(&quot;]&#92;n&quot; + suffix);
    }
    public static void ShowDoubleList(
      string nm, List&lt;double&gt; list, string suffix=&quot;&quot;
    ) {
      Console.Write(&quot;{0}: [ {1}&quot;, nm, list[0]);
      for (int i = 1; i &lt; list.Count; i++)
      {
        Console.Write(&quot;, &quot; + list[i] + &quot; &quot;);
      }
      Console.Write(&quot;]&#92;n&quot; + suffix);
    }
    public static void ShowDictionary(
      string nm,
      Dictionary&lt;int, string&gt; dict, string suffix=&quot;&quot;
    )
    {
      Dictionary&lt;int, string&gt;.KeyCollection keyColl = dict.Keys;
      Console.Write(&quot;{0}: [ &quot;, nm);
      foreach(KeyValuePair&lt;int, string&gt; entry in dict)
      {
        Console.Write(&quot;{{{0},{1}}} &quot;, entry.Key, entry.Value);
      }
      Console.Write(&quot;]&#92;n&quot; + suffix);
    }
    /*-------------------------------------------------
      Surround note with empty lines
    */
    public static void ShowLabel(string s, string suffix=&quot;&quot;, int len=35) {
      Console.WriteLine();
      ShowNote(s, suffix, len);
      Console.WriteLine();
    }
    /*-------------------------------------------------
      Provides name of caller, nm, as label for IShow() information.
      - works for all Showable instances
    */
    public static void ShowLabeledObject&lt;T&gt;(
      T t, string nm
    ) where T:IShow {
      t.Show(nm);
    }
    /*-------------------------------------------------
      Provides name of caller, nm, as label for value.
      - works for all T with ToString.
    */
    public static void DisplayLabeledObject&lt;T&gt;(T t, string nm) {
      Console.WriteLine(&quot;{0}: {1}&quot;, nm, t!.ToString());
    }
    public static void print(String s = &quot;&quot;) {
      Console.Write(s);
    }
    public static void println(String s = &quot;&quot;) {
      Console.WriteLine(s);
    }
  }
}</code></pre>
          </div>
          <div class="textwrap">
            <h4>File Structure:</h4>
            <t-b>
              AnalysisObjects.cs defines a namespace &quot;<c-s>Analysis</c-s>&quot; which defines
              an interface for displaying user-defined objects and two classes,
              &quot;<c-s>Anal</c-s>&quot; and &quot;<c-s>Display</c-s>&quot; for analyzing object
              types and properties and for displaying values, respectively.
            </t-b>
            <h4>Interface:</h4>
            <t-b>
              <c-s>IShow</c-s> declares one method and four properties that implementors must 
              provide. It guarantees display properties for all user-defined types that
              implement it.
            </t-b>
            <t-b>
              The method <c-s>ShowTypeShowable&lt;T&gt;</c-s> can accept any type that implements
              the <c-s>IShow</c-s> interface. This abstraction over behavior allows us to build
              flexible code that reduces duplication and is easier to understand.
            </t-b>
            <h4>Anal Class:</h4>
            <t-b>
              The method <c-s>ShowType&lt;T&gt;</c-s> uses simple reflection to display type 
              information, value, and size. Some quite sophisticated reflection is hidden within
              the <c-s>GetManagedSize</c-s> method it calls.
            </t-b>
            <t-b>
              <c-s>IsSameObj&lt;T&gt;</c-s> uses <c-s>System.ReferenceEquals</c-s> to determine if
              two handles point to the same instance in the managed heap. It is used to demonstrate
              the behavior of references when constructed from a source object and when assigned.
            </t-b>
            <t-b>
              <c-s>ToStringAddressFromHandle&lt;T&gt(T t)</c-s> evaluates the managed heap address
              to which t binds. It is used to confirm the results of <c-s>IsSameObj&lt;T&gt;</c-s>.
            </t-b>
            <t-b>
              <c-s>ToStringAddress&lt;T&gt:</c-s> extracts the address of a value type and
              returns a string representation of the address. It was used in earlier versions
              of this code, but is not used now.  It is here to illustrate two things: how to
              find the address of value instances in stack memory and use of unsafe blocks.
            </t-b>
            <t-b>
              This function must be declared unsafe because it uses a pointer, but does so in a
              safe way, e.g., simply returns a string representation.
            </t-b>
            <h4>Display Class:</h4>
            <t-b>
              Most of the functions in <c-s>Display</c-s> are easy to understand. Focusing on the
              less obvious, <c-s>Iterate&lt;T&gt;</c-s> uses reflection to display the fields and
              methods of <c-s>T</c-s>.  It isn&apos;t used in this demo, but is included to help
              you explore various types used in the RemoteExecution operations.
            </t-b>
            <t-b>
              Method <c-s>ShowTypeShowable&lt;T&gt;</c-s> illustrates how types are restricted to
              those that implement <c-s>IShow</c-s> with the constraint 
              &quot;<c-s>where T:Ishow</c-s>&quot;.
            </t-b>
            <t-b>
              The methods <c-s>ShowIntArray</c-s>, <c-s>ShowDoubleList</c-s>, and
              <c-s>ShowDictionary</c-s> all use for-loop iteration to display collection
              contents.
            </t-b>
            <t-b>
              We will show in <a target="_blank" href="Bits_GenericCSharp.html">Generic C#</a>
              and <a class="undefined" target="_blank" href="#">Iter C#</a> more general methods
              to display collection contents
              that accept many different types of arguments by using standard library defined
              interfaces.
            </t-b>
          </div>
        </div>
        <h4 id="build">3.0 Build</h4>
        <t-b>
          The left panel shows this project built with the dotnet CLI. The CLI interface has
          commands: build, run, clean, new, format, ...  You can see all of the commands using
          the command &quot;<c-s>dotnet -h</c-s>&quot;.
        </t-b>
        <t-b>
          The right panel contains XAML code for the project Cs_Objects.csproj. That file was
          built with the <c-s>dotnet new</c-s> command. Note that the project contains an element
          configuring the build to allow unsafe code.  That is needed because one of the
          analysis functions uses an unsafe block to extract an address from a managed instance.
        </t-b>
        <t-b>
          Note that you do not need to, and should not, configure the Visual Studio Code launch
          file and task file for this code usage. It has to be done in the project file.
        </t-b>
        <div class="blockSingle">
          <div class="codewrap" style="float:left; width:50%;">
            <strong>Terminal</strong>
            <pre style="font-size:1.0em; margin-right:0.75em;"><code class="language-cpp">
C:&#92;github&#92;JimFawcett&#92;Bits&#92;CSharp&#92;Cs_Objects
&gt; dotnet build
MSBuild version 17.4.1+fedecea9d for .NET
  Determining projects to restore...
  All projects are up-to-date for restore.
  Cs_Objects -&gt; C:&#92;github&#92;JimFawcett&#92;Bits&#92;CSharp&#92;Cs_Ob
  jects&#92;bin&#92;Debug&#92;net7.0&#92;Cs_Objects.dll

Build succeeded.
    0 Warning(s)
    0 Error(s)

Time Elapsed 00:00:00.92
C:&#92;github&#92;JimFawcett&#92;Bits&#92;CSharp&#92;Cs_Objects
&gt;
</code></pre>
          </div>
          <div class="codewrap" style="float:left; width:50%;">
            <strong>Cs_Objects.csproj</strong>
            <pre style="font-size:1.0em; margin-right:0.75em;"><code class="language-cpp">
&lt;Project Sdk=&quot;Microsoft.NET.Sdk&quot;&gt;
  &lt;PropertyGroup&gt;
    &lt;OutputType&gt;Exe&lt;/OutputType&gt;
    &lt;TargetFramework&gt;net7.0&lt;/TargetFramework&gt;
    &lt;ImplicitUsings&gt;enable&lt;/ImplicitUsings&gt;
    &lt;Nullable&gt;enable&lt;/Nullable&gt;
    &lt;AllowUnsafeBlocks&gt;true&lt;/AllowUnsafeBlocks&gt;
  &lt;/PropertyGroup&gt;
&lt;/Project&gt;






</code></pre>
            </div>
            </div>
          <h3 id="ide">4.0 VS Code View</h3>
          <t-b>
            The code for this demo is available in
            <a target="_blank" href="https://github.com/JimFawcett/Bits">github.com/JimFawcett/Bits</a>. If you click on
            the Code dropdown you can clone the repository of all code for these demos to your local drive.
            Then, it is easy to bring up any example, in any of the languages, in VS Code.
          </t-b>
          <t-b>
            Here, we do that for CSharp\CSharp_Objects.
          </t-b>
          <photosizer-block src="pictures/VS_Code_CSharp_Objects.JPG" width="800" class="photoSizerBlock left"
                            style="overflow-x:auto;">
            <span style="font-family:'Comic Sans MS';">Figure 1. VS Code IDE - C# Objects</span>
          </photosizer-block>
          <photosizer-block src="pictures/LaunchJSON_CSharp_Objects.JPG" width="800" class="photoSizerBlock left"
                            style="overflow-x:auto;">
            <span style="font-family:'Comic Sans MS';">Figure 2. C# Launch.JSON</span>
          </photosizer-block>
          <photosizer-block src="pictures/VS_Code_Debugging_CSharp_Objects.JPG" width="800" class="photoSizerBlock left"
                            style="overflow-x:auto;">
            <span style="font-family:'Comic Sans MS';">Figure 3. Debugging C# Objects</span>
          </photosizer-block>
          <!--<photosizer-block src="pictures/VS_Code_Cpp_Plugins.jpg" width="700" class="photoSizerBlock left">
    <span style="font-family:'Comic Sans MS';">Figure 3. C++ Plugins</span>
  </photosizer-block>-->

          <div style="height:0.75em;" class="clear"></div>
          <h3 id="refs">3.0 References</h3>
          <table class="indent">
            <tr>
              <th class="darkItem">Reference</th>
              <th class="darkItem">Description</th>
            </tr>
            <tr>
              <td>
                <a target="_blank" href="https://www.w3schools.com/cs/index.php">C# Tutorial - w3schools</a>
              </td>
              <td>
                Interactive examples
              </td>
            </tr>
            <tr>
              <td>
                <a target="_blank" href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/">C# Reference - Microsoft</a>
              </td>
              <td>
                Relatively complete informal language reference
              </td>
            </tr>
          </table>
          <div style="height:10em;"></div>
</content>
      <a id="bottom"></a>
      <page-TOC id="pages" style="display:none;">
      </page-TOC>
      <!-- <page-sections id="sections" style="display:flex;">
        <menu-elem style="width:0.0em">&nbsp;</menu-elem>
        <menu-elem class="secElem"><a href="#bottom">bottom</a></menu-elem>
        <menu-elem class="secElem"><a href="#refs">refs</a></menu-elem>
        <menu-elem class="secElem"><a href="#ide">VS Code</a></menu-elem>
        <menu-elem class="secElem"><a href="#build">bld</a></menu-elem>
        <menu-elem class="secElem"><a href="#out">out</a></menu-elem>
        <menu-elem class="secElem"><a href="#analysis">anal</a></menu-elem>
        <menu-elem class="secElem"><a href="#points">pts</a></menu-elem>
        <menu-elem class="secElem"><a href="#source">src</a></menu-elem>
        <menu-elem class="secElem"><a href="#code">codeSnaps</a></menu-elem>
        <menu-elem class="secElem"><a href="#top">top</a></menu-elem>
      </page-sections> -->
    </main>
    <!-- <frame-footer>
      <menu-item style="width:1.0em;">&nbsp;</menu-item>
      <menu-elem id="nextLink2" onclick="bottomMenu.next()">Next</menu-elem>
      <menu-elem id="prevLink2" onclick="bottomMenu.prev()">Prev</menu-elem>
      <menu-elem id="pgbtn" onclick="bottomMenu.pages()">Pages</menu-elem>
      <menu-elem onclick="bottomMenu.sections()">Sections</menu-elem>
      <menu-elem onclick="bottomMenu.about()">About</menu-elem>
      <menu-elem id="kysbtn" onclick="storyHlpMenu.keys()">Keys</menu-elem>
      <menu-elem style="margin-right:5em">
        <span id="loc" style="display:inline-block; font-weight:normal"></span>
      </menu-elem>
    </frame-footer> -->
  </page-frame>
  <!-- <script>
    let loc = document.getElementById("loc");
    let fn = window.location.href.split(/\/|\\/).pop();
    loc.innerHTML = fn;
  </script>
  <script>
    getScroll();
  </script> -->
  <script>
    onLoadSplitter("fig2");
    onLoadSplitter("fig3");
    onLoadSplitter("fig4");
    onLoadSplitter("fig5");
  </script>
</body>
</html>