<!DOCTYPE html>
<html>
<!--
  DesignBites.html
-->
<head>
  <title>Design Bites Repo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/StylesPageFrameDefaults.css" />
  <link rel="stylesheet" href="css/StylesPageFrameStructure.css" />
  <link rel="stylesheet" href="css/StylesPageFrameMenus.css" />
  <link rel="stylesheet" href="css/StylesPageFrameThemeDefault.css" />
  <link rel="stylesheet" href="css/StylesWebComponents.css" />
  <script src="js/ScriptsWebComponents.js"></script>
  <script src="js/ScriptsPageFrameOtherRepos.js"></script>
  <script src="js/ScriptsPageFramePagesOtherRepos.js"></script>
  <script src="js/ScriptsPageFrameKeyboard.js"></script>
  <style>
    #github .darkItem {
      background-color: var(--dark);
      color: var(--light);
    }

      #github .darkItem a {
        color: var(--light);
      }

    #github summary {
      padding: 3px 0px 5px 0px;
    }

    #github ul.tight > li {
      margin-bottom: 2px;
    }

    #github .undefined {
      opacity: 0.4;
    }

    #github hr {
      margin-top: 0.5em;
      margin-bottom: 0.25em;
      margin-left: -2em;
    }

    #github div ol > li { /* white-space: nowrap;*/
    }

    #github menu-item {
      display: inline-block;
      width: 12em;
      font-weight: normal;
    }

    menu-right {
      display: inline-block;
    }
  </style>
  <script>
    function loadifdesign() {
      var loc = window.location.href;
      if (window.self === window.top) {
        /*alert('top');*/
        window.location.href = 'TOCDesign.html?src=' + loc;
      }
      else {
        /*alert('not top');*/
        /*window.top.location.href = loc;*/
        window.top.location.href = loc;
      }
    }
  </script>
</head>
<body id="github" onload="initialize()">

  <a id="Next" href="BitsRepo.html">N</a>
  <a id="Prev" href="BasicBiteByByte.html">P</a>

  <page-frame>
    <frame-header>
      <nav id="navbar"></nav>
    </frame-header>
    <main>
      <div id="about" onclick="this.style.display = 'none'">about</div>
      <div id="modified">2/21/2022</div>
      <div id="page">DesignBites Repo</div>
      <div id="hlp"></div>
      <a id="top"></a>
      <content>
        <header>
          <a target="_blank" class="repoLink" href="https://github.com/JimFawcett/DesignBites">DesignBites Code Repo</a>
          <hgroup id="pagetitle" onclick="loadifdesign()" style="cursor:pointer;">
            <h1 id="title">DesignBites&nbsp;&nbsp;Repository</h1>
            <h3 id="subtitle">Short story about Design, with code examples</h3>
          </hgroup>

          <div class="quickStatusContainer" onmouseleave="closeQuickStatus()">
            <details>
              <summary class="darkItem quickStatus">Quick Status</summary>
              <status-grid class="lightItem border">
                <status-itemLeft>
                  Many short bites and demos
                </status-itemLeft>
                <status-itemRight>
                  no known defects
                </status-itemRight>
                <status-itemLeft>
                  Demonstration code
                </status-itemLeft>
                <status-itemRight>
                  a few examples, more later
                </status-itemRight>
                <status-itemLeft>
                  Documentation
                </status-itemLeft>
                <status-itemRight>
                  yes
                </status-itemRight>
                <status-itemLeft>
                  Test cases
                </status-itemLeft>
                <status-itemRight>
                  NA
                </status-itemRight>
                <status-itemLeft>
                  Static library
                </status-itemLeft>
                <status-itemRight>
                  NA
                </status-itemRight>
                <status-itemLeft>
                  Build requires
                </status-itemLeft>
                <status-itemRight>
                  Rust, C++, C# installed
                </status-itemRight>
                <status-itemLeft>
                  Planned design changes
                </status-itemLeft>
                <status-itemRight>
                  Add more bites and demo code
                  <div style="height:0.5em;"></div>
                </status-itemRight>
              </status-grid>
            </details>
          </div>
        </header>

        <spacer-15></spacer-15>
        <div style="display:flex;">
          <indent-block style="position:relative; z-index:10; background-color:#fefefa; display:inline; padding:0px 10px; max-width:70%;">
            &quot;We want to make our programs elegant and simple, make their intents clear, and make them
            quick and reliable.  That is most likely to happen if we think first about design.&quot;<br />
            - <a href="Blog.html">First Things</a> blog
          </indent-block>
        </div>
        <hr class="spread" />
        <div>
          <h3 id="contents">Contents:</h3>
          <t-b>
            <a href="#steps">Bites List</a>, <a href="#summary">Structures List</a><br />
            <a href="indexDesign.html">Design Track Summary - first Bite</a>
          </t-b>
          <indent-blocks>
            <t-b>
              Design Bites are a short sequence of pages, each focused on a specific aspect of software design.
              They are brief, pragmatic, and relevent to things we do professionally.
            </t-b>
            <t-b>
              The design examples: Basic, Factored, DataFlow, TypeErase, and PlugIn all have code that implements
              a simple file line counting process, along with commentary about what distinguishes each.
            </t-b>
            <t-b>
              That simplicity allows us to focus on the structure of the design - how are these structures different?
              Why should we chose one? How do we implement it?
            </t-b>
            <t-b>
              <a id="steps"></a>
              <div style="height: 0.25rem;"></div>
            </t-b>
            <h3 id="bites">Bites:</h3>
            <t-b>
              Here are the current Design Bites:
            </t-b>
            <div class="indents">
              <ol class="tight" start="1">
                <li class="top">
                  <hr />
                  <menu-item class="top"><a href="indexDesign.html">Design Track Summary</a></menu-item><br />
                  <menu-right>
                    Design: What?, Why?, So What?, Why Not?
                  </menu-right>
                </li>
                <li class="top">
                  <hr />
                  <menu-item class="top"><a href="Resources/DesignBites/DesignBites_Intro.html">Introduction</a></menu-item><br />
                  <menu-right>
                    TextFinder design: Concept development, Architecture, TextFinder Specification, Implementation
                  </menu-right>
                </li>
                <li class="top">
                  <hr />
                  <menu-item class="top"><a href="Resources/DesignBites/Design.html">Design</a></menu-item><br />
                  <menu-right>
                    Initial thoughts about design: concept, design, design evolution, design document, building a design,
                    presenting designs
                  </menu-right>
                </li>
                <li class="top">
                  <hr />
                  <menu-item class="top"><a href="Resources/DesignBites/DesignBites_Structure.html">Structure</a></menu-item><br />
                  <menu-right>
                    Why does TextFinder require a flow architecture?
                  </menu-right>
                </li>
                <li class="top">
                  <hr />
                  <menu-item class="top"><a href="Resources/DesignBites/DesignBites_StructureBasic.html">Basic</a></menu-item><br />
                  <menu-right>
                    Monolithic structure with code implementing file line counting.
                  </menu-right>
                </li>
                <li class="top">
                  <hr />
                  <menu-item class="top"><a href="Resources/DesignBites/DesignBites_StructureFactored.html">Factored</a></menu-item><br />
                  <menu-right>
                    Factored: Executive, Input, Compute, Output - code with user-defined types and tests.
                  </menu-right>
                </li>
                <li class="top">
                  <hr />
                  <menu-item class="top"><a href="Resources/DesignBites/DesignBites_StructureDataFlow.html">DataFlow</a></menu-item><br />
                  <menu-right>
                    DataFlow: components arranged in data pipeline - code with user-defined types and tests.
                  </menu-right>
                </li>
                <li class="top">
                  <hr />
                  <menu-item class="top"><a href="Resources/DesignBites/DesignBites_StructureTypeErase.html">TypeErase</a></menu-item><br />
                  <menu-right>
                    TypeErase: components with interfaces and object factories - code with user-defined types and tests.
                  </menu-right>
                </li>
                <li class="top">
                  <hr />
                  <menu-item class="top"><a href="Resources/DesignBites/DesignBites_StructurePlugIn.html">PlugIn</a></menu-item><br />
                  <menu-right>
                    PlugIn: Output component is plugged into Compute at run-time - code with user-defined types and tests.
                  </menu-right>
                </li>
                <!--<li class="undefined top">
                  <hr />
                  <menu-item class="top"><a href="Javascript:;">Concurrency Extension</a></menu-item><br />
                  <menu-right>
                    parallel_search extension: references, example implementation
                    Next Step: New Project?
                  </menu-right>
                </li>-->
              </ol>
            </div>
            <div style="height:0.75rem;"></div>
            <h3 id="summary">Summary of Structures:</h3>
            <t-b>
              <div class="indent">
                <t-b>
                  The structure demos, below, all implement the same simple functionality: count lines in a specified file.
                  The purpose is to keep code small enough that it is easy to see how structural variations
                  affect size and complexity.
                </t-b>
                <t-b>
                  Each of the structures, presented in the table below, has implementing Rust Code in
                  <a href="https://github.com/JimFawcett/DesignStructure">DesignStructure Code</a> repository.
                  You can see there what is required to support each of them and Rust idioms needed to make
                  that work.
                  <div style="height:0.75rem;"></div>
                </t-b>
                <table style="width:calc(100vw - 12rem);">
                  <tr>
                    <th>Structure</th>
                    <th>Diagram</th>
                    <th>size</th>
                    <th>Pros - The good news is:</th>
                    <th>Cons&nbsp;-&nbsp;the&nbsp;bad&nbsp;news&nbsp;is:</th>
                    <th>What changed</th>
                  </tr>
                  <tr>
                    <td>Basic</td>
                    <td>
                      <photosizer-block src="Resources/DesignBites/pictures/Design1.jpg" width="150" class="photoSizerBlock" style="margin-top:0;">
                        <span style="
                    display: inline-block;
                    font-weight: bold;
                    font-family: 'Comic Sans MS, Tahoma';
                    background-color: #ddd;
                    width: 100%;
                    padding: 5px 0px;
                  ">
                          Fig 1. Basic
                        </span>
                      </photosizer-block>
                    </td>
                    <td>120&nbsp;lines</td>
                    <td>
                      simple,&nbsp;easy&nbsp;to&nbsp;test&nbsp;for small&nbsp;code&nbsp;sizes
                    </td>
                    <td>
                      as code size increases: hard to understand and test
                    </td>
                    <td>nothing yet</td>
                  </tr>
                  <tr>
                    <td>Factored</td>
                    <td>
                      <photosizer-block src="Resources/DesignBites/pictures/Design2.jpg" width="150" class="photoSizerBlock" style="margin-top:0;">
                        <span style="
                    display: inline-block;
                    font-weight: bold;
                    font-family: 'Comic Sans MS, Tahoma';
                    background-color: #ddd;
                    width: 100%;
                    padding: 5px 0px;
                  ">
                          Fig 2. Factored
                        </span>
                      </photosizer-block>
                    </td>
                    <td>336&nbsp;lines</td>
                    <td>
                      If only one package is changed, only that one is compiled.
                      Much easier to understand and test.
                    </td>
                    <td>
                      Project gets more complex with more pieces to track and deploy.
                      Executive has to participate in each stage of the processing.
                    </td>
                    <td>
                      Created three new packages, all of which Executive depends on.
                    </td>
                  </tr>
                  <tr>
                    <td>DataFlow</td>
                    <td>
                      <photosizer-block src="Resources/DesignBites/pictures/Design4.jpg" width="150" class="photoSizerBlock" style="margin-top:0;">
                        <span style="
                    display: inline-block;
                    font-weight: bold;
                    font-family: 'Comic Sans MS, Tahoma';
                    background-color: #ddd;
                    width: 100%;
                    padding: 5px 0px;
                  ">
                          Fig 3. DataFlow
                        </span>
                      </photosizer-block>
                    </td>
                    <td>242&nbsp;lines</td>
                    <td>
                      Continuous output - good ergonomics for user. Executive doesn&apos;t need to handle data.
                    </td>
                    <td>
                      Harder to implement and test piece by piece. Most applications will need test mocks.
                    </td>
                    <td>
                      Changed ownership.  Now have a chain of dependencies.  Each user-defined type depends on its downstream
                      sibling.
                    </td>
                  </tr>
                  <tr>
                    <td>TypeErase</td>
                    <td>
                      <photosizer-block src="Resources/DesignBites/pictures/Design5.jpg" width="150" class="photoSizerBlock" style="margin-top:0;">
                        <span style="
                    display: inline-block;
                    font-weight: bold;
                    font-family: 'Comic Sans MS, Tahoma';
                    background-color: #ddd;
                    width: 100%;
                    padding: 5px 0px;
                  ">
                          Fig 4. TypeErase
                        </span>
                      </photosizer-block>
                    </td>
                    <td>284&nbsp;lines</td>
                    <td>
                      Same as DataFlow plus Input, Compute, and Output are now decoupled.  Each depends only
                      on interfaces provided by upstream component.
                    </td>
                    <td>
                      Construction is more complex.  Each component needs to use factory function to create
                      its down-stream component.
                    </td>
                    <td>
                      Introduced traits specified by caller and implemented by called.  That reverses the dependency
                      chain, so called depends on caller.
                    </td>
                  </tr>
                  <tr>
                    <td>PlugIn</td>
                    <td>
                      <photosizer-block src="Resources/DesignBites/pictures/Design6.jpg" width="150" class="photoSizerBlock" style="margin-top:0;">
                        <span style="
                    display: inline-block;
                    font-weight: bold;
                    font-family: 'Comic Sans MS, Tahoma';
                    background-color: #ddd;
                    width: 100%;
                    padding: 5px 0px;
                  ">
                          Fig 5. PlugIn
                        </span>
                      </photosizer-block>
                    </td>
                    <td>321&nbsp;lines</td>
                    <td>
                      Same as TypeErase plus freedom to define Output
                      processing at run-time through a polymorphic dispatch. The Executive can decide which of
                      several output implementations to use based on command line input.
                    </td>
                    <td>
                      Same as TypeErase plus Executive needs access to Compute to configure it with Output.
                    </td>
                    <td>
                      Removed parameterization of Compute since we want to specify Output at run-time.  Need to hold
                      Output in an Option since it is not available until after startup.
                    </td>
                  </tr>
                </table>
                <div style="height:0.75rem;"></div>
                <t-b>
                  The <a target="_blank" href="https://github.com/JimFawcett/DesignStructure">Design Structure code</a> is a good place
                  to increase your familiarity with Rust syntax and idoms.
                </t-b>
              </div>
            </t-b>
            <s-1Em></s-1Em>
            <!--<t-b>
              The current plan is to conduct a Zoom remote session for each step, perhaps bi-weekly or once a month.
              We will record that and post along with step code.
            </t-b>
            <t-b>
              These steps present relatively small simple demonstration codes, and a few that are larger.
              We may, if enthusiasm holds, start a new project after this is complete.
            </t-b>
            <t-b>
              <a id="code"></a>
              <s-halfEm></s-halfEm>
            </t-b>-->
          </indent-blocks>
        </div>
        <spacer-25></spacer-25>
        <!--<img class="strip-photo" src="Pictures/CampusAtNight.jpg" alt="campus at night" />-->

      </content>
      <a id="bottom"></a>
      <page-TOC id="pages" style="display:none;">
      </page-TOC>
      <page-sections id="sections" style="display:none;">
        <sec-elem style="width:0.0em">&nbsp;</sec-elem>
        <menu-elem class="secElem"><a href="#bottom">bottom</a></menu-elem>
        <menu-elem class="secElem"><a href="#summary">summary</a></menu-elem>
        <menu-elem class="secElem"><a href="#bites">bites</a></menu-elem>
        <menu-elem class="secElem"><a href="#contents">contents</a></menu-elem>
        <menu-elem class="secElem"><a href="#top">top</a></menu-elem>
        <div class='darkItem popupHeader' style="padding:0.25em 2.0em;" onclick="this.parentElement.style.display='none'">Sections</div>
      </page-sections>
    </main>
    <frame-footer>
      <menu-item style="width:1.0em;">&nbsp;</menu-item>
      <menu-elem id="nextLink2" onclick="bottomMenu.next()">Next</menu-elem>
      <menu-elem id="prevLink2" onclick="bottomMenu.prev()">Prev</menu-elem>
      <menu-elem id="pgbtn" onclick="bottomMenu.pages()">Pages</menu-elem>
      <menu-elem onclick="bottomMenu.sections()">Sections</menu-elem>
      <menu-elem onclick="bottomMenu.about()">About</menu-elem>
      <menu-elem id="kysbtn" onclick="storyHlpMenu.keys()">Keys</menu-elem>
      <div style="margin-right:1em">
        <span id="loc" style="display:inline-block; font-weight:normal"></span>
      </div>
    </frame-footer>
  </page-frame>
  <script>
    let loc = document.getElementById("loc");
    let fn = window.location.href.split(/\/|\\/).pop();
    loc.innerHTML = fn + ": ";
  </script>
</body>
</html>