<!DOCTYPE html>
<!--
  StoryTeller_LocalStorage.html - Web app for displaying extensible stories
  Jim Fawcett, Aug 27, 2019
-->
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <meta name="description" content="Software Projects. Code Samples. Software Links" />
  <meta name="keywords" content="Repository, Design, Code" />
  <meta name="Author" content="Jim Fawcett" />
  <meta name="Author" content="James Fawcett" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>StoryTeller</title>
  <script src="js/ScriptsUtilities.js"></script>
  <script src="js/ScriptsTemplate.js"></script>
  <script src="js/ScriptsKeyboard.js"></script>
  <script src="js/ScriptsMenu.js"></script>
  <script src="js/ScriptsStoryTeller_LocalStorage.js"></script>
  <link rel="stylesheet" href="css/StylesTemplate.css" />
  <link rel="stylesheet" href="css/StylesMenu.css" />
  <link rel="stylesheet" href="css/StylesSimpleDropDownMenu.css" />
  <link rel="stylesheet" href="css/StylesTemplate.css" />
  <link rel="stylesheet" href="css/StylesStoryTeller.css" />
</head>
<body id="github" onload="storyTeller.initialize()">
  <!-- this nav element needs to stay to avoid a JavaScript error when initializing -->
  <nav>
    <div id="navbar"></div>
  </nav>

  <navKeys-Container>
    <nav-Key id="sKey" onclick="toggleSwipeEvents()">S</nav-Key>
    <nav-Key id="rKey" onclick="location.reload()">R</nav-Key>
    <nav-Key id="tKey" onclick="scrollPageTop()">T</nav-Key>
    <nav-Key id="bKey" onclick="scrollPageBottom()">B</nav-Key>
    <nav-Key id="hKey" onclick="helpWin()">H</nav-Key>
    <nav-Key id="pKey" onclick="loadPrev()">P</nav-Key>
    <nav-Key id="nKey" onclick="loadNext()">N</nav-Key>
  </navKeys-Container>

  <!-- Defines StoryTeller page layout -->
  <grid-container>
    <div class="header">
      <span class="title">Story Teller</span>
      <span id="pageField" class="pageField">
        <span style="font-size:large;">
          page&nbsp;
          <span id="pageIndex"></span>&nbsp;
          of&nbsp;
          <span id="numItems"></span>
          pages
        </span>
        <span style="font-size:0.75em; overflow-x:hidden;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Requires use of recent versions of Chrome or FireFox to work correctly)</span>
      </span>
    </div>

    <!-- All content is loaded here -->
    <iframe id="slideShow" class="main slideShow" src="" onload="storyTeller.srcChange()" style="width:99.5%; height:99%;"></iframe>

    <div class="right">
      <button id="toggleBtn" class="right navButton" onclick="storyTeller.openNote()">?</button>
      <button id="nextBtn" class="right navButton" onclick="storyTeller.next()">Next</button>
      <button id="prevBtn" class="right navButton" onclick="storyTeller.prev()">Prev</button>
      <button id="currBtn" class="right navButton" onclick="storyTeller.returnToCurr()">Curr</button>
      <button id="firstBtn" class="right navButton" onclick="storyTeller.first()">First</button>
      <button id="lastBtn" class="right navButton" onclick="storyTeller.last()">Last</button>
      <button id="exitBtn" class="right navButton" onclick="window.location = 'index.html'">Exit</button>
      <button id="tBtn" class="right navButton" onclick="storyTellerSwipe.toggleStSwipeEvents()">Swp</button>
      <button id="hBtn" class="right navButton" onclick="storyTeller.openHelp()">Help</button>
    </div>

    <!-- LoadStory button allows user to switch to a different story at any time -->
    <div class="footer">
      <button id="loadBtn" class="footer" onclick="storyTeller.loadStoryList()">Load Story List</button>
      <!-- This button is no longer needed, but may be used later for admin actions -->
      <!--      <button id="retrieveBtn" class="footer" onclick="storyTeller.loadStory()">Load Story</button>-->
      <span-2em></span-2em>
      <button id="storyNameId" class="footer" style="background-color:white; border:none;"></button>
      <button id="pageAddress" class="footer" style="background-color:white; border:none;"></button>

    </div>
  </grid-container>

  <!-- Define elements for page-notes: they slide out with page specific info -->
  <div id="pageNoteContainer" class="pageNotes" onclick="storyTeller.closeNote()">
    <div style="float:right">
      <!--
      <button id="closeButton" onclick="storyTeller.closeNote()">X</button>
      -->
    </div>
    <div>
      Story Specific Page Notes<br />
      --------------------------------
    </div>
    <div id="pageNoteId">
      Page notes are shown here.
    </div>
  </div>

  <!-- Table of Contents dropdown content goes here -->
  <div id="dropdownmenu" class="dropcontainer" style="position:absolute; top:0.47em; right:4.4em; z-index:200;">
    <ul>
      <li class="dropdown">
        <div class="dropbtn">TOC</div>
        <div id="dropDownItems" class="dropdown-content">
          <a href="#" style="background-color:saddlebrown; color:white; padding-left:10px;">Story Pages</a>
        </div>
    </ul>
  </div>
  <script>
    storyTellerSwipe.StInitialize();
  </script>
</body>
</html>